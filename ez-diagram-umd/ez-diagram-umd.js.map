{"version":3,"file":"ez-diagram-umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../node_modules/uuid/dist/esm-browser/rng.js","../../../../node_modules/uuid/dist/esm-browser/regex.js","../../../../node_modules/uuid/dist/esm-browser/validate.js","../../../../node_modules/uuid/dist/esm-browser/stringify.js","../../../../node_modules/uuid/dist/esm-browser/v4.js","../../../../src/model/diagram-node.ts","../../../../src/constants/color.ts","../../../../src/constants/html-labels.ts","../../../../src/constants/direction.ts","../../../../src/view/style/style.ts","../../../../src/config/default-config.ts","../../../../src/config/config.ts","../../../../src/model/edge/edge.ts","../../../../src/model/constraint/constraint.ts","../../../../src/diagram/config.ts","../../../../src/model/vertex/vertex.ts","../../../../src/model/model.ts","../../../../src/model/point.ts","../../../../src/model/rectangle.ts","../../../../src/utils/math.ts","../../../../src/plugin/diagram-plugin.ts","../../../../src/plugin/diagram-plugin-manager.ts","../../../../src/utils/utils.ts","../../../../src/view/canvas/ez-element.ts","../../../../src/view/shape/shape.ts","../../../../src/view/view/view-state.ts","../../../../src/view/shape/vertex-shape.ts","../../../../src/view/shape/editable-vertex-shape.ts","../../../../src/view/shape/simple-editable-vertex-shape.ts","../../../../src/view/shape/built-in/rectangle-shape.ts","../../../../src/view/shape/edge-shape.ts","../../../../src/view/shape/built-in/line/line-shape.ts","../../../../src/view/shape/built-in/flowchart/alternate-process.ts","../../../../src/view/shape/built-in/flowchart/data.ts","../../../../src/view/shape/built-in/flowchart/decision.ts","../../../../src/view/shape/built-in/flowchart/delay.ts","../../../../src/view/shape/built-in/flowchart/display.ts","../../../../src/view/shape/built-in/flowchart/document.ts","../../../../src/view/shape/built-in/flowchart/input-output.ts","../../../../src/view/shape/built-in/flowchart/manual-input.ts","../../../../src/view/shape/built-in/flowchart/manual-operation.ts","../../../../src/view/shape/built-in/flowchart/multi-document.ts","../../../../src/view/shape/built-in/flowchart/off-page-connector.ts","../../../../src/view/shape/built-in/flowchart/on-page-connector.ts","../../../../src/view/shape/built-in/flowchart/predefined-process.ts","../../../../src/view/shape/built-in/flowchart/preparation.ts","../../../../src/view/shape/built-in/flowchart/process.ts","../../../../src/view/shape/built-in/flowchart/terminal.ts","../../../../src/view/shape/built-in/grid-background-shape.ts","../../../../src/view/shape/built-in/line/tree-line-shape.ts","../../../../src/view/shape/built-in/sticker/round-sticker-shape.ts","../../../../src/view/shape/built-in/sticker/stiker-shape.ts","../../../../src/view/shape/shape-manager.ts","../../../../src/event/event.ts","../../../../src/plugin/handler-dom.ts","../../../../src/view/marker/marker.ts","../../../../src/view/marker/built-in/square-marker-shape.ts","../../../../src/view/marker/built-in/triangle-marker-shape.ts","../../../../src/view/marker/marker-register.ts","../../../../src/view/view/view.ts","../../../../src/plugin/selection-plugin/selection-plugin.ts","../../../../src/plugin/single-line-handler/single-line-handler.ts","../../../../src/plugin/single-vertex-handler/single-vertex-handler.ts","../../../../src/plugin/background/background.ts","../../../../src/plugin/hot-key/hot-key-handler.ts","../../../../src/plugin/constant.ts","../../../../src/layout/constant.ts","../../../../src/layout/layout-manager.ts","../../../../src/layout/base-layout.ts","../../../../src/layout/tree-layout/tree-layout.ts","../../../../src/diagram/actions.ts","../../../../node_modules/rxjs/node_modules/tslib/tslib.es6.js","../../../../node_modules/rxjs/dist/esm5/internal/util/isFunction.js","../../../../node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","../../../../node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","../../../../node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","../../../../node_modules/rxjs/dist/esm5/internal/Subscription.js","../../../../node_modules/rxjs/dist/esm5/internal/config.js","../../../../node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","../../../../node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","../../../../node_modules/rxjs/dist/esm5/internal/util/noop.js","../../../../node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","../../../../node_modules/rxjs/dist/esm5/internal/util/errorContext.js","../../../../node_modules/rxjs/dist/esm5/internal/Subscriber.js","../../../../node_modules/rxjs/dist/esm5/internal/symbol/observable.js","../../../../node_modules/rxjs/dist/esm5/internal/util/identity.js","../../../../node_modules/rxjs/dist/esm5/internal/util/pipe.js","../../../../node_modules/rxjs/dist/esm5/internal/Observable.js","../../../../node_modules/rxjs/dist/esm5/internal/util/lift.js","../../../../node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","../../../../node_modules/rxjs/dist/esm5/internal/scheduler/dateTimestampProvider.js","../../../../node_modules/rxjs/dist/esm5/internal/scheduler/Action.js","../../../../node_modules/rxjs/dist/esm5/internal/scheduler/intervalProvider.js","../../../../node_modules/rxjs/dist/esm5/internal/scheduler/AsyncAction.js","../../../../node_modules/rxjs/dist/esm5/internal/Scheduler.js","../../../../node_modules/rxjs/dist/esm5/internal/scheduler/AsyncScheduler.js","../../../../node_modules/rxjs/dist/esm5/internal/scheduler/async.js","../../../../node_modules/rxjs/dist/esm5/internal/scheduled/scheduleArray.js","../../../../node_modules/rxjs/dist/esm5/internal/util/isArrayLike.js","../../../../node_modules/rxjs/dist/esm5/internal/util/isPromise.js","../../../../node_modules/rxjs/dist/esm5/internal/symbol/iterator.js","../../../../node_modules/rxjs/dist/esm5/internal/util/isInteropObservable.js","../../../../node_modules/rxjs/dist/esm5/internal/util/isIterable.js","../../../../node_modules/rxjs/dist/esm5/internal/util/isAsyncIterable.js","../../../../node_modules/rxjs/dist/esm5/internal/util/throwUnobservableError.js","../../../../node_modules/rxjs/dist/esm5/internal/util/isReadableStreamLike.js","../../../../node_modules/rxjs/dist/esm5/internal/observable/from.js","../../../../node_modules/rxjs/dist/esm5/internal/observable/fromArray.js","../../../../node_modules/rxjs/dist/esm5/internal/util/isScheduler.js","../../../../node_modules/rxjs/dist/esm5/internal/util/isDate.js","../../../../node_modules/rxjs/dist/esm5/internal/operators/map.js","../../../../node_modules/rxjs/dist/esm5/internal/util/mapOneOrManyArgs.js","../../../../node_modules/rxjs/dist/esm5/internal/operators/mergeInternals.js","../../../../node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js","../../../../node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js","../../../../node_modules/rxjs/dist/esm5/internal/observable/timer.js","../../../../node_modules/rxjs/dist/esm5/internal/operators/filter.js","../../../../node_modules/rxjs/dist/esm5/internal/operators/tap.js","../../../../node_modules/rxjs/dist/esm5/internal/operators/throttle.js","../../../../node_modules/rxjs/dist/esm5/internal/operators/throttleTime.js","../../../../src/plugin/hot-key/hot-key.ts","../../../../src/plugin/constraint-handler/common.ts","../../../../src/plugin/constraint-handler/connect-vertex.ts","../../../../src/plugin/vertex-text-editor/vertex-text-editor.ts","../../../../src/plugin/constraint-handler/edge-generator.ts","../../../../src/diagram/diagram.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { v4 } from 'uuid';\n\nexport abstract class EzDiagramNode {\n\n    private _id:string;\n\n    private _type:string;\n\n    private _parent:EzDiagramNode;\n\n    constructor(type?:string){\n        this._id = v4();\n        this._type = type;\n    }\n\n    /**\n     * Getter id\n     * @return {string}\n     */\n    public get id(): string {\n        return this._id;\n    }\n\n    /**\n     * Setter id\n     * @param {string} value\n     */\n    public set id(value: string) {\n        this._id = value;\n    }\n\n    /**\n     * Getter type\n     * @return {string}\n     */\n    public get type(): string {\n        return this._type;\n    }\n\n    /**\n     * Setter type\n     * @param {string} value\n     */\n    public set type(value: string) {\n        this._type = value;\n    }\n\n    /**\n     * Getter parent\n     * @return {EzDiagramNode}\n     */\n    public get parent(): EzDiagramNode {\n        return this._parent;\n    }\n    \n    /**\n    * Setter parent\n    * @param {EzDiagramNode} value\n    */\n    public set parent(value: EzDiagramNode) {\n        this._parent = value;\n    }\n\n}","export const COLOR_TRANSPARENT_WHITE = '#ffffff03';\nexport const COLOR_WHITE = 'white';","export const EZ_VIEW_VERTEX_CLASS = 'ez-vertex';\nexport const EZ_VIEW_EDGE_CLASS = 'ez-edge';","export enum EzDirection {\n    TOP,\n    LEFT,\n    BOTTOM,\n    RIGHT,\n    TOP_LEFT,\n    TOP_RIGHT,\n    BOTTOM_LEFT,\n    BOTTOM_RIGHT\n}","import { COLOR_TRANSPARENT_WHITE } from \"../../constants\";\n\ndeclare type SVG_POINTER_EVENTS = 'bounding-box' | 'visiblePainted' | 'visibleFill' | 'visibleStroke' | 'visible' | 'painted' | 'fill' | 'stroke' | 'all' | 'none';\n\nexport const DEFAULT_STROKE_WIDTH = 1;\n\n/** mouse action area is based on shape's real size with expanding tolerence */\nexport const DEFAULT_MOUSE_ACTION_TOLERENCE = 4;\n\nexport interface EzVertexStyleOptions {\n    shape?:string;\n    rotation?:number;\n    editable?:boolean;\n    movable?:boolean;\n    selectable?:boolean;\n\n    fill?:string;\n    stroke?:string;\n    strokeWidth?:number;\n    strokeDasharray?:number[];\n    pointerEvents?:SVG_POINTER_EVENTS;\n\n    /**font styles */\n    color?:string; // font color\n    fontSize?:string; // font size\n}\n\nexport interface EzEdgeStyleOptions {\n    shape?:string;\n    markerStart?:string;\n    markerEnd?:string;\n    direction?: 'vertical' | 'horizontal';\n    selectable?:boolean;\n    editable?:boolean;\n\n\n    fill?:string;\n    stroke?:string;\n    strokeWidth?:number;\n    strokeDasharray?:number[];\n    pointerEvents?:SVG_POINTER_EVENTS;\n}\n\nexport declare type EzStyleOptions = EzVertexStyleOptions | EzEdgeStyleOptions;\n\nexport function getSvgStyle(style:EzStyleOptions):{[key:string]:string}{\n    const svgStyle = {};\n    Object.keys(style).forEach(key=>{\n        if(typeof(style[key])==='string'|| typeof(style[key])==='number') {\n            svgStyle[key] = style[key];      \n        }\n    });\n    if(svgStyle['fill']==='none'){\n        svgStyle['fill'] = COLOR_TRANSPARENT_WHITE;\n    }\n    return svgStyle;\n}\n\nexport function getFontStyles(style:EzStyleOptions){\n    const fontStyleAttributes = ['fontSize', 'color'];\n    const result = {};\n    Object.keys(style).forEach(key=>{\n        if(fontStyleAttributes.some(attrKey=>attrKey === key)){\n            result[key] = style[key];\n        }\n    });\n    return result;\n}\n\n","export const DEFAULT_GRID_SIZE = 1;\nexport const DEFAULT_ROTATION_STEP = 4;\n\n/***********default vertex styles *****************/\nexport const DEFAULT_VERTEX_FILL_COLOR = 'none';\nexport const DEFAULT_VERTEX_STROKE_COLOR = 'black';\nexport const DEFAULT_VERTEX_STROKE_WIDTH = 2;\n/***********default edge styles *****************/\nexport const DEFAULT_EDGE_STROKE = 'black';\nexport const DEFAULT_EDGE_STROKE_WIDTH = 2;\n","import { DEFAULT_STROKE_WIDTH } from '../view/style/style';\nimport {\n    DEFAULT_EDGE_STROKE,\n DEFAULT_EDGE_STROKE_WIDTH,\n DEFAULT_GRID_SIZE, DEFAULT_ROTATION_STEP, DEFAULT_VERTEX_FILL_COLOR, DEFAULT_VERTEX_STROKE_COLOR \n} from './default-config';\n\n\n\nexport class EzConfigManager {\n\n    /**\n     * default style for vertex\n     */\n    static defaultVertexStyle = {\n        fill:DEFAULT_VERTEX_FILL_COLOR, \n        stroke: DEFAULT_VERTEX_STROKE_COLOR,\n        strokeWidth:DEFAULT_STROKE_WIDTH\n    }\n    \n\n    /**\n     * default style for edge   \n     */    \n    static defaultEdgeStyle = {stroke:DEFAULT_EDGE_STROKE,\n        strokeWidth:DEFAULT_EDGE_STROKE_WIDTH};\n\n    /**\n     *  specify rotation angle step , the value should between 0 and 90\n     */\n    private _rotationStep:number = DEFAULT_ROTATION_STEP;\n\n    /**\n     *  when user move element or element handler's bend on a diagram.\n     *  the shortest distance should be the _gridSize \n     */\n    private _gridSize:number = DEFAULT_GRID_SIZE;\n    \n    /**\n     *  specifiy whether the diagram should scale or translate using touch pad or mouse\n     */\n    private _shouldScaleAndTranslate = false;\n\n    /**\n     * Getter shouldScaleAndTranslate\n     * @return {boolean}\n     */\n    public get shouldScaleAndTranslate(): boolean {\n        return this._shouldScaleAndTranslate;\n    }\n    \n    /**\n    * Setter shouldScaleAndTranslate\n    * @param {boolean} value\n    */\n    public set shouldScaleAndTranslate(value: boolean) {\n        this._shouldScaleAndTranslate = value;\n    }\n\n    /**\n     * Getter gridSize\n     * @return {number}\n     */\n    public get gridSize(): number {\n        return this._gridSize;\n    }\n\n    /**\n     * Setter gridSize\n     * @param {number} value\n     */\n    public set gridSize(value: number) {\n        this._gridSize = value;\n    }\n\n    /**\n     * Getter rotationStep\n     * @return {number}\n     */\n    public get rotationStep(): number {\n        return this._rotationStep;\n    }\n\n    /**\n     * Setter rotationStep\n     * @param {number} value\n     */\n    public set rotationStep(value: number) {\n        this._rotationStep = value;\n    }\n\n\n}","import { EzEdgeStyleOptions } from '../../view/style/style';\nimport { EzPoint } from '../point';\nimport { EzVertex } from '..';\nimport { EzConstraint } from '../constraint/constraint';\nimport { EzDiagramNode } from '../diagram-node';\nimport { EzConfigManager } from '../../config/config';\n\nexport class EzEdge extends EzDiagramNode{\n\n    private _points: EzPoint[];\n\n    private _style:EzEdgeStyleOptions;\n\n    private _source:EzVertex;\n\n    private _target:EzVertex;\n\n    private _sourceConstraint:EzConstraint;\n\n    private _targetConstraint:EzConstraint;\n\n    constructor(points:EzPoint[], style:EzEdgeStyleOptions, type?:string) {\n        super(type);\n        this._points = points;\n        this._style = Object.assign({}, EzConfigManager.defaultEdgeStyle, style);\n    }\n\n    public setEndPoint(vertex:EzVertex, constraint:EzConstraint, isSource = false):void {\n        vertex.edges.push(this);\n        if(isSource){\n            this._sourceConstraint = constraint;\n            this._source = vertex;\n        }else {\n            this._targetConstraint = constraint;\n            this._target = vertex;\n        }\n    }\n\n    /**\n     * Getter points\n     * @return {EzPoint[]}\n     */\n    public get points(): EzPoint[] {\n        return this._points;\n    }\n\n    /**\n     * Setter points\n     * @param {EzPoint[]} value\n     */\n    public set points(value: EzPoint[]) {\n        this._points = value;\n    }\n\n    /**\n     * Getter style\n     * @return {EzEdgeStyleOptions}\n     */\n    public get style(): EzEdgeStyleOptions {\n        return this._style;\n    }\n\n    /**\n     * Setter style\n     * @param {EzEdgeStyleOptions} value\n     */\n    public set style(value: EzEdgeStyleOptions) {\n        this._style = value;\n    }\n\n    /**\n     * Getter source\n     * @return {EzVertex}\n     */\n    public get source(): EzVertex {\n        return this._source;\n    }\n\n    /**\n     * Setter source\n     * @param {EzVertex} value\n     */\n    public set source(value: EzVertex) {\n        this._source = value;\n    }\n\n    /**\n     * Getter target\n     * @return {EzVertex}\n     */\n    public get target(): EzVertex {\n        return this._target;\n    }\n\n    /**\n     * Setter target\n     * @param {EzVertex} value\n     */\n    public set target(value: EzVertex) {\n        this._target = value;\n    }\n\n    /**\n     * Getter sourceConstraint\n     * @return {EzConstraint}\n     */\n    public get sourceConstraint(): EzConstraint {\n        return this._sourceConstraint;\n    }\n    \n    /**\n    * Setter sourceConstraint\n    * @param {EzConstraint} value\n    */\n    public set sourceConstraint(value: EzConstraint) {\n        this._sourceConstraint = value;\n    }\n    \n    /**\n    * Getter targetConstraint\n    * @return {EzConstraint}\n    */\n    public get targetConstraint(): EzConstraint {\n        return this._targetConstraint;\n    }\n    \n    /**\n    * Setter targetConstraint\n    * @param {EzConstraint} value\n    */\n    public set targetConstraint(value: EzConstraint) {\n        this._targetConstraint = value;\n    }\n}","import { EzDirection } from '../../constants';\n\n/**\n * EzConstaint defined how a side of edge connect to it's terminal vertex\n * The Ezcontaint use four properties to define the connection releationship\n * between edge and vertex: percentX / percentY / offsetX / offsetY  \n * for example:  \n * ```\n *   // the following constraint indicates one edge should connect the center point of it's terminal\n *   let contraint = new EzConstraint(0.5,0.5,0,0);\n *   // the following constraint indicates one edge should connect the top-left corner with 5 pixel offset on x axis\n *   let contraint = new EzConstraint(0,0,5,0);\n * ```\n * \n */\nexport class EzConstraint {\n    percentX=0;\n\n    percentY=0;\n\n    offsetX=0;\n\n    offsetY=0;\n\n    constructor(percentX:number, percentY:number, offsetX?:number, offsetY?:number){\n        if(__DEV__){\n            if(percentX<0||percentX>1){\n                console.error(`EzConstraint:invalid param.note 0<= percentX<=1, got ${percentX} `);\n            }\n            if(percentY<0||percentY>1){\n                console.error(`EzConstraint:invalid param.note 0<= percentY<=1, got ${percentY} `);\n            }\n        }\n        this.percentX = percentX;\n        this.percentY = percentY;\n        this.offsetX = offsetX || 0;\n        this.offsetY = offsetY || 0;\n    }\n\n    static createByDirection(direction:EzDirection):EzConstraint {\n        switch(direction){\n        case EzDirection.LEFT:\n            return new EzConstraint(0, 0.5);\n        case EzDirection.TOP:\n            return new EzConstraint(0.5, 0);\n        case EzDirection.RIGHT:\n            return new EzConstraint(1, 0.5);\n        case EzDirection.BOTTOM:\n            return new EzConstraint(0.5, 1);\n        }\n    }\n}","import { EzConstraint } from '../model/constraint/constraint';\n\nexport const EZ_DIAGGRAM_DEFAULT_CONFIG = {VERTEX_CONSTRAINTS: [\n    new EzConstraint(0.5, 0, 0, 0),\n    new EzConstraint(1, 0.5, 0, 0),\n    new EzConstraint(0.5, 1, 0, 0),\n    new EzConstraint(0, 0.5, 0, 0),\n]};","import { EzEdge } from '../edge/edge';\nimport { EzRectangle } from '../rectangle';\nimport { EzVertexStyleOptions } from '../../view/style/style';\nimport { EZ_DIAGGRAM_DEFAULT_CONFIG } from '../../diagram/config';\nimport { EzConstraint } from '../constraint/constraint';\nimport { EzDiagramNode } from '../diagram-node';\nimport { EzConfigManager } from '../../config/config';\nimport { EzDirection } from '../../constants';\n\nexport class EzVertex extends EzDiagramNode{\n\n    private _bounds:EzRectangle;\n\n    private _style:EzVertexStyleOptions;\n\n    private _constraints:EzConstraint[] = EZ_DIAGGRAM_DEFAULT_CONFIG.VERTEX_CONSTRAINTS;\n\n    private _edges:EzEdge[] = [];\n\n    private _text = '';\n\n    private _layout:string;\n\n    private _layoutParent:EzVertex;\n\n    private _layoutDirection:EzDirection;\n\n    private _layoutChildren:EzVertex [] = [];\n\n    constructor(bounds:EzRectangle, style:EzVertexStyleOptions, text='', layout?:string, type?:string){\n        super(type);\n        this._style = Object.assign({}, EzConfigManager.defaultVertexStyle, style);\n        this._bounds = bounds;\n        this._text = text;\n        if(layout){\n            this.layout = layout;\n        }\n    }\n\n    /**\n     * remove edge which connected to current vertex\n     * @param edge \n     */\n    public removeEdge(edge):boolean {\n        const edges = this._edges;\n        const index = edges.indexOf(edge);\n        if(index === -1){\n            if(__DEV__){\n                console.error('EzVertex:removeEdge no edge found!');\n            }\n            return false;\n        }\n\n        edges.splice(index, 1);\n    }\n\n    /**\n     * Getter text\n     * @return {string}\n     */\n    public get text(): string {\n        return this._text;\n    }\n\n    /**\n     * Setter text\n     * @param {string} value\n     */\n    public set text(value: string) {\n        this._text = value;\n    }\n\n    /**\n     * Getter bounds\n     * @return {EzRectangle}\n     */\n    public get bounds(): EzRectangle {\n        return this._bounds;\n    }\n\n    /**\n     * Setter bounds\n     * @param {EzRectangle} value\n     */\n    public set bounds(value: EzRectangle) {\n        this._bounds = value;\n    }\n\n    /**\n     * Getter style\n     * @return {EzVertexStyleOptions}\n     */\n    public get style(): EzVertexStyleOptions {\n        return this._style;\n    }\n\n\n    /**\n     * Setter style\n     * @param {EzVertexStyleOptions} value\n     */\n    public set style(value: EzVertexStyleOptions) {\n        this._style = value;\n    }\n\n    /**\n     * Setter style\n     * @param {EzVertexStyleOptions} value\n     */\n\n    /**\n     * Getter edges\n     * @return {EzEdge[]}\n     */\n    public get edges(): EzEdge[] {\n        return this._edges;\n    }\n\n    /**\n     * Setter edges\n     * @param {EzEdge[]} value\n     */\n    public set edges(value: EzEdge[]) {\n        this._edges = value;\n    }\n\n    /**\n     * Getter constraints\n     * @return {EzConstraint[]}\n     */\n    public get constraints(): EzConstraint[] {\n        return this._constraints;\n    }\n    \n    /**\n    * Setter constraints\n    * @param {EzConstraint[]} value\n    */\n    public set constraints(value: EzConstraint[]) {\n        this._constraints = value;\n    }\n\n     /**\n     * Getter layoutChildren\n     * @return {EzVertex[]}\n     */\n    public get layoutChildren(): EzVertex[] {\n        return this._layoutChildren;\n    }\n    \n    /**\n    * Setter layoutChildren\n    * @param {EzVertex[]} value\n    */\n    public set layoutChildren(value: EzVertex[]) {\n        this._layoutChildren = value;\n    }\n\n    /**\n     * Getter layoutParent\n     * @return {EzVertex[]}\n     */\n    public get layoutParent(): EzVertex {\n        return this._layoutParent;\n    }\n        \n    /**\n    * Setter layoutParent\n    * @param {EzVertex} value\n    */\n    public set layoutParent(value: EzVertex) {\n        this._layoutParent = value;\n    }\n\n    /**\n     * Getter layout\n     * @return {string}\n     */\n    public get layout(): string {\n        return this._layout;\n    }\n        \n    /**\n    * Setter layout\n    * @param {string} value\n    */\n    public set layout(value: string) {\n        this._layout = value;\n    }\n\n\n    /**\n     * Getter layoutDirection\n     * @return {EzDirection}\n     */\n    public get layoutDirection(): EzDirection {\n        return this._layoutDirection;\n    }\n            \n    /**\n    * Setter layoutDirection\n    * @param {string} value\n    */\n    public set layoutDirection(value: EzDirection) {\n        this._layoutDirection = value;\n    }\n    \n}","import { EzPoint } from '.';\nimport { EzDirection } from '../constants';\nimport { EzConstraint } from './constraint/constraint';\nimport { EzDiagramNode } from './diagram-node';\nimport { EzEdge } from './edge/edge';\nimport { EzRectangle } from './rectangle';\nimport { EzVertex } from './vertex/vertex';\n\nexport const EZ_MODEL_ROOT_TYPE = 'EZ_MODEL_ROOT_TYPE';\nexport class EzModel {\n\n    private _nodeMap:Map<string, EzDiagramNode> = new Map();\n\n    public nodes:EzDiagramNode[] = [];\n\n    isVertex(node:EzDiagramNode):boolean{\n        return node instanceof EzVertex;\n    }\n\n    isEdge(node:EzDiagramNode):boolean {\n        return node instanceof EzEdge;\n    }\n\n    addVertex(node:EzVertex):void {\n        this._nodeMap.set(node.id, node);\n        this.nodes.push(node);\n    }\n\n    removeVertex(node:EzVertex): boolean{\n        const idx = this.nodes.indexOf(node);\n        if(idx===-1) return false;\n        this.nodes.splice(idx, 1);\n        this._nodeMap.delete(node.id);\n        return true;\n    }\n\n    /**\n     * add edge \n     * @param node \n     */\n    addEdge(node:EzEdge):void {\n        this._nodeMap.set(node.id, node);\n        if(node.source){\n            node.source.edges.push(node);\n        }\n        if(node.target){\n            node.target.edges.push(node);\n        }\n        this.nodes.push(node);\n    }\n    \n    /**\n     * remove edge \n     * @param node \n     * @returns \n     */\n    removeEdge(node:EzEdge): boolean{\n        const idx = this.nodes.indexOf(node);\n        if(idx===-1) return false;\n        this.nodes.splice(idx, 1);\n        this._nodeMap.delete(node.id);\n\n        if(node.source){\n            this.removeVertex(node.source);\n        }\n        if(node.target){\n            this.removeVertex(node.target);\n        }\n        return true;\n    }\n\n    /**\n     * update or set related terminal vertex for edge\n     * @param edge \n     * @param terminal \n     * @param constraint - terminal constraint \n     * @param isSource - is source point of vertex\n     */\n    updateTerminalVertex(edge:EzEdge, terminal:EzVertex, constraint:EzConstraint, isSource = false):void {\n        if(isSource){\n            edge.source = terminal;\n            edge.sourceConstraint = constraint;\n        }else {\n            edge.target = terminal;\n            edge.targetConstraint = constraint;\n        }\n        terminal.edges.push(edge);\n    }\n\n    /**\n     * change z index oder for given node\n     * @param node \n     * @param targetPosition\n     *\n     */\n    changeOrder(node:EzDiagramNode, targetPosition):void {\n        if(targetPosition<0) targetPosition = 0;\n        if(targetPosition>this.nodes.length-1) targetPosition = this.nodes.length-1;\n        const currentIndex = this.nodes.indexOf(node);\n        const tmp = this.nodes[targetPosition];\n        this.nodes[targetPosition] = node;\n        this.nodes[currentIndex] = tmp;\n    }\n\n    /**\n     * update bounds for vertex\n     * @param vertex \n     * @param bounds \n     */\n    updateBounds(vertex:EzVertex, bounds:EzRectangle):void {\n        vertex.bounds = bounds;\n    }\n\n    /**\n     * return all layout root \n     * @returns \n     */\n    getLayoutRoots():EzVertex[] {\n        const roots = [];\n        this._nodeMap.forEach(node=>{\n            if(node instanceof EzVertex && node.layout){\n                roots.push(node);\n            }\n        });\n        return roots;\n    }\n\n    /**\n     * edge connect to source or target vertex\n     * @param edge \n     * @param source \n     * @param sourcePosition \n     * @param target \n     * @param targetPosition \n     */\n    connect(edge:EzEdge, source:EzVertex, sourcePosition:EzDirection|EzConstraint, target:EzVertex, targetPosition:EzDirection|EzConstraint):void {\n        if(source){\n            edge.source = source;\n            if(sourcePosition instanceof EzConstraint){\n                edge.sourceConstraint = sourcePosition;\n            }else{\n                edge.sourceConstraint = EzConstraint.createByDirection(sourcePosition);\n            }\n            edge.source.edges.push(edge);\n        }\n        if(target){\n            edge.target = target;\n            if(targetPosition instanceof EzConstraint){\n                edge.targetConstraint = targetPosition;\n            }else {\n                edge.targetConstraint = EzConstraint.createByDirection(targetPosition);\n            }\n            edge.target.edges.push(edge);\n        }\n    }\n\n\n    /**\n     * set layout child\n     * @param parent \n     * @param child \n     * @param direction \n     * @param connectEdge \n     */\n    setLayoutChild(parent:EzVertex, child:EzVertex, direction = EzDirection.BOTTOM, connectEdge?:EzEdge):void {\n        child.layoutParent = parent;\n        child.layoutDirection = direction;\n        if(parent.layoutChildren.indexOf(child)===-1){\n            parent.layoutChildren.push(child);\n        }\n        if(connectEdge){\n            switch(direction){\n            case EzDirection.BOTTOM:\n                this.connect(connectEdge, parent, EzDirection.BOTTOM, child, EzDirection.TOP);\n                break;\n\n            case EzDirection.LEFT:\n                this.connect(connectEdge, parent, EzDirection.LEFT, child, EzDirection.RIGHT);\n                break;\n\n            case EzDirection.TOP:\n                this.connect(connectEdge, parent, EzDirection.TOP, child, EzDirection.BOTTOM);\n                break;\n\n            case EzDirection.RIGHT:\n                this.connect(connectEdge, parent, EzDirection.RIGHT, child, EzDirection.LEFT);\n                break;\n            }\n        }\n\n    }\n\n\n    /**\n     * change constarint for edge\n     * @param edge \n     * @param constraint \n     * @param isSource \n     */\n    changeConstraint(edge:EzEdge, constraint:EzDirection | EzConstraint, isSource = false):void {\n        if(isSource){\n            if(edge.source){\n                if(constraint instanceof EzConstraint){\n                    edge.sourceConstraint = constraint;\n                    this.updateConstraintPoint(edge, edge.source, isSource);\n                }else {\n                    edge.sourceConstraint = EzConstraint.createByDirection(constraint);\n                    this.updateConstraintPoint(edge, edge.source, isSource);\n                }\n            }else{\n                if(__DEV__){\n                    console.error('edge source not found');\n                }\n            }\n        }else {\n            if(edge.target){\n                if(constraint instanceof EzConstraint){\n                    edge.targetConstraint = constraint;\n                    this.updateConstraintPoint(edge, edge.target, isSource);\n                }else {\n                    edge.targetConstraint = EzConstraint.createByDirection(constraint);\n                    this.updateConstraintPoint(edge, edge.target, isSource);\n                }\n            }else {\n                if(__DEV__){\n                    console.error('edge target not found');\n                }\n            }\n        }\n    }\n\n    updateConstraintPoint(edge:EzEdge, terminal:EzVertex, isSource=false):void {\n        const bounds = terminal.bounds;\n        if(isSource){\n            const constraint = edge.sourceConstraint;\n            const point = new EzPoint(bounds.x + bounds.width * constraint.percentX+constraint.offsetX, bounds.y + bounds.height * constraint.percentY+constraint.offsetY);\n            edge.points[0] = point;\n        }else {\n            const constraint = edge.targetConstraint;\n            const point = new EzPoint(bounds.x + bounds.width * constraint.percentX+constraint.offsetX, bounds.y + bounds.height * constraint.percentY+constraint.offsetY);\n            edge.points[edge.points.length-1] = point;\n        }\n    }\n}","export class EzPoint {\n    x:number;\n\n    y:number;\n\n    constructor(x:number, y:number){\n        this.x = x;\n        this.y = y;\n    }\n\n    translate(point:EzPoint):EzPoint {\n        this.x+= point.x;\n        this.y+= point.y;\n        return this;\n    }\n\n    clone():EzPoint{\n        return new EzPoint(this.x, this.y);\n    }\n}","import { EzPoint } from './point';\n\nexport class EzRectangle {\n    x:number;\n\n    y:number;\n\n    width:number;\n\n    height:number;\n\n    constructor(x:number, y:number, width:number, height:number){\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n\n    /**\n     *  return center point \n     */\n    center():EzPoint {\n        return new EzPoint(this.x+this.width/2, this.y+this.height/2);\n    }\n\n    clone():EzRectangle {\n        return new EzRectangle(this.x, this.y, this.width, this.height);\n    }\n\n    plain():{x:number, y:number, width:number, height:number}{\n        return {\n            x:this.x, y:this.y, width:this.width, height:this.height\n        };\n    }\n\n    grow(expanding:number):EzRectangle {\n        this.x-=expanding/2;\n        this.y-=expanding/2;\n        this.width+=expanding;\n        this.height+=expanding;\n        return this;\n    }\n\n    add(rect:EzRectangle):EzRectangle {\n        const minX = Math.min(this.x, rect.x);\n        const maxX = Math.max(this.x+this.width, rect.x+rect.width);\n        const minY = Math.min(this.y, rect.y);\n        const maxY = Math.max(this.y+this.height, rect.y+rect.height);\n        this.x = minX;\n        this.y = minY;\n        this.width = maxX - minX;\n        this.height = maxY - minY;\n        return this;\n    }\n\n    static scale({\nx, y, width, height\n}:EzRectangle, scale:number):EzRectangle{\n        if(__DEV__){\n            if(scale <= 0){\n                console.error('scale for EzRectangle should larger than 0, got ', scale);\n            }\n        }\n        const w = width * scale;\n        const h = height * scale;\n        return new EzRectangle(x+width*(1-scale), y+height*(1-scale), w, h);\n    }\n\n    static translate({\nx, y, width, height\n}:EzRectangle, distance:EzPoint):EzRectangle {\n        return new EzRectangle(x+distance.x, y+distance.y, width, height);\n    }\n}","import { EzRectangle } from '../model';\nimport { EzPoint } from '../model/point';\n\nexport interface Vector {\n    x:number;\n    y:number;\n}\n\nexport interface RectPoints {\n    BOTTOM_LEFT:EzPoint;\n    BOTTOM_RIGHT:EzPoint;\n    TOP_LEFT:EzPoint;\n    TOP_RIGHT:EzPoint;\n}\n\n/**\n *  given two points , return a vector which starts from the startPoint \n *  and ends with endPoint\n * @param startPoint \n * @param endPoint \n */\nexport function getVector(startPoint:EzPoint, endPoint:EzPoint):Vector {\n    return {x: endPoint.x - startPoint.x,\n        y: endPoint.y - startPoint.y};\n}\n\n/**\n *  get norm of a given vector\n * @param vector \n */\nexport function getNormOfVector(vector:Vector):number {\n    return Math.sqrt(vector.x ** 2 + vector.y ** 2);\n}\n\n/**\n *  get a scalar mul val of a given vector\n * @param vector \n * @param scalar \n * @returns \n */\nexport function getScalarMulOfVector(vector:Vector, scalar:number):Vector {\n    return {x:vector.x * scalar,\n        y:vector.y * scalar};\n}\n\n/**\n *  get unit vector of a given vector\n * @param vector \n */\nexport function getUnitVector(vector:Vector):Vector {\n    const norm = getNormOfVector(vector);\n    return getScalarMulOfVector(vector, 1/norm);\n}\n\n/**\n *  given a vector and its start point , return end point\n * @param vector \n * @param startPoint \n */\nexport function getVectorEndPoint(vector:Vector, startPoint:EzPoint):EzPoint {\n    return new EzPoint(vector.x+startPoint.x, vector.y+startPoint.y);\n}\n\n/**\n * calculate bounding box from points\n * @param points \n */\nexport function getBoundingBoxFromPoints(points:EzPoint[]):EzRectangle {\n    const xs = points.map(p=>p.x);\n    const ys = points.map(p=>p.y);\n    const [xMin, xMax, yMin, yMax] = [Math.min(...xs), Math.max(...xs), Math.min(...ys), Math.max(...ys)];\n    return new EzRectangle(xMin, yMin, xMax-xMin, yMax-yMin);\n}\n\n/**\n * get dot product of two vectors\n * @param vector1\n * @param vector2\n * @returns\n */\nexport function getDotProduct (vector1: Vector, vector2: Vector):number {\n    return vector1.x * vector2.x + vector1.y * vector2.y;\n}\n  \n\n/**\n * get included angle of two vectors\n * @param vector1\n * @param vector2\n * @returns\n */\nexport function getIncludedAngleOfTwoVector(vector1: Vector, vector2: Vector): number {\n    const dotProduct = getDotProduct(vector1, vector2);\n    const norm1 = getNormOfVector(vector1);\n    const norm2 = getNormOfVector(vector2);\n    const cosAngle = dotProduct / (norm1 * norm2);\n    const radian = Math.acos(cosAngle);\n    return (radian * 180) / Math.PI;\n}\n\n/**\n * get vector1's projection on vector2\n * @param vector1\n * @param vector2\n */\nexport function getVectorProjection(vector1: Vector, vector2: Vector): number {\n    return (vector1.x * vector2.x + vector1.y * vector2.y) / getNormOfVector(vector2);\n}\n\n/**\n * get four vertexes of a rectangle \n * @param rect \n * @returns \n */\nexport function toRectPoints(rect:EzRectangle, rotation = 0):RectPoints{\n    const points = {\n        TOP_LEFT:getRotatedPoint(new EzPoint(rect.x, rect.y), rotation, rect.center()),\n        TOP_RIGHT:getRotatedPoint( new EzPoint(rect.x+rect.width, rect.y), rotation, rect.center()),\n        BOTTOM_LEFT:getRotatedPoint( new EzPoint(rect.x, rect.y+rect.height), rotation, rect.center()),\n        BOTTOM_RIGHT:getRotatedPoint( new EzPoint(rect.x+rect.width, rect.y+rect.height), rotation, rect.center())\n    };\n\n    return points;\n}\n\n/**\n * return if the given point is inside a rectangle\n * @param rectPoints \n * @param point \n * @returns \n */\nexport function isPointInsideRect(rectPoints: RectPoints, point: EzPoint): boolean {\n    const getCross = (p1: EzPoint, p2: EzPoint, p: EzPoint) => {\n        return (p2.x - p1.x) * (p.y - p1.y) - (p.x - p1.x) * (p2.y - p1.y);\n    };\n    return (\n      getCross(rectPoints.BOTTOM_LEFT, rectPoints.TOP_LEFT, point) * getCross(rectPoints.TOP_RIGHT, rectPoints.BOTTOM_RIGHT, point) >= 0 &&\n      getCross(rectPoints.TOP_LEFT, rectPoints.TOP_RIGHT, point) * getCross(rectPoints.BOTTOM_RIGHT, rectPoints.BOTTOM_LEFT, point) >= 0\n    );\n}\n\nexport function getRotatedPoint(originalPoint: EzPoint, rotation:number, rotateCenterPoint:EzPoint) {\n    const x = originalPoint.x - rotateCenterPoint.x;\n    const y = originalPoint.y - rotateCenterPoint.y;\n    const cos = Math.cos(toRadians(rotation));\n    const sin = Math.sin(toRadians(rotation));\n    const dx = x * cos - y * sin;\n    const dy = y * cos + x * sin;\n    return new EzPoint(rotateCenterPoint.x + dx, rotateCenterPoint.y + dy);\n}\n\nexport function toRadians(deg) {\n    return (Math.PI * deg) / 180;\n}\n\n\nexport function getCenterPoint(point1:EzPoint, point2:EzPoint):EzPoint {\n    return new EzPoint((point1.x+point2.x)/2, (point1.y+point2.y)/2);\n}\n","import { EzDiagram } from '../diagram/diagram';\nimport { EzMouseEvent } from '../event/event';\nimport { EzPoint } from '../model';\nimport { EzDiagramNode } from '../model/diagram-node';\nimport { EzElement } from '../view';\nimport { EzVertexViewState, EzViewState } from '../view/view/view-state';\n\nexport class EzDiagramPlugin {\n    active = true;\n\n    disabled = false;\n\n    diagram:EzDiagram;\n\n    context:EzPluginContext;\n\n    constructor(diagram:EzDiagram, context:EzPluginContext){\n        this.diagram = diagram;\n        this.context = context;\n    }\n\n    setDisabled(disabled:boolean):void {\n        this.disabled = disabled;\n    }\n\n    /**\n     * call before any plugin hook executes . \n     * such as disable a plugin\n     * @param evt \n     */\n    beforeCallingHook?( evt:EzMouseEvent):void;\n\n    /**\n     * this method defermine the plugin active status.\n     * if return true , plugin hook will be correctly called , otherwise , hook will be disabled.\n     * note that subclass can overwrite this method to determine plugin active status\n     * @returns \n     */\n    canActivate():boolean{\n        return true;\n    }\n\n    onDeActivate(){}\n\n    /**\n     *  call after {@link EzDiagram} instance created. \n     */\n    onCreate?():void;\n\n    /**\n     *  call after {@link EzDiagram} instance destroyed. \n     */\n    onDestroy?():void;\n\n    /**\n     *  call after {@link EzDiagramView} rendered. \n     */\n    onRendered?():void;\n\n    beforeUpdate?(node:EzDiagramNode):void;\n\n    afterUpdate?(node:EzDiagramNode):void;\n\n    /**\n     *  trigger before {@link EzDiagramView} update\n     * @param diagram instance of {@link EzDiagram}\n     */\n    beforeViewUpdate?(diagram:EzDiagram):void;\n\n    /**\n     *  trigger after {@link EzDiagramView} update , this means this hook will be called after DOM is updated.\n     * @param diagram instance of {@link EzDiagram}\n     */\n    afterViewUpdate?(diagram:EzDiagram):void;\n\n    /**\n     *  trigger after selection change\n     */\n    onChangeSelection?(prev:EzViewState[], next:EzViewState[]):void;\n\n    /**\n     *  trigger before diagram scale changes\n     * @param prev  - previouse diagram scale\n     * @param current - current diagram scale\n     */\n    onScaleDiagram?(prev:number, current:number):void ;\n\n    /**\n     *  trigger before diagram translate changes\n     * @param prev  - previouse diagram translate\n     * @param current - current diagram translate\n     */\n    onTranslateDiagram?(prev:EzPoint, current:EzPoint):void;\n\n    /**\n     *  trigger when the vertex is moving by user\n     * @param state \n     */\n    onMovingVertex?(state:EzVertexViewState):void;\n\n    /**\n     * trigger after the vertex is moved  by user\n     * @param state \n     */\n    onMoveVertex?(state:EzVertexViewState):void;\n\n    /**\n     * trigger when the vertex is rotating  by user\n     * @param state \n     */\n    onRotatingVertex?(state:EzVertexViewState):void;\n\n    /**\n     * trigger after the vertex is rotated  by user\n     * @param state \n     */\n    onRotateVertex?(state:EzVertexViewState):void;\n\n    /**\n     * trigger when the vertex is resizing  by user\n     * @param state \n     */\n    onResizingVertex?(state:EzVertexViewState):void;\n\n    /**\n     *  trigger after the vertex is resized  by user\n     * @param state \n     */\n    onResizeVertex?(state:EzVertexViewState):void;\n\n    /**\n     *  trigger after remove state from {@link EzDiagramView}\n     * @param state \n     */\n    onRemoveState?(state:EzViewState):void;\n\n    /**\n     *  trigger when start editing at a vertex element\n     * @param state \n     */\n    onStartEditing?(state:EzVertexViewState):void;\n\n    /**\n     * trigger when stop editing at a vertex element\n     * @param state \n     */\n    onStopEditing?(state:EzVertexViewState):void;\n \n    onClick?(evt:EzMouseEvent):void;\n\n    onDblClick?(evt:EzMouseEvent):void;\n\n    onPressMove?(evt:EzMouseEvent):void;\n\n    onMouseMove?(evt:EzMouseEvent):void;\n\n    onMouseDown?(evt:EzMouseEvent):void;\n\n    onMouseUp?(evt:EzMouseEvent):void;\n}\n\nexport type BackGroundGenerator = (diagram:EzDiagram) => EzElement;\n\nexport interface EzPluginContext {\n    selectedViewStates?:EzViewState[];\n    background?: BackGroundGenerator;\n}\n\n","import { EzDiagramPlugin, EzPluginContext } from './diagram-plugin';\nimport { EzDiagram } from '../diagram';\n\nexport class EzDiagramPluginManager {\n    private diagram:EzDiagram;\n\n    private plugins = new Map<string, EzDiagramPlugin>();\n\n    private pluginContext:EzPluginContext = {};\n\n    constructor(diagram:EzDiagram){\n        this.diagram = diagram;\n    }\n\n    /**\n     * register a new diagram plugin\n     * @param pluginName \n     * @param plugin \n     * @param rerender - specify if the view should rerender\n     */\n    use(pluginName:string, plugin:EzDiagramPlugin, rerender = false):void{\n        if(!this.plugins.has(pluginName)){\n            this.plugins.set(pluginName, plugin);\n            if(rerender){\n                this.diagram.render();\n            }\n        }else {\n            if(__DEV__){\n                console.error(`EzDiagramPluginManager:use plugin ${pluginName} is already existed`);\n            }\n        }\n    }\n\n    /**\n     * remove plugin by the given plugin name\n     * @param pluginName \n     * @param rerender \n     */\n    remove(pluginName:string, rerender = true):void {\n        if(this.plugins.has(pluginName)){\n            this.plugins.delete(pluginName);\n            if(rerender){\n                this.diagram.render();\n            }\n        }else {\n            if(__DEV__){\n                console.error(`EzDiagramPluginManager:remove plugin ${pluginName} is not found`);\n            }\n        }\n    }\n\n    /**\n     * get plugin instance \n     * @param pluginName \n     * @returns \n     */\n    get(pluginName:string):EzDiagramPlugin {\n        if(this.plugins.has(pluginName)){\n            return this.plugins.get(pluginName);\n        }\n    }\n\n    /**\n     * call a hook by the given hook name\n     * @param hookName \n     * @param restArgs \n     */\n    callHook(hookName:string, ...restArgs):void {\n        const plugins = this.diagram.pluginManager.getPlugins();\n        plugins.forEach(plugin=>{\n            if(plugin.canActivate() && !plugin.disabled){\n                plugin.active = true;\n                const eventHook = plugin?.[hookName];\n                if(!eventHook) return;\n                eventHook.apply(plugin, restArgs);\n            }else if(plugin.active) {\n                plugin.active = false;\n                plugin?.onDeActivate();\n            }\n        });\n\n    }\n    \n    getPlugins():Map<string, EzDiagramPlugin> {\n        return this.plugins;\n    }\n\n    getContext():EzPluginContext {\n        return this.pluginContext;\n    }\n}\n\n","export function camelCaseToHyphenCase(camelCaseStr:string):string {\n    return camelCaseStr.split(/(?=[A-Z])/).map(i=>i.toLowerCase()).join('-');\n}\n\nexport function cloneDeep(obj:Object, ignore:string[]=[]) {\n    if(typeof(obj) !=='object'){\n        return obj;\n    }\n\n    if(obj instanceof Date) {\n        return new Date(obj);\n    }\n    \n    if(Array.isArray(obj)){\n        return obj.map(item=>typeof(item)==='object'? cloneDeep(obj, ignore):item);\n    }\n\n    const result = Object.assign({}, obj);\n    Object.entries(result).forEach(([key, value])=>{\n        result[key] =ignore.indexOf(key)===-1?cloneDeep(value, ignore):value;\n    });\n\n    return result;\n}\n\nexport function isMac():boolean {\n    const v = navigator.appVersion;\n    if(!v) return false;\n    return v.indexOf('Mac') !== -1;\n}","import { EzPoint, EzRectangle } from '../../model';\nimport { camelCaseToHyphenCase } from '../../utils/utils';\n\nexport const SVG_NAME_SPACE = 'http://www.w3.org/2000/svg';\nexport const HTML_NAME_SPACE = 'http://www.w3.org/1999/xhtml';\n\nexport class EzElement {\n    el:Element;\n\n    bounds:EzRectangle;\n\n    relativeMode = false;\n\n    pathDefs:string[] = [];\n\n    constructor(el:string | Element, xmlns = SVG_NAME_SPACE){\n        if(el instanceof Element){\n            this.el = el;\n        }else {\n            this.el = document.createElementNS(xmlns, el);\n        }\n    }\n\n    beginPath(relativeMode:boolean, bounds?:EzRectangle):EzElement {\n        this.bounds = bounds;\n        this.relativeMode = relativeMode;\n        return this;\n    }\n\n    moveTo(x:number, y:number):EzElement {\n        const pt = this._transformedPt(x, y);\n        this.pathDefs.push(`M${pt.x} ${pt.y}`);\n        return this;\n    }\n\n    lineTo(x:number, y:number):EzElement {\n        const pt = this._transformedPt(x, y);\n        this.pathDefs.push(`L${pt.x} ${pt.y}`);\n        return this;\n    }\n\n    curveTo(cx1:number, cy1:number, cx2:number, cy2:number, x:number, y:number):EzElement {\n        const c1 = this._transformedPt(cx1, cy1);\n        const c2 = this._transformedPt(cx2, cy2);\n        const t = this._transformedPt(x, y);\n        this.pathDefs.push(`C${c1.x} ${c1.y} ${c2.x} ${c2.y} ${t.x} ${t.y}`);\n        return this;\n    }\n\n    arcTo(rx:number, ry:number, rotation:number, largeArcFlag:0|1, sweepFlag:0|1, x:number, y:number):EzElement{\n        const pt = this._transformedPt(x, y);\n        this.pathDefs.push(`A${rx} ${ry} ${rotation} ${largeArcFlag} ${sweepFlag} ${pt.x} ${pt.y}`);\n        return this;\n    }\n\n    private _transformedPt(x:number, y:number):{x:number, y:number} {\n        return {x:this.relativeMode ? (this.bounds.x + this.bounds.width * x): x, y:this.relativeMode ? (this.bounds.y + this.bounds.height * y): y};\n    }\n\n    closePath():EzElement {\n        this.attr({d:this.pathDefs.join(' ')+'Z'});\n        this.bounds = null;\n        this.relativeMode = false;\n        this.pathDefs = [];\n        return this;\n    }\n\n\n\n    prependChild(child:EzElement):EzElement{\n        this.el.prepend(child.el);\n        return this;\n    }\n\n    appendChild(child:EzElement):EzElement {\n        this.el.appendChild(child.el);\n        return this;\n    }\n\n    appendChildren(children:EzElement[]):EzElement {\n        children.map(c=>c.el).forEach(el=>this.el.appendChild(el));\n        return this;\n    }\n\n    /**\n     *  return current element's child elements \n     */\n    childElements():EzElement[] {\n        const childEls = [].slice.call(this.el.children);\n        return childEls.map(el=>EzElement.el(el));\n    }\n\n    attr(attr:{[key:string]:string|number}, toHyphenCase=true):EzElement {\n        Object.keys(attr).forEach(key=>{\n            if(toHyphenCase){\n                const attrName = camelCaseToHyphenCase(key);\n                this.el.setAttribute(attrName, ''+attr[key]);\n            }else {\n                this.el.setAttribute(key, ''+attr[key]);\n            }\n        });\n        return this;\n    }\n\n    getAttr(key:string):string {\n        return this.el.getAttribute(key);\n    }\n\n    hasAttr(key:string):boolean {\n        return this.el.hasAttribute(key);\n    }\n\n    removeAttr(attr:string):EzElement {\n        const attrName = camelCaseToHyphenCase(attr);\n        this.el.removeAttribute(attrName);\n        return this;\n    }\n\n    style(attr:{[key:string]:string|number}):EzElement {\n        const el = this.el as HTMLElement;\n        Object.keys(attr).forEach(key=>{\n            el.style[key] = attr[key];\n        });\n        return this;\n    }\n\n    line(points:EzPoint[]){\n        let d = '';\n        points.forEach((point, index)=>{\n            if(index === 0){\n                d+=`M ${point.x} ${point.y}`;\n            } else {\n                d+=` L ${point.x} ${point.y}`;\n            }\n        });\n        this.attr({d});\n        return this;\n    }\n\n    /**\n     * add a \"handler\" attribute to element.\n     * every handler element (such as vertex handler or edge handlder) should have this attribute\n     * @returns \n     */\n    asHandler():EzElement {\n        return this.attr({handler:1});\n    }\n\n    /**\n     * clear innerHTML of current element\n     * @returns \n     */\n    empty():EzElement {\n        this.el.innerHTML = '';\n        return this;\n    }\n\n    clone():EzElement {\n        return EzElement.el(this.el.cloneNode(true) as Element);\n    }\n\n\n    /**\n     * find the nearest ancestor with the given selector \n     * @param el \n     * @param selector \n     * @returns \n     */\n    nearestAncestor(selector:string):EzElement {\n        const el = this.el;\n        let parent = el.parentElement;\n        while(parent){\n            if(parent.matches(selector)){\n                return EzElement.el(parent);\n            }\n            parent = parent.parentElement;\n        }\n\n    }\n\n\n    /**\n     * find the farest ancestor  with the given selector \n     * @param el \n     * @param selector \n     * @returns \n     */\n    farestAncestor(selector:string):EzElement {\n        const el = this.el;\n        let parent = el.parentElement;\n        let result:Element;\n        while(parent){\n            if(parent.matches(selector)){\n                result = parent;\n            }\n            parent = parent.parentElement;\n        }\n        if(result){\n            return EzElement.el(result);\n        }\n    }\n\n    /**\n     * return if the current element matches the given selector\n     * @param selector \n     */\n    is(selector:string):boolean {\n        return this.el.matches(selector);\n    }\n\n    /**\n     * remove element from document\n     */\n    remove():void {\n        this.el.remove();\n    }\n\n    /**\n     * set el innerHTML\n     * @param html\n     * @returns \n     */\n    html(html:string):EzElement {\n        this.el.innerHTML = html;\n        return this;\n    }\n\n    /**\n     * return the first element child of current elment \n     */\n    firstElementChild():EzElement {\n        const c = this.el.firstElementChild;\n        if(c){\n            return EzElement.el(c);\n        }\n    }\n\n    /**\n     * retrieve data from element's dataSet with the given key\n     * @param key \n     * @returns \n     */\n    data(key:string):string {\n        const el = this.el as HTMLElement;\n        return el.dataset[key];\n    }\n\n    /**\n     * insert current element before the given element \n     * @param el \n     */\n    insertBefore(el:EzElement):EzElement {\n        this.el.parentNode.insertBefore(this.el, el.el);\n        return this;\n    }\n\n    static el(tag:string | Element, xmlns = SVG_NAME_SPACE):EzElement {\n        return new EzElement(tag, xmlns);\n    }\n\n    static line(points:EzPoint[]):EzElement {\n        return new EzElement('path').line(points);\n    }\n}","import { EzElement } from '../canvas/ez-element';\nimport { EzViewState } from '../view/view-state';\n\nexport type EzShapeConstructor = new(state:EzViewState)=>EzShape;\nexport type EzShapeStyle = {[key:string]:string|number};\nexport abstract class EzShape {\n    root = EzElement.el('g');\n\n    style:EzShapeStyle;\n\n    setStyle(style:EzShapeStyle){\n        this.style = style;\n    }\n\n    destroy():void {\n        this.onDestroy();\n        this.root.remove();\n    }\n\n    /**\n     * life cycle hook , invoke before shape destroy\n     */\n    onDestroy():void {}\n\n    /**\n     *  init svg elements and append to root of the shape \n     */\n    abstract draw():void;\n\n    /**\n     *  update svg elements\n     */\n    abstract redraw():void;\n\n    /**\n     *  apply style to DOM element\n     */\n    abstract updateStyle():void;\n}\n\n","import { v4 } from 'uuid';\nimport { EzDiagramView } from '..';\nimport { EzEdge, EzVertex } from '../../model';\nimport { EzPoint } from '../../model/point';\nimport { EzRectangle } from '../../model/rectangle';\nimport {getBoundingBoxFromPoints, toRectPoints} from '../../utils/math';\nimport { EzShape } from '../shape';\nimport {\nDEFAULT_STROKE_WIDTH, EzEdgeStyleOptions, EzVertexStyleOptions\n} from '../style/style';\n\nexport enum STATE_WORK_TYPE {\n    NO_WORK,\n    REMOVE,\n    NEED_CREATE,\n    UPDATE_FROM_MODEL,\n    UPDATE_TO_MODEL,\n    UPDATE_VIEW\n}\n\nexport class EzState {\n    id:string;\n\n    shape:EzShape;\n\n    parent:EzVertexViewState;\n\n    view:EzDiagramView;\n\n    _updateWork:STATE_WORK_TYPE = STATE_WORK_TYPE.NEED_CREATE;\n\n    constructor(view:EzDiagramView){\n        this.view = view;\n        this.id = v4();\n    }\n\n    public scalePoints(scale:number, points:EzPoint[], translate:EzPoint):EzPoint[] {\n        return points.map(point=>{\n            return new EzPoint((point.x+translate.x)*scale, (point.y+translate.y)*scale);\n        });\n    }\n\n    public set updateWork(value:STATE_WORK_TYPE) {\n        if(!this.shape){\n            value = STATE_WORK_TYPE.NEED_CREATE;\n        }\n        if(value !==STATE_WORK_TYPE.NO_WORK){\n            if(this.view.dirtyStates.indexOf(this as any) ===-1){\n                this.view.dirtyStates.push(this as any);\n            }\n        }\n        this._updateWork = value;\n    }\n\n    public get updateWork():STATE_WORK_TYPE {\n        return this._updateWork;\n    }\n}\n\nexport class EzVertexViewState extends EzState {\n    bounds:EzRectangle;\n\n    style:EzVertexStyleOptions;\n\n    children:EzViewState[];\n\n    alternate:EzVertexViewState;\n\n    node:EzVertex;\n\n    constructor(vertex:EzVertex, view:EzDiagramView){\n        super(view);\n        this.node = vertex;\n        this.bounds = vertex.bounds.clone();\n        this.style =Object.assign({}, vertex.style);\n    }\n\n    translate(delta:EzPoint):void {\n        this.bounds = EzRectangle.translate(this.bounds, delta);\n    }\n\n    scaleAndTranslate(scale:number, translate:EzPoint):void {\n        const points = toRectPoints(this.node.bounds);\n        const scaled = this.scalePoints(scale, [points.TOP_LEFT, points.TOP_RIGHT, points.BOTTOM_LEFT, points.BOTTOM_RIGHT], translate);\n        this.bounds = getBoundingBoxFromPoints(scaled);\n    }\n\n    getBounds():EzRectangle {\n        return this.bounds;\n    }\n\n    clone():EzVertexViewState {\n        const state = new EzVertexViewState(this.node, this.view);\n        state.id = this.id;\n        state.bounds = this.bounds.clone();\n        state.style = Object.assign({}, this.style);\n        return state;\n    }\n}\n\nexport class EzEdgeViewState extends EzState {\n    points:EzPoint[];\n\n    style:EzEdgeStyleOptions;\n\n    alternate:EzEdgeViewState;\n\n    node:EzEdge;\n\n    constructor(edge:EzEdge, view:EzDiagramView){\n        super(view);\n        this.node = edge;\n        this.points = edge.points.map(pt=>pt.clone());\n        this.style = Object.assign({}, edge.style);\n    }\n\n    translate(translate:EzPoint):void {\n        this.points=this.points.map(pt=>pt.translate(translate));\n    }\n\n    scaleAndTranslate(scale:number, translate:EzPoint):void {\n        const points = this.node.points;\n        this.style.strokeWidth = (this.style.strokeWidth || DEFAULT_STROKE_WIDTH) * scale;\n        this.points = this.scalePoints(scale, points, translate);\n    }\n\n    getBounds():EzRectangle {\n        return getBoundingBoxFromPoints(this.points);\n    }\n\n    getPoints():EzPoint[] {\n        return this.points;\n    }\n\n    clone():EzEdgeViewState {\n        const state = new EzEdgeViewState(this.node, this.view);\n        state.id = this.id;\n        state.points = this.points.map(pt=>pt.clone());\n        state.style = Object.assign({}, this.style);\n        return state;\n    }\n}\n\nexport type EzViewState= EzEdgeViewState | EzVertexViewState;","import { EzShapeStyle } from '..';\nimport { EZ_VIEW_VERTEX_CLASS } from '../../constants';\nimport { EzMouseEvent } from '../../event/event';\nimport { getSvgStyle } from '../style/style';\nimport { EzVertexViewState } from '../view/view-state';\nimport { EzShape } from './shape';\n\nexport interface VertexShapeLifeCycle {\n    onStartEditing():void;\n    onStopEditing():void;\n    onClick(evt:EzMouseEvent):void;\n    onDblClick(evt:EzMouseEvent):void;\n    onMouseMove(evt:EzMouseEvent):void;\n    onMouseDown(evt:EzMouseEvent):void;\n    onMouseUp(evt:EzMouseEvent):void;\n}\n\n\nexport class EzVertexShape extends EzShape implements VertexShapeLifeCycle {\n    state:EzVertexViewState;\n\n    style:EzShapeStyle;\n\n    constructor(state:EzVertexViewState){\n        super();\n        if(__DEV__){\n            if(!(state instanceof EzVertexViewState)){\n                console.error(`EzRectangleShape: expect state instance of EzVertexViewState, got ${Object.prototype.toString.call(state)}`);\n            }\n        }\n        this.state = state;\n        this.style = getSvgStyle(this.state.style);\n        this.root.attr({dataId:state.node.id, class:EZ_VIEW_VERTEX_CLASS });\n        this.root.el['state'] = this.state;\n    }\n\n    draw():void {\n        this._updateRotation();\n        this.style = getSvgStyle(this.state.style);\n    }\n\n    redraw():void{\n        this._updateRotation();\n        this.style = getSvgStyle(this.state.style);\n\n    }\n\n    private _updateRotation():void {\n        const state = this.state.alternate || this.state;\n        const center = state.getBounds().center();\n        this.root.attr({transform:`rotate(${state.style.rotation||0},${center.x},${center.y})`});\n    }\n\n    updateStyle():void {}\n\n    onStartEditing():void {}\n\n    onStopEditing():void {}\n\n    onClick():void {}\n\n    onDblClick(): void {}\n\n    onMouseMove(): void {}\n\n    onMouseDown(): void {}\n\n    onMouseUp(): void {}\n}","import { EzElement, HTML_NAME_SPACE } from '../canvas/ez-element';\nimport { getFontStyles } from '../style/style';\nimport { EzVertexShape } from './vertex-shape';\n\nexport class EditableVertexShape extends EzVertexShape {\n    text:EzElement;\n\n    foreignObject:EzElement;\n\n    draw():void {\n        super.draw();\n\n        const bounds = this.state.getBounds().plain();\n        this.text = EzElement.el('div', HTML_NAME_SPACE).html(this.state.node.text).style({\n            width:'100%', height:'100%', display:'flex', alignItems:'center', justifyContent:'center', flexDirection:'column', textAlign:'center', userSelect:'none'\n        });\n        this.foreignObject = EzElement.el('foreignObject').attr({...bounds}).appendChild(\n            this.text\n        );\n        this.root.prependChild(this.foreignObject);\n        this._udpateStyle();\n    }\n\n    redraw():void {\n        super.redraw();\n\n        const state = this.state.alternate || this.state;\n        const bounds = state.getBounds().plain();\n        this.foreignObject.attr(bounds);\n        this.text.html(state.node.text);\n        this._udpateStyle();\n     \n    }\n\n    onStartEditing():void {\n        this.foreignObject.style({display:'none'});\n    }\n\n    onStopEditing():void {\n        this.foreignObject.style({display:'block'});\n    }\n\n    private _udpateStyle():void {\n        const textStyle = getFontStyles(this.state.style);\n        this.text.style(textStyle);\n    }\n}","import { EzElement } from '../canvas/ez-element';\nimport { EditableVertexShape } from './editable-vertex-shape';\n\nexport abstract class EzSimpleEditableVertexShape extends EditableVertexShape {\n    shape:EzElement;\n\n    abstract createShapeElement():EzElement;\n\n    abstract updateShape():void;\n\n    draw():void {\n        super.draw();\n        this.shape = this.createShapeElement();\n        this.updateShape();\n        this.updateStyle();\n        this.root.prependChild(this.shape);\n    }\n\n    redraw():void {\n        super.redraw();\n        this.updateShape();\n        this.updateStyle();\n    }\n\n    updateStyle():void{\n        this.shape?.attr(this.style);\n    }\n}","import { COLOR_TRANSPARENT_WHITE } from '../../../constants';\nimport { EzElement } from '../../canvas/ez-element';\nimport { EzVertexViewState } from '../../view/view-state';\nimport { EzSimpleEditableVertexShape } from '../simple-editable-vertex-shape';\n\nexport class EzRectangleShape extends EzSimpleEditableVertexShape {\n\n    constructor(state:EzVertexViewState){\n        super(state);\n    }\n\n    createShapeElement():EzElement {\n        return EzElement.el('rect');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        const bounds = state.getBounds().plain();\n        this.shape.attr({...bounds, fill:COLOR_TRANSPARENT_WHITE});\n    }\n}","import { EzShape } from './shape';\nimport { EzEdgeViewState} from '../view/view-state';\nimport { EzShapeStyle } from '..';\nimport { getSvgStyle } from '../style/style';\nimport { EZ_VIEW_EDGE_CLASS } from '../../constants';\n\nexport abstract class EzEdgeShape extends EzShape {\n    state:EzEdgeViewState;\n\n    style:EzShapeStyle;\n\n    constructor(state:EzEdgeViewState){\n        super();\n        if(__DEV__){\n            if(!(state instanceof EzEdgeViewState)){\n                console.error(`EzEdgeShape: expect state instance of EzEdgeViewState, got ${Object.prototype.toString.call(state)}`);\n            }\n        }\n        this.state = state;\n        this.style = getSvgStyle(this.state.style);\n        this.root.attr({dataId:state.node.id, class:EZ_VIEW_EDGE_CLASS, });\n\n        this.root.el['state'] = state;\n    }\n\n    updateStyle():void {}\n}","import { COLOR_TRANSPARENT_WHITE } from '../../../../constants';\nimport { EzElement } from '../../../canvas/ez-element';\nimport { DEFAULT_MOUSE_ACTION_TOLERENCE } from '../../../style/style';\nimport {EzEdgeViewState} from '../../../view/view-state';\nimport { EzEdgeShape } from '../../edge-shape';\nimport { EzShapeStyle } from '../../shape';\n/**\n *  EzLineShape is a kind of edge shape , which points are all connected with straight line\n */\nexport class EzLineShape extends EzEdgeShape {\n    line:EzElement;\n\n    transparentLine:EzElement;\n\n    constructor(state:EzEdgeViewState){\n        super(state);\n    }\n\n    draw():void {\n        const state = this.state as EzEdgeViewState;\n        const markerStyle:EzShapeStyle = {};\n        const points = state.points;\n        if(this.style.markerStart) {\n            markerStyle.markerStart = `url(#${this.style.markerStart})`;\n        }\n        if(this.style.markerEnd){\n            markerStyle.markerEnd = `url(#${this.style.markerEnd})`;\n        }\n\n        this.style.fill = 'none';\n        this.setStyle({\n            ...this.style, ...markerStyle, fill:'none'\n        });\n        this.line = EzElement.line(points).attr(this.style);\n        this.transparentLine = this.line.clone()\n            .attr({strokeWidth:+this.style.strokeWidth+DEFAULT_MOUSE_ACTION_TOLERENCE, stroke:COLOR_TRANSPARENT_WHITE})\n            .removeAttr('markerStart')\n            .removeAttr('markerEnd');\n        this.root.appendChildren([this.line, this.transparentLine]);\n    }\n\n    redraw():void {\n        const state = (this.state.alternate || this.state) as EzEdgeViewState;\n        this.line.line(state.points);\n        this.transparentLine.line(state.points);\n    }\n}","import { COLOR_WHITE } from '../../../../constants';\nimport { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class AlternateProcessShape extends EzSimpleEditableVertexShape {\n\n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0, 0.05)\n        .curveTo(0, 0, 0, 0, 0.05, 0)\n        .lineTo(0.95, 0)\n        .curveTo(1, 0, 1, 0, 1, 0.05)\n        .lineTo(1, 0.95)\n        .curveTo(1, 1, 1, 1, 0.95, 1)\n        .lineTo(0.05, 1)\n        .curveTo(0, 1, 0, 1, 0, 0.95)\n        .lineTo(0, 0.05)\n        .closePath();\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class DataShape extends EzSimpleEditableVertexShape {\n\n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0.196, 0.084)\n        .curveTo(0.208, 0.031, 0.227, 0, 0.247, 0.001)\n        .lineTo(0.945, 0.001)\n        .curveTo(0.961, 0.001, 0.977, 0.01, 0.987, 0.026)\n        .lineTo( 0.997, 0.043)\n        .curveTo(1, 0.064, 0.996, 0.084, 0.804, 0.916)\n        .lineTo(0.792, 0.969)\n        .curveTo(0.773, 1, 0.753, 0.999, 0.044, 0.999)\n        .lineTo(0.03, 0.995)\n        .curveTo(0.018, 0.985, 0.01, 0.969, 0.002, 0.953)\n        .lineTo(0.004, 0.916)\n        .lineTo(0.196, 0.084)\n        .closePath();\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class DecisionShape extends EzSimpleEditableVertexShape {\n\n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0, 0.5)\n        .lineTo(0.5, 0)\n        .lineTo(1, 0.5)\n        .lineTo(0.5, 1)\n        .lineTo(0, 0.5)\n        .closePath();\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class DelayShape extends EzSimpleEditableVertexShape {\n\n\n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0, 0.05)\n        .curveTo(0, 0, 0, 0, 0.05, 0)\n        .lineTo(0.9, 0)\n        .curveTo(1, 0.25, 1, 0.75, 0.9, 1)\n        .lineTo(0.05, 1)\n        .curveTo(0, 1, 0, 1, 0, 0.95)\n        .lineTo(0, 0.05)\n        .closePath();\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class DisplayShape extends EzSimpleEditableVertexShape {\n\n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0, 0.5)\n        .curveTo(0.082, 0.233, 0.224, 0.05, 0.388, 0)\n        .lineTo(0.796, 0)\n        .curveTo(0.918, 0.083, 1, 0.283, 1, 0.5)\n        .curveTo(1, 0.7, 0.918, 0.9, 0.796, 1)\n        .lineTo(0.388, 1)\n        .curveTo(0.224, 0.933, 0.082, 0.75, 0, 0.5)\n        .closePath();\n    }\n}\n\n","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class DocumentShape extends EzSimpleEditableVertexShape {\n   \n    \n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0, 0.067)\n        .curveTo(0, 0.05, 0, 0.033, 0.01, 0.017)\n        .curveTo(0.02, 0, 0.031, 0, 0.051, 0)\n        .lineTo(0.949, 0)\n        .curveTo(0.959, 0, 0.969, 0, 0.98, 0.017)\n        .curveTo(0.99, 0.033, 1, 0.05, 1, 0.067)\n        .lineTo(1, 0.9)\n        .curveTo(0.837, 0.8, 0.653, 0.8, 0.5, 0.9)\n        .curveTo(0.337, 1, 0.153, 1, 0, 0.9)\n        .closePath();\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class InputOutputShape extends EzSimpleEditableVertexShape {\n    \n\n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0.25, 0)\n        .lineTo(1, 0)\n        .lineTo(0.75, 1)\n        .lineTo(0, 1)\n        .lineTo(0.25, 0)\n        .closePath();\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class ManualInputShape extends EzSimpleEditableVertexShape {\n   \n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0, 0.417)\n        .lineTo(0.939, 0)\n        .curveTo(0.969, 0, 0.99, 0.033, 0.99, 0.083)\n        .lineTo(0.99, 0.917)\n        .curveTo(1, 0.95, 0.98, 0.983, 0.949, 1)\n        .lineTo(0.051, 1)\n        .curveTo(0.02, 1, 0, 0.95, 0, 0.917)\n        .lineTo(0, 0.417)\n        .closePath();\n    }\n}\n\n\n\n","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class ManualOperationShape extends EzSimpleEditableVertexShape {\n   \n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0, 0)\n        .lineTo(1, 0)\n        .lineTo(0.8, 1)\n        .lineTo(0.2, 1)\n        .closePath();\n    }\n}\n\n\n\n","import { COLOR_WHITE } from '../../../../constants';\nimport { EzElement } from '../../../canvas/ez-element';\nimport { EditableVertexShape } from '../../editable-vertex-shape';\n\nexport class MultiDocumentShape extends EditableVertexShape {\n    shape1:EzElement;\n\n    shape2:EzElement;\n\n    shape3:EzElement;\n\n    draw():void {\n        super.draw();\n\n        this.shape1 = EzElement.el('path').attr({fill:COLOR_WHITE, stroke:'black'});\n        this.shape2 = this.shape1.clone();\n        this.shape3 = this.shape1.clone();\n        this._drawShape();\n            \n        this.root.prependChild(this.shape3);\n        this.root.prependChild(this.shape2);\n        this.root.prependChild(this.shape1);\n    }\n\n    redraw():void {\n        super.redraw();\n        this._drawShape();\n    }\n\n    private _drawShape():void {\n        const state = this.state.alternate || this.state;\n        const bounds1 = state.getBounds().clone();\n        bounds1.width -= bounds1.width * 0.09;\n        bounds1.height -= bounds1.height * 0.12;\n        bounds1.x += bounds1.width * 0.09;\n        this.shape1\n        ?.beginPath(true, bounds1)\n        .moveTo(0, 0.067)\n        .curveTo(0, 0.05, 0, 0.033, 0.01, 0.017)\n        .curveTo(0.02, 0, 0.031, 0, 0.051, 0)\n        .lineTo(0.949, 0)\n        .curveTo(0.959, 0, 0.969, 0, 0.98, 0.017)\n        .curveTo(0.99, 0.033, 1, 0.05, 1, 0.067)\n        .lineTo(1, 0.9)\n        .curveTo(0.837, 0.8, 0.653, 0.8, 0.5, 0.9)\n        .curveTo(0.337, 1, 0.153, 1, 0, 0.9)\n        .closePath();\n\n        const bounds2 = state.getBounds().clone();\n        bounds2.width -= bounds2.width * 0.09;\n        bounds2.height -= bounds2.height * 0.12;\n        bounds2.x += bounds2.width * 0.045;\n        bounds2.y += bounds2.height * 0.06;\n        this.shape2\n        ?.beginPath(true, bounds2)\n        .moveTo(0, 0.067)\n        .curveTo(0, 0.05, 0, 0.033, 0.01, 0.017)\n        .curveTo(0.02, 0, 0.031, 0, 0.051, 0)\n        .lineTo(0.949, 0)\n        .curveTo(0.959, 0, 0.969, 0, 0.98, 0.017)\n        .curveTo(0.99, 0.033, 1, 0.05, 1, 0.067)\n        .lineTo(1, 0.9)\n        .curveTo(0.837, 0.8, 0.653, 0.8, 0.5, 0.9)\n        .curveTo(0.337, 1, 0.153, 1, 0, 0.9)\n        .closePath();\n\n\n        const bounds3 = state.getBounds().clone();\n        bounds3.width -= bounds3.width * 0.09;\n        bounds3.height -= bounds3.height * 0.12;\n        bounds3.y += bounds3.height * 0.12;\n        this.shape3\n        ?.beginPath(true, bounds3)\n        .moveTo(0, 0.067)\n        .curveTo(0, 0.05, 0, 0.033, 0.01, 0.017)\n        .curveTo(0.02, 0, 0.031, 0, 0.051, 0)\n        .lineTo(0.949, 0)\n        .curveTo(0.959, 0, 0.969, 0, 0.98, 0.017)\n        .curveTo(0.99, 0.033, 1, 0.05, 1, 0.067)\n        .lineTo(1, 0.9)\n        .curveTo(0.837, 0.8, 0.653, 0.8, 0.5, 0.9)\n        .curveTo(0.337, 1, 0.153, 1, 0, 0.9)\n        .closePath();\n\n        this.shape1.attr(this.style);\n        this.shape2.attr(this.style);\n        this.shape3.attr(this.style);\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class OffPageConnectorShape extends EzSimpleEditableVertexShape {\n    \n\n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        const bounds = state.getBounds();\n        this.shape\n        ?.beginPath(true, bounds)\n        .moveTo(0, 0.05)\n        .curveTo(0, 0, 0, 0, 0.05, 0)\n        .lineTo(0.95, 0)\n        .curveTo(1, 0, 1, 0, 1, 0.05)\n        .lineTo(1, 0.5)\n        .lineTo(0.5, 1)\n        .lineTo(0, 0.5)\n        .lineTo(0, 0.05)\n        .closePath();\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class OnPageConnectorShape extends EzSimpleEditableVertexShape {\n    \n    createShapeElement():EzElement {\n        return EzElement.el('ellipse');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        const bounds = state.getBounds().plain();\n        const radius = Math.min(bounds.width, bounds.height) /2;\n        this.shape.attr({\n            rx:radius, ry:radius, cx:bounds.x+bounds.width/2, cy:bounds.y+bounds.height/2\n        });\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class PredefinedProcessShape extends EzSimpleEditableVertexShape {\n   \n\n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0, 0)\n        .lineTo(1, 0)\n        .lineTo(1, 1)\n        .lineTo(0, 1)\n        .lineTo(0, 0)\n        .moveTo(0.1, 0)\n        .lineTo(0.1, 1)\n        .moveTo(0.9, 0)\n        .lineTo(0.9, 1)\n        .closePath();\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class PreparationShape extends EzSimpleEditableVertexShape {\n   \n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0.206, 0.083)\n        .curveTo(0.237, 0.017, 0.278, 0, 0.32, 0)\n        .lineTo(0.67, 0)\n        .curveTo(0.711, 0, 0.753, 0.017, 0.784, 0.083)\n        .lineTo(0.99, 0.467)\n        .curveTo(1, 0.483, 1, 0.5, 0.99, 0.533)\n        .lineTo(0.784, 0.917)\n        .curveTo(0.753, 0.967, 0.711, 0.983, 0.67, 1)\n        .lineTo(0.32, 1)\n        .curveTo(0.278, 0.983, 0.237, 0.967, 0.206, 0.917)\n        .lineTo(0, 0.533)\n        .curveTo(0, 0.5, 0, 0.483, 0, 0.467)\n        .lineTo(0.206, 0.083)\n        .closePath();\n    }\n}\n\n","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class ProcessShape extends EzSimpleEditableVertexShape {\n    \n    createShapeElement():EzElement {\n        return EzElement.el('rect');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape.attr(state.getBounds().plain());\n    }\n}","import { COLOR_TRANSPARENT_WHITE } from '../../../../constants';\nimport { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class TerminalShape extends EzSimpleEditableVertexShape {\n    \n    createShapeElement():EzElement {\n        return EzElement.el('path');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        this.shape\n        ?.beginPath(true, state.getBounds())\n        .moveTo(0.2, 0)\n        .curveTo(-0.05, 0, -0.05, 1, 0.2, 1)\n        .lineTo(0.8, 1)\n        .curveTo(1.05, 1, 1.05, 0, 0.8, 0)\n        .lineTo(0.2, 0)\n        .closePath();\n    }\n}","import { EzElement } from '../../canvas/ez-element';\nimport { EzShape } from '../shape';\n\nexport class GridBackgroundShape extends EzShape {\n    grid:EzElement;\n\n    gridSize = 8;\n\n    draw():void {\n        this.grid = EzElement.el('rect').attr({...this.style, ...{\n            x:0,\n            y:0,\n            width:this.gridSize,\n            height:this.gridSize,\n            fill:'none',\n            stroke:'red',\n            strokeWidth:5\n        }});\n    }\n\n    redraw():void {}\n\n    updateStyle():void {}\n}","import { EzPoint } from '../../../../model';\nimport { EzElement } from '../../../canvas/ez-element';\nimport { DEFAULT_MOUSE_ACTION_TOLERENCE } from '../../../style/style';\nimport {EzEdgeViewState} from '../../../view/view-state';\nimport { EzEdgeShape } from '../../edge-shape';\nimport { EzShapeStyle } from '../../shape';\n/**\n *  EzLineShape is a kind of edge shape , which points are all connected with straight line\n */\nexport class EzTreeLineShape extends EzEdgeShape {\n    line:EzElement;\n\n    transparentLine:EzElement;\n\n    constructor(state:EzEdgeViewState){\n        super(state);\n    }\n\n    draw():void {\n        const state = this.state as EzEdgeViewState;\n        const markerStyle:EzShapeStyle = {};\n        const points = state.points;\n        if(points.length !==2){\n            if(__DEV__){\n                console.error('unexpected point length');\n            }\n        }\n        if(this.style.markerStart) {\n            markerStyle.markerStart = `url(#${this.style.markerStart})`;\n        }\n        if(this.style.markerEnd){\n            markerStyle.markerEnd = `url(#${this.style.markerEnd})`;\n        }\n\n        this.style.fill = 'none';\n        this.setStyle({\n            ...this.style, ...markerStyle, fill:'none'\n        });\n        this.line = EzElement.line(this._getPoints(points)).attr(this.style);\n        this.transparentLine = this.line.clone()\n            .attr({strokeWidth:+this.style.strokeWidth+DEFAULT_MOUSE_ACTION_TOLERENCE, stroke:'transparent'})\n            .removeAttr('markerStart')\n            .removeAttr('markerEnd');\n        this.root.appendChildren([this.line, this.transparentLine]);\n    }\n\n    redraw():void {\n        const state = (this.state.alternate || this.state) as EzEdgeViewState;\n        const points = this._getPoints(state.points);\n        this.line.line(points);\n        this.transparentLine.line(points);\n    }\n\n    private _getPoints(points:EzPoint[]):EzPoint[] {\n        const pt1 = points[0];\n        const pt2 = points[1];\n        const w = pt2.x-pt1.x;\n        const h = pt2.y-pt1.y;\n        let c1:EzPoint;\n        let c2:EzPoint;\n        if(this.state.style.direction==='vertical'){\n            c1 = new EzPoint(pt1.x, pt1.y+h/2);\n            c2 = new EzPoint(pt2.x, pt1.y+h/2);\n        }else {\n            c1 = new EzPoint( pt1.x+w/2, pt1.y);\n            c2 = new EzPoint( pt1.x+w/2, pt2.y);\n        }\n\n        return [pt1, c1, c2, pt2];\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class RoundStickerShape extends EzSimpleEditableVertexShape {\n    static defaultColor = '#ffcf2f';\n\n    createShapeElement():EzElement {\n        return EzElement.el('ellipse');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        const bounds = state.getBounds();\n        const radius = Math.min(bounds.width, bounds.height)/2;\n        this.shape.attr({\n            cx:bounds.center().x,\n            cy:bounds.center().y,\n            rx:radius,\n            ry:radius\n        });\n    }\n\n    updateStyle():void {\n        super.updateStyle();\n        this.shape.attr({strokeWidth:0}).style({filter:'drop-shadow(gray 1px 1px 2px)'});\n    }\n}","import { EzElement } from '../../../canvas/ez-element';\nimport { EzSimpleEditableVertexShape } from '../../simple-editable-vertex-shape';\n\nexport class StickerShape extends EzSimpleEditableVertexShape {\n    static defaultColor = '#ffcf2f';\n\n    createShapeElement():EzElement {\n        return EzElement.el('rect');\n    }\n\n    updateShape():void {\n        const state = this.state.alternate || this.state;\n        const bounds = state.getBounds().plain();\n        this.shape.attr({...bounds});\n    }\n\n    updateStyle():void {\n        super.updateStyle();\n        this.shape.attr({strokeWidth:0}).style({filter:'drop-shadow(gray 1px 1px 2px)'});\n    }\n}","import { AlternateProcessShape } from './built-in/flowchart/alternate-process';\nimport { DataShape } from './built-in/flowchart/data';\nimport { DecisionShape } from './built-in/flowchart/decision';\nimport { DelayShape } from './built-in/flowchart/delay';\nimport { DisplayShape } from './built-in/flowchart/display';\nimport { DocumentShape } from './built-in/flowchart/document';\nimport { InputOutputShape } from './built-in/flowchart/input-output';\nimport { ManualInputShape } from './built-in/flowchart/manual-input';\nimport { ManualOperationShape } from './built-in/flowchart/manual-operation';\nimport { MultiDocumentShape } from './built-in/flowchart/multi-document';\nimport { OffPageConnectorShape } from './built-in/flowchart/off-page-connector';\nimport { OnPageConnectorShape } from './built-in/flowchart/on-page-connector';\nimport { PredefinedProcessShape } from './built-in/flowchart/predefined-process';\nimport { PreparationShape } from './built-in/flowchart/preparation';\nimport { ProcessShape } from './built-in/flowchart/process';\nimport { TerminalShape } from './built-in/flowchart/terminal';\nimport { GridBackgroundShape } from './built-in/grid-background-shape';\nimport { EzLineShape } from './built-in/line/line-shape';\nimport { EzTreeLineShape } from './built-in/line/tree-line-shape';\nimport { EzRectangleShape } from './built-in/rectangle-shape';\nimport { RoundStickerShape } from './built-in/sticker/round-sticker-shape';\nimport { StickerShape } from './built-in/sticker/stiker-shape';\nimport { EzShapeConstructor } from './shape';\n\nexport const BUILTIN_SHAPE = {\n    GRID_BACKGROUND:'grid-background',\n    RECTANGLE:'rectangle',\n    LINE:'line',\n    STICKER:'sticker',\n    ROUND_STICKER:'round-sticker',\n    FLOW_CHART:{\n        TERMINAL:'terminal', \n        PROCESS:'process',\n        DECISION:'decision', \n        INPUT_OUTPUT:'input-output', \n        PREDEFINED_PROCESS:'predefined-process',\n        ON_PAGE_CONNECTOR:'on-page-connector',\n        OFF_PAGE_CONNECTOR:'off-page-connector',\n        DELAY:'delay',\n        ALTERNATE_PROCESS:'alternate-process',\n        DATA:'data',\n        DOCUMENT:'document',\n        MULTI_DOCUMENT:'multi-document',\n        PREPARATION:'preparation',\n        DISPLAY:'display',\n        MANUAL_INPUT:'manual-input',\n        MANUAL_OPERATION:'manual-operation'\n    },\n    EDGE:{TREE_LINE:'tree-line'}\n};\n\nexport class EzShapeManager {\n    shapes = new Map<string, EzShapeConstructor>();\n    \n    constructor(){\n        this.registerBuiltInShapes();\n    }\n    \n    private registerBuiltInShapes():void {\n        this.shapes.set(BUILTIN_SHAPE.LINE, EzLineShape);\n        this.shapes.set(BUILTIN_SHAPE.EDGE.TREE_LINE, EzTreeLineShape);\n        this.shapes.set(BUILTIN_SHAPE.RECTANGLE, EzRectangleShape);\n        this.shapes.set(BUILTIN_SHAPE.GRID_BACKGROUND, GridBackgroundShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.TERMINAL, TerminalShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.PROCESS, ProcessShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.DECISION, DecisionShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.INPUT_OUTPUT, InputOutputShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.PREDEFINED_PROCESS, PredefinedProcessShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.ON_PAGE_CONNECTOR, OnPageConnectorShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.OFF_PAGE_CONNECTOR, OffPageConnectorShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.DELAY, DelayShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.ALTERNATE_PROCESS, AlternateProcessShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.DATA, DataShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.DOCUMENT, DocumentShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.MULTI_DOCUMENT, MultiDocumentShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.PREPARATION, PreparationShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.DISPLAY, DisplayShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.MANUAL_INPUT, ManualInputShape);\n        this.shapes.set(BUILTIN_SHAPE.FLOW_CHART.MANUAL_OPERATION, ManualOperationShape);\n        this.shapes.set(BUILTIN_SHAPE.STICKER, StickerShape);\n        this.shapes.set(BUILTIN_SHAPE.ROUND_STICKER, RoundStickerShape);\n    }\n\n    public registerShape(shapeName:string, shape:EzShapeConstructor):void {\n        if(__DEV__){\n            if(this.shapes.get(shapeName)){\n                console.error(`shapeName ${shapeName} already exists , please use another shapeName`);\n            }\n        }\n        this.shapes.set(shapeName, shape);\n    }\n\n    public getShape(shapeName:string):EzShapeConstructor {\n        return this.shapes.get(shapeName);\n    }\n}","import { EzDiagram } from '../diagram/diagram';\nimport { EzDiagramPluginManager } from '../plugin';\nimport { EzDiagramView } from '../view';\nimport { EzViewState } from '../view/view/view-state';\n\nexport interface EzMouseEvent {\n    evt:MouseEvent,\n    state:EzViewState\n}\n\nexport class EzEvent {\n    _diagram:EzDiagram;\n\n    _view:EzDiagramView;\n\n    _pluginManager:EzDiagramPluginManager;\n\n    _isMouseDown = false;\n\n    constructor(diagram:EzDiagram, view:EzDiagramView){\n        this._diagram = diagram;\n        this._view = view;\n        this._pluginManager = diagram.pluginManager;\n    }\n\n    setupEventSystem(container:Element){\n        this.setupRootListeners(container);\n    }\n\n    setupRootListeners(container:Element):void{\n        container.addEventListener('mousedown', this.mouseHandler.bind(this));\n        container.addEventListener('mousemove', this.mouseHandler.bind(this));\n        container.addEventListener('mouseup', this.mouseHandler.bind(this));\n        container.addEventListener('click', this.mouseHandler.bind(this));\n        container.addEventListener('dblclick', this.mouseHandler.bind(this));\n    }\n\n    mouseHandler(evt:MouseEvent):void {\n        const view = this._diagram.view;\n        const target = evt.target as Element;\n        const state = view.getState(target);\n        const type = evt.type;\n        switch(type){\n        case 'mousedown':\n            this._isMouseDown = true;\n            this._mouseDown({evt, state});\n            break;\n        case 'mousemove':\n            this._mouseMove({evt, state});\n            if(this._isMouseDown){\n                this._pressMove({evt, state});\n            }\n            break;\n        case 'mouseup':\n            this._isMouseDown = false;\n            this._mouseUp({evt, state});\n            break;\n        case 'click':\n            this._click({evt, state});\n            break;\n        case 'dblclick':\n            this._dblclick({evt, state});\n            break;\n        default:\n            break;\n        }\n    }\n\n    private _mouseDown(evt:EzMouseEvent):void{\n        this._callHooks('onMouseDown', evt);\n    }\n\n    private _mouseMove(evt:EzMouseEvent):void{\n        this._callHooks('onMouseMove', evt);\n    }\n\n    private _mouseUp(evt:EzMouseEvent):void {\n        this._callHooks('onMouseUp', evt);\n    }\n\n    private _click(evt:EzMouseEvent):void {\n        this._callHooks('onClick', evt);\n    }\n\n    private _dblclick(evt:EzMouseEvent):void {\n        this._callHooks('onDblClick', evt);\n    }\n\n    private _pressMove(evt:EzMouseEvent):void {\n        this._callHooks('onPressMove', evt);\n    }\n\n    private _callHooks(hookName:string, evt:EzMouseEvent):void {\n        this._pluginManager.callHook('beforeCallingHook', evt);\n        this._pluginManager.callHook(hookName, evt);\n        if(evt.state){\n            this._view.callShapeEventHook(evt.state, hookName);\n        }\n    }\n}","import { COLOR_TRANSPARENT_WHITE } from '../constants/color';\nimport { EzRectangle } from '../model';\nimport { EzElement } from '../view/canvas/ez-element';\nimport { EzViewState } from '../view/view/view-state';\n\nexport interface ResizeBend {\n    [direction:number]:EzElement;\n}\n\nexport enum Direction {\n    TOP,\n    LEFT,\n    RIGHT,\n    BOTTOM,\n    TOP_LEFT,\n    TOP_RIGHT,\n    BOTTOM_LEFT,\n    BOTTOM_RIGHT\n}\n\nexport interface HandlerRects {\n    rect:EzElement;\n    transparent:EzElement;\n}\n\nexport const BEND_SIZE = 5;\nexport const BEND_CLASS = 'bend';\nexport const SOURCE_BEND_CLASS = 'source-bend';\nexport const VIRTUAL_BEND_CLASS = 'virtual-bend';\nexport const TERMINAL_BEND_CLASS = 'terminal-bend';\nexport const HANDLER_CONTAINER_CLASS = 'handler-container';\n\nexport const getBend = ()=> EzElement.el('ellipse').asHandler().attr({\n    rx:BEND_SIZE, ry:BEND_SIZE, fill:'white', stroke:'#d7d7d8', class:BEND_CLASS\n});\nexport const getVirtualBend = ()=>EzElement.el('ellipse').asHandler().attr({\n    rx:BEND_SIZE, ry:BEND_SIZE, fill:'#84a8ebe6', stroke:'#d7d7d8', class:VIRTUAL_BEND_CLASS\n});\n\nexport const rotateHandleImg = 'data:image/svg+xml,%3Csvg viewBox=\\'0 0 16 16\\' version=\\'1.1\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3E %3Cpath d=\\'M12.3912347,0.817629762 L13.3201585,4.17991814 L9.92775351,5.06028113 L9.5648437,3.74713753 L10.6449102,3.46643754 C9.42413688,2.82130749 8.00003902,2.65790004 6.65758935,3.01795124 C5.19519461,3.4072743 4.03005981,4.34885886 3.3285111,5.55662172 C2.62712304,6.76410802 2.38915649,8.23763041 2.78082924,9.69095528 C3.17253996,11.1439344 4.12000262,12.3014777 5.33486562,12.9985533 C6.55019029,13.6958938 8.03314201,13.9324678 9.49571085,13.5429692 C10.6137545,13.2477979 11.5781765,12.6164418 12.2868512,11.7707691 C13.0260002,10.888731 13.4869338,9.77354808 13.5537768,8.56349595 L13.5537768,8.56349595 L14.9762304,8.67622825 C14.8845994,10.1866299 14.3056729,11.5780384 13.3818873,12.6804719 C12.4887835,13.7462902 11.2733479,14.5420101 9.86458935,14.9139512 C8.02169426,15.4045722 6.15325419,15.1065535 4.62214536,14.2279878 C3.09080913,13.3492916 1.89691924,11.8899232 1.4031713,10.0580468 C0.909274184,8.22612814 1.209206,6.36837862 2.09373695,4.84598612 C2.97785145,3.3243104 4.4460621,2.13765442 6.28921632,1.64710063 C7.99908526,1.18943811 9.81443957,1.40503907 11.3644489,2.24050621 L11.3644489,2.24050621 L11.0669155,1.16215767 L12.3912347,0.817629762 Z\\' stroke=\\'%23fff\\' stroke-width=\\'0.3\\' fill=\\'%23222325\\'%3E %3C/path%3E %3C/svg%3E ';\nexport const getResizeBends = ():ResizeBend=>{\n    return {\n        [Direction.TOP]:getBend().style({cursor:'ns-resize'}).attr({direction:Direction.TOP}),\n        [Direction.RIGHT]:getBend().style({cursor:'ew-resize'}).attr({direction:Direction.RIGHT}),\n        [Direction.BOTTOM]:getBend().style({cursor:'ns-resize'}).attr({direction:Direction.BOTTOM}),\n        [Direction.LEFT]:getBend().style({cursor:'ew-resize'}).attr({direction:Direction.LEFT}),\n        [Direction.TOP_LEFT]:getBend().style({cursor:'nwse-resize'}).attr({direction:Direction.TOP_LEFT}),\n        [Direction.TOP_RIGHT]:getBend().style({cursor:'nesw-resize'}).attr({direction:Direction.TOP_RIGHT}),\n        [Direction.BOTTOM_LEFT]:getBend().style({cursor:'nesw-resize'}).attr({direction:Direction.BOTTOM_LEFT}),\n        [Direction.BOTTOM_RIGHT]:getBend().style({cursor:'nwse-resize'}).attr({direction:Direction.BOTTOM_RIGHT}),\n    };\n};\n\nexport const getHandlerRects=(bounds:EzRectangle):HandlerRects=>{\n    return {rect:EzElement.el('rect').asHandler().attr({...bounds.plain(), ...{\n        stroke:'#4e9dec',\n        strokeWidth:1,\n        fill:COLOR_TRANSPARENT_WHITE\n    }}),\n        transparent:EzElement.el('rect').asHandler().attr(\n            {...bounds.plain(), ...{\n                stroke:COLOR_TRANSPARENT_WHITE,\n                strokeWidth:3,\n                fill:'none'\n            }}\n        ), };\n};\n\nexport const getRotationHandler = ()=>{\n    const image = EzElement.el('image').asHandler();\n    image.el.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', rotateHandleImg);\n    return image.style({cursor:'pointer'}).attr({class:'rotation-handler'});\n};\n\nexport const getHandlerContainer = (state:EzViewState):EzElement => {\n    return EzElement.el('g').attr({class:HANDLER_CONTAINER_CLASS, dataId:state.node.id});\n};","import { EzElement } from '../canvas/ez-element';\n\nexport declare type MarkerShapeGetter = ()=>Element;\n\nexport class EzMarker {\n\n    public markerWidth:number;\n\n    public markerHeight:number;\n\n    public refX:number;\n\n    public refY:number;\n\n    public markerNode:SVGMarkerElement;\n\n    constructor(markerWidth:number, markerHeight:number, refX:number, refY:number, shapeGetter:MarkerShapeGetter){\n        this.markerWidth = markerWidth;\n        this.markerHeight = markerHeight;\n        this.refX = refX;\n        this.refY = refY;\n        this.drawMarker();\n        this.markerNode.appendChild(shapeGetter());\n    }\n\n    private drawMarker():void {\n        this.markerNode = EzElement.el('marker').attr({\n            markerWidth:this.markerWidth,\n            markerHeight:this.markerHeight,\n            refX:this.refX,\n            refY:this.refY,\n            orient:'auto-start-reverse'\n        }, false).el as SVGMarkerElement;\n    }\n\n}","import { EzRectangle } from '../../../model';\nimport { EzElement } from '../../canvas/ez-element';\nimport { EzMarker } from '../marker';\n\nexport const squareMarker = new EzMarker(\n    4, 4, 2, 2, ()=>{\n        return EzElement.el('rect').attr(new EzRectangle(0, 0, 4, 4).plain()).el;\n    }\n);","import { EzPoint } from '../../../model';\nimport { EzElement } from '../../canvas/ez-element';\nimport { EzMarker } from '../marker';\n\nexport const triangleMarker = new EzMarker(\n    4, 4, 3.5, 2, ()=>{\n        return EzElement.line([\n            new EzPoint(0, 0),\n            new EzPoint(0, 4),\n            new EzPoint(4, 2),\n            new EzPoint(0, 0)\n        ]).el;\n    }\n);","import { squareMarker } from './built-in/square-marker-shape';\nimport { triangleMarker } from './built-in/triangle-marker-shape';\nimport { EzMarker } from './marker';\n\nexport const BUILTIN_MARKER = {SQUARE : 'SQUARE', TRIANGLE : 'TRIANGLE'};\n\nexport class EzMarkerRegister {\n    static markers:Map<string, EzMarker> = new Map();\n\n    static registerMarker(markerName:string, marker:EzMarker):boolean{\n        if(!marker) return;\n\n        if(EzMarkerRegister.markers.has(markerName)) return;\n\n        EzMarkerRegister.markers.set(markerName, marker);\n        return true;\n    }\n}\n\nEzMarkerRegister.registerMarker(BUILTIN_MARKER.SQUARE, squareMarker);\nEzMarkerRegister.registerMarker(BUILTIN_MARKER.TRIANGLE, triangleMarker);\n\n","import {EZ_VIEW_EDGE_CLASS, EZ_VIEW_VERTEX_CLASS} from '../../constants';\nimport { EzDiagram } from '../../diagram/diagram';\nimport { EzEvent } from '../../event/event';\nimport {\n EzEdge, EzRectangle, EzVertex\n} from '../../model';\nimport { EzConstraint } from '../../model/constraint/constraint';\nimport { EzDiagramNode } from '../../model/diagram-node';\nimport { EzPoint } from '../../model/point';\nimport { Direction, HANDLER_CONTAINER_CLASS } from '../../plugin/handler-dom';\nimport {\n getCenterPoint, getNormOfVector, getScalarMulOfVector, getUnitVector, getVector, getVectorEndPoint, getVectorProjection, toRectPoints, Vector \n} from '../../utils/math';\nimport { EzElement } from '../canvas/ez-element';\nimport { EzMarkerRegister } from '../marker/marker-register';\nimport { EzShapeStyle } from '../shape';\nimport { EzShapeManager } from '../shape/shape-manager';\nimport { getSvgStyle } from '../style/style';\nimport {\n EzEdgeViewState, EzVertexViewState, EzViewState, STATE_WORK_TYPE \n} from './view-state';\n\nexport class EzDiagramView {\n\n    private _diagram:EzDiagram;\n\n    private _translate = new EzPoint(0, 0);\n\n    private _scaleCenter = new EzPoint(0, 0);\n\n    private _scale = 1;\n\n    public svg:EzElement;\n\n    public defs:EzElement;\n\n    public shapeGroup:EzElement;\n\n    public overlayGroup:EzElement;\n\n    public stateMapping = new Map<string, EzViewState>();\n\n    public shapeManager = new EzShapeManager();\n\n    public states:EzViewState [] = [];\n\n    public dirtyStates:EzViewState[] = [];\n\n    public size:DOMRect;\n\n    constructor(diagram:EzDiagram){\n        this._diagram = diagram;\n        this._init();\n    }\n\n    private _init() {\n        this._createSvg();\n        this._createDefs();\n        this._createShapeGroup();\n        this._createOverlayGroup();\n        this._createEventSystem();\n        this._startCommitLoop();\n        this.stateMapping.clear();\n        this.states.length = 0;\n        this.dirtyStates.length =0;\n    }\n\n    private _startCommitLoop():void {\n        const step = ()=> {\n            this.commit();\n            window.requestAnimationFrame(step);\n        };\n        window.requestAnimationFrame(step);\n    }\n\n    public getScale():number {\n        return this._scale;\n    }\n\n    public setScale(scale:number):void {\n        this._diagram.pluginManager.callHook('onScaleDiagram', this._scale, scale);\n        this._scale = scale;\n    }\n\n    public translate(offset:EzPoint):void {\n        this.setTranslate(this.getTranslate().clone().translate(offset));\n    }\n\n    public setTranslate(translate:EzPoint):void {\n        this._diagram.pluginManager.callHook('onTranslateDiagram', this._translate.clone(), translate);\n        this._translate= translate;\n    }\n\n    public getTranslate():EzPoint {\n        return this._translate;\n    }\n\n    public rerender():EzElement {\n        this._init();\n        const svg = this.render();\n        this.diagram.pluginManager.callHook('onRendered');\n        return svg;\n    }\n\n    public render():EzElement {\n        const nodes = this.diagram.model.nodes;\n        nodes.forEach(child=>{\n            let state:EzViewState;\n            if(child instanceof EzVertex && !this.stateMapping.get(child.id)){\n                state = this._createState<EzVertexViewState>(child);\n                this.stateMapping.set(child.id, state);\n                this.states.push(state);\n            } \n\n            if(child instanceof EzEdge && !this.stateMapping.get(child.id)){\n                state = this._createState<EzEdgeViewState>(child);\n                this.stateMapping.set(child.id, state);\n                this.states.push(state);\n            } \n        });\n\n        requestAnimationFrame(()=>{\n            this.size = this.svg.el.getBoundingClientRect();\n        });\n        return this.svg;\n    }\n\n    public getState(el:Element):EzViewState {\n        const elm = EzElement.el(el);\n        let stateEl = elm.farestAncestor(`.${EZ_VIEW_VERTEX_CLASS}`);\n        if(!stateEl) stateEl = elm.farestAncestor(`.${EZ_VIEW_EDGE_CLASS}`);\n        if(!stateEl) stateEl = elm.farestAncestor(`.${HANDLER_CONTAINER_CLASS}`);\n        if(stateEl){\n            const stateId = stateEl.data('id');\n            return this.stateMapping.get(stateId);\n        }\n    }\n\n    private _createEventSystem():void {\n        const ev = new EzEvent(this._diagram, this);\n        ev.setupEventSystem(this.svg.el);\n    }\n\n    private _createSvg():void{\n        this.svg = EzElement.el('svg');\n    }\n\n    private _createDefs(): void {\n        this.defs = EzElement.el('defs');\n        this.svg.appendChild(this.defs);\n    }\n\n    private _createShapeGroup():void {\n        this.shapeGroup = EzElement.el('g').attr({class:'ez-shape-group'});\n        this.svg.appendChild(this.shapeGroup);\n    }\n\n    private _createOverlayGroup():void {\n        this.overlayGroup = EzElement.el('g').attr({class:'ez-overlay-group'});\n        this.svg.appendChild(this.overlayGroup);\n    }\n\n    private _createState<T>(node:EzDiagramNode):T{\n        let state;\n        if(node instanceof EzVertex) {\n            state = new EzVertexViewState(node, this);\n        }else if(node instanceof EzEdge) {\n            state = new EzEdgeViewState(node, this);\n        }\n        state.updateWork = STATE_WORK_TYPE.NEED_CREATE;\n        state.scaleAndTranslate(this._scale, this._translate, new EzPoint(0, 0));\n        state = state as T;\n        if(state instanceof EzVertexViewState){\n            state.bounds = this.ensureBoundsMeetsGridSize(state.bounds);\n        }\n\n        if(state instanceof EzEdgeViewState){\n            state.points = state.points.map(pt=>this.ensurePointMeetsGrid(pt));\n        }\n        \n        return state;\n    }\n\n    private _updateState(state:EzViewState) {\n        state.style = state.node.style;\n        state.scaleAndTranslate(this._scale, this._translate);\n    }\n\n    private _generateMarkerDefs(state:EzEdgeViewState):EzShapeStyle {\n        const style = state.style;\n        const stateId = state.id;\n        const updatedStyle:EzShapeStyle = {};\n        const genMarkerDef = (markerType, markerId) => {\n            const marker = EzMarkerRegister.markers.get(markerType);\n            const clonedEl = marker.markerNode.cloneNode(true) as Element;\n            clonedEl.setAttribute('id', markerId);\n            this.defs.appendChild(EzElement.el(clonedEl));\n        };\n        \n        if(style.markerStart){\n            const startType = style.markerStart;\n            const markerId = `${startType}_${stateId}`;\n            updatedStyle.markerStart = markerId;\n            genMarkerDef(startType, markerId);\n        }\n        if(style.markerEnd){\n            const endType = style.markerEnd;\n            const markerId = `${endType}_${stateId}`;\n            updatedStyle.markerEnd = markerId;\n\n            if(markerId !== updatedStyle.markerStart) {\n                genMarkerDef(endType, markerId);\n            }\n        }\n\n        return {...getSvgStyle(style), ...updatedStyle};\n    }\n\n    private _translateState(state:EzViewState, distance:EzPoint, workType:STATE_WORK_TYPE):void{\n        const moveState = (state:EzViewState):void=>{\n            if(state instanceof EzVertexViewState){\n                const alternate = state.clone();\n\n                const bounds = EzRectangle.translate(state.getBounds(), distance);\n                alternate.bounds = this.ensureBoundsMeetsGridSize(bounds);\n                state.updateWork = workType;\n                state.alternate = alternate;\n                this.diagram.pluginManager.callHook(workType === STATE_WORK_TYPE.UPDATE_VIEW?'onMovingVertex':'onMoveVertex', state);\n                if(state.children?.length){\n                    moveChildren(state);\n                }\n            } else {\n                const alternate = state.clone();\n                alternate.translate(distance);\n                alternate.points = alternate.points.map(pt=>this.ensurePointMeetsGrid(pt));\n                state.updateWork = workType;\n                state.alternate = alternate;\n            }\n        };\n\n        const moveChildren = (state:EzVertexViewState)=>{\n            state.children.forEach(childState=>{\n                if(childState instanceof EzVertexViewState){\n                    moveState(childState);\n                } else {\n                    // TODO  move edge\n                }\n            });\n        };\n\n        moveState(state);\n    }\n\n    private _rotateState(state:EzVertexViewState, deltaAngle:number, workType:STATE_WORK_TYPE):void {\n        if(__DEV__){\n            if(state.children?.length){\n                console.error('rotation is only support vertex that does not have children.');\n            }\n        }\n        const alternate = state.alternate || state.clone();\n        const rotationAngle = (state.style.rotation || 0) + deltaAngle;\n        const rotationStep = this.diagram.configManager.rotationStep;\n        alternate.style.rotation = rotationAngle === 0 ? rotationAngle :Math.floor(rotationAngle/rotationStep) * rotationStep;\n        state.updateWork = workType;\n        state.alternate = alternate;\n        this.diagram.pluginManager.callHook(workType===STATE_WORK_TYPE.UPDATE_VIEW?'onRotatingVertex':'onRotateVertex', state);\n    }\n\n    private _scaleState(state:EzVertexViewState, currentMousePoint:EzPoint, workType:STATE_WORK_TYPE, direction:Direction){\n        currentMousePoint = this.ensurePointMeetsGrid(currentMousePoint);\n        \n        const scaleVertex = (state:EzVertexViewState):void=>{\n            let centerPt:EzPoint;\n            let width:number;\n            let height:number;\n\n            const originalBounds = state.getBounds();\n            const originalRectPts = toRectPoints(originalBounds, state.style.rotation);\n            const wVector = getVector(originalRectPts.TOP_LEFT, originalRectPts.TOP_RIGHT);\n            const hVector = getVector(originalRectPts.TOP_LEFT, originalRectPts.BOTTOM_LEFT);\n            const wUnitVector = getUnitVector(wVector);\n            const hUnitVector = getUnitVector(hVector);\n\n            // drag rectangle's four vertexes\n            if([Direction.TOP_LEFT, Direction.TOP_RIGHT, Direction.BOTTOM_LEFT, Direction.BOTTOM_RIGHT].includes(direction)){\n\n\n                switch(direction){\n                case Direction.TOP_LEFT:\n                    centerPt = new EzPoint((currentMousePoint.x+originalRectPts.BOTTOM_RIGHT.x)/2, (currentMousePoint.y+originalRectPts.BOTTOM_RIGHT.y)/2);\n                    width = getVectorProjection(getVector(currentMousePoint, originalRectPts.BOTTOM_RIGHT), wVector);\n                    height = getVectorProjection(getVector(currentMousePoint, originalRectPts.BOTTOM_RIGHT), hVector);\n                    break;\n                case Direction.TOP_RIGHT:\n                    centerPt = new EzPoint((currentMousePoint.x+originalRectPts.BOTTOM_LEFT.x)/2, (currentMousePoint.y+originalRectPts.BOTTOM_LEFT.y)/2);\n                    width = getVectorProjection(getVector(currentMousePoint, originalRectPts.BOTTOM_LEFT), wVector);\n                    height = getVectorProjection(getVector(currentMousePoint, originalRectPts.BOTTOM_LEFT), hVector);\n                    break;\n                case Direction.BOTTOM_LEFT:\n                    centerPt = new EzPoint((currentMousePoint.x+originalRectPts.TOP_RIGHT.x)/2, (currentMousePoint.y+originalRectPts.TOP_RIGHT.y)/2);\n                    width = getVectorProjection(getVector(currentMousePoint, originalRectPts.TOP_RIGHT), wVector);\n                    height = getVectorProjection(getVector(currentMousePoint, originalRectPts.TOP_RIGHT), hVector);\n                    break;\n                case Direction.BOTTOM_RIGHT:\n                    centerPt = new EzPoint((currentMousePoint.x+originalRectPts.TOP_LEFT.x)/2, (currentMousePoint.y+originalRectPts.TOP_LEFT.y)/2);\n                    width = getVectorProjection(getVector(currentMousePoint, originalRectPts.TOP_LEFT), wVector);\n                    height = getVectorProjection(getVector(currentMousePoint, originalRectPts.TOP_LEFT), hVector);\n                    break;\n                }\n                           \n            }\n            // drag rectangle's four edges\n            if([Direction.TOP, Direction.RIGHT, Direction.BOTTOM, Direction.LEFT].includes(direction)){\n                let startPt:EzPoint;\n                let projection:number;\n                let movedVector:Vector;\n                let endPoint:EzPoint;\n\n                switch(direction) {\n                case Direction.LEFT:\n                    startPt = getCenterPoint(originalRectPts.BOTTOM_LEFT, originalRectPts.TOP_LEFT);\n                    projection = getVectorProjection(getVector(startPt, currentMousePoint), wVector);\n                    movedVector = getScalarMulOfVector(wUnitVector, getNormOfVector(wVector)-projection);\n                    endPoint = getVectorEndPoint(getScalarMulOfVector(movedVector, -1), originalRectPts.TOP_RIGHT);\n\n                    centerPt = new EzPoint((endPoint.x+originalRectPts.BOTTOM_RIGHT.x)/2, (endPoint.y+originalRectPts.BOTTOM_RIGHT.y)/2);\n                    width = getVectorProjection(getVector(endPoint, originalRectPts.BOTTOM_RIGHT), wVector);\n                    height = getVectorProjection(getVector(endPoint, originalRectPts.BOTTOM_RIGHT), hVector);\n                    break;\n                case Direction.TOP:\n                    startPt = getCenterPoint(originalRectPts.TOP_LEFT, originalRectPts.TOP_RIGHT);\n                    projection = getVectorProjection(getVector(startPt, currentMousePoint), hVector);\n                    movedVector = getScalarMulOfVector(hUnitVector, getNormOfVector(hVector)-projection);\n                    endPoint = getVectorEndPoint(getScalarMulOfVector(movedVector, -1), originalRectPts.BOTTOM_LEFT);\n\n                    centerPt = new EzPoint((endPoint.x+originalRectPts.BOTTOM_RIGHT.x)/2, (endPoint.y+originalRectPts.BOTTOM_RIGHT.y)/2);\n                    width = getVectorProjection(getVector(endPoint, originalRectPts.BOTTOM_RIGHT), wVector);\n                    height = getVectorProjection(getVector(endPoint, originalRectPts.BOTTOM_RIGHT), hVector);\n                    break;\n                case Direction.RIGHT:\n                    startPt = getCenterPoint(originalRectPts.TOP_RIGHT, originalRectPts.BOTTOM_RIGHT);\n                    projection = getVectorProjection(getVector(startPt, currentMousePoint), wVector);\n                    movedVector = getScalarMulOfVector(wUnitVector, getNormOfVector(wVector)+projection);\n                    endPoint = getVectorEndPoint(movedVector, originalRectPts.TOP_LEFT);\n\n                    centerPt = new EzPoint((endPoint.x+originalRectPts.BOTTOM_LEFT.x)/2, (endPoint.y+originalRectPts.BOTTOM_LEFT.y)/2);\n                    width = getVectorProjection(getVector(endPoint, originalRectPts.BOTTOM_LEFT), wVector);\n                    height = getVectorProjection(getVector(endPoint, originalRectPts.BOTTOM_LEFT), hVector);\n                    break;\n                case Direction.BOTTOM:\n                    startPt = getCenterPoint(originalRectPts.BOTTOM_LEFT, originalRectPts.BOTTOM_RIGHT);\n                    projection = getVectorProjection(getVector(startPt, currentMousePoint), hVector);\n                    movedVector = getScalarMulOfVector(hUnitVector, getNormOfVector(hVector)+projection);\n                    endPoint = getVectorEndPoint(movedVector, originalRectPts.TOP_LEFT);\n\n                    centerPt = new EzPoint((endPoint.x+originalRectPts.TOP_RIGHT.x)/2, (endPoint.y+originalRectPts.TOP_RIGHT.y)/2);\n                    width = getVectorProjection(getVector(endPoint, originalRectPts.TOP_RIGHT), wVector);\n                    height = getVectorProjection(getVector(endPoint, originalRectPts.TOP_RIGHT), hVector);\n                    break;\n                }\n            }\n            width = Math.abs(width);\n            height = Math.abs(height);\n\n\n            const nextBounds = new EzRectangle(centerPt.x-width/2, centerPt.y-height/2, width, height);  \n            const alternate = state.alternate || state.clone();\n            alternate.bounds = nextBounds;\n            state.updateWork = workType;\n            state.alternate = alternate;\n            this.diagram.pluginManager.callHook(workType===STATE_WORK_TYPE.UPDATE_VIEW?'onResizingVertex':'onResizeVertex', state);\n            if(state.children?.length){\n                scaleChildren(state);\n            }\n\n        };\n\n\n        const scaleChildren = (state:EzVertexViewState)=>{\n            state.children.forEach(childState=>{\n                if(childState instanceof EzVertexViewState){\n                    scaleVertex(childState);\n                } else {\n                    // TODO  move edge\n                }\n            });\n        };\n\n        scaleVertex(state);\n    }\n\n    private _updateEdgePoint(state:EzEdgeViewState, nextPosition:EzPoint, index:number, update:boolean, workType:STATE_WORK_TYPE):void {\n        const alternate = state.clone();\n\n        nextPosition = this.ensurePointMeetsGrid(nextPosition);\n        let points=state.points.map(pt=>pt.clone());\n        // if nextPosition is not provided , delete point\n        if(!nextPosition){ \n            points.splice(index, 1);\n        }else if(update){\n            points = state.points.map((p, i)=>{\n                if(i===index){\n                    return nextPosition.clone();\n                }else {\n                    return p.clone();\n                }\n            });\n        }else {\n            points.splice(index, 0, nextPosition.clone());\n        }\n\n        alternate.points = points;\n        state.updateWork = workType;\n        state.alternate = alternate;\n    }\n\n    private _updateModel(state:EzViewState):void {\n        const scale = this.getScale();\n        const translate = this.getTranslate();\n        if(state instanceof EzVertexViewState) {\n            const node = state.node;\n            const stateBounds = state.getBounds();\n            const bounds = new EzRectangle(stateBounds.x/scale-translate.x, stateBounds.y/scale-translate.y, stateBounds.width/scale, stateBounds.height/scale);\n            node.bounds = bounds;\n        }else if(state instanceof EzEdgeViewState) {\n            const node = state.node;\n            const statePoints = state.getPoints();\n            const points = statePoints.map(point=>{\n                return new EzPoint(point.x/scale-translate.x, point.y/scale-translate.y);\n            });\n            node.points = points;\n        }\n    }\n\n    private _removeState(state:EzViewState):void {\n        state.shape.destroy();\n        if(state.node){\n            if(state.node instanceof EzVertex){\n                this.diagram.model.removeVertex(state.node);\n            }else {\n                this.diagram.model.removeEdge(state.node);\n            }\n            this.diagram.pluginManager.callHook('onRemoveState', state);\n        }\n        this.stateMapping.delete(state.node.id);\n        this.states.splice(this.states.indexOf(state), 1);\n    }\n\n    /**\n     * \n     * ensure bounds meets grid line\n     * @param bounds \n     */\n    public ensureBoundsMeetsGridSize(bounds:EzRectangle):EzRectangle {\n        const gridSize = this.diagram.configManager.gridSize;\n        bounds.x = Math.round(bounds.x/gridSize) * gridSize;\n        bounds.y = Math.round(bounds.y/gridSize) * gridSize;\n        bounds.width = Math.floor(bounds.width/gridSize) * gridSize;\n        bounds.height = Math.floor(bounds.height/gridSize) * gridSize;\n        return bounds;\n    }\n\n    /**\n     * ensure point meets grid\n     * @param point \n     * @returns \n     */\n    public ensurePointMeetsGrid(point:EzPoint):EzPoint {\n        const gridSize = this.diagram.configManager.gridSize;\n        const pt = point.clone();\n        pt.x = Math.floor(pt.x/gridSize) * gridSize;\n        pt.y = Math.floor(pt.y/gridSize) * gridSize;\n        return pt;\n    }\n\n    public movingVertex(state:EzVertexViewState, distance:EzPoint):void {\n        this._translateState(state, distance, STATE_WORK_TYPE.UPDATE_VIEW);\n    }\n\n    public moveVertex(state:EzVertexViewState, distance:EzPoint):void {\n        this._translateState(state, distance, STATE_WORK_TYPE.UPDATE_TO_MODEL);\n    }\n\n\n    public rotatingVertex(state:EzVertexViewState, deltaAngle:number):void {\n        this._rotateState(state, deltaAngle, STATE_WORK_TYPE.UPDATE_VIEW);\n    }\n\n    public rotateVertex(state:EzVertexViewState, deltaAngle:number):void {\n        this._rotateState(state, deltaAngle, STATE_WORK_TYPE.UPDATE_TO_MODEL);\n    }\n\n\n    public resizingVertex(state:EzVertexViewState, currentMousePoint:EzPoint, direction:Direction):void {\n        this._scaleState(state, currentMousePoint, STATE_WORK_TYPE.UPDATE_VIEW, direction);\n    }\n\n    public resizeVertex(state:EzVertexViewState, currentMousePoint:EzPoint, direction:Direction):void {\n        this._scaleState(state, currentMousePoint, STATE_WORK_TYPE.UPDATE_TO_MODEL, direction);\n    }\n\n    public updateText(state:EzViewState, text:string):void {\n        if(state instanceof EzVertexViewState){\n            const node = state.node;\n            node.text = text;\n            state.updateWork = STATE_WORK_TYPE.UPDATE_TO_MODEL;\n            // this.diagram.pluginManager.callEventHook()\n        }\n    }\n\n    public movingEdge(state:EzEdgeViewState, distance:EzPoint):void {\n        this._translateState(state, distance, STATE_WORK_TYPE.UPDATE_VIEW);\n    }\n\n    public moveEdge(state:EzEdgeViewState, distance:EzPoint):void {\n        this._translateState(state, distance, STATE_WORK_TYPE.UPDATE_TO_MODEL);\n    }\n\n    public changingEdgePoint(state:EzEdgeViewState, nextPosition:EzPoint, index:number, update = false):void {\n        this._updateEdgePoint(state, nextPosition, index, update, STATE_WORK_TYPE.UPDATE_VIEW);\n    }\n\n    public changeEdgePoint(state:EzEdgeViewState, nextPosition:EzPoint, index:number, update = false):void {\n        this._updateEdgePoint(state, nextPosition, index, update, STATE_WORK_TYPE.UPDATE_TO_MODEL);\n    }\n\n    /**\n     * update or set related terminal vertex for edge\n     * @param state \n     * @param terminal \n     * @param constraint - terminal constraint \n     * @param isSource - is source point of vertex\n     */\n    public updateTerminalVertex(state:EzEdgeViewState, terminal:EzVertex, constraint:EzConstraint, isSource = false):void {\n        if(__DEV__){\n            if(!(state instanceof EzEdgeViewState)){\n                console.error(`EzDiagramView.updateTerminalVertex: invalid param , expect state instance of EzEdgeViewState , got ${Object.prototype.toString.call(state)}`);\n            }\n        }\n\n        const model = this.diagram.model;\n        model.updateTerminalVertex(state.node, terminal, constraint, isSource);\n    }\n\n\n    /**\n     * commit changes to DOM\n     * @param force force udpate all DOM elements\n     * @returns \n     */\n    public commit(): void{\n        this._diagram.pluginManager.callHook('beforeViewUpdate', this._diagram);\n        this.dirtyStates.forEach(state=>{\n            const createShape = ()=>{\n                const shapeCtor =this.shapeManager.getShape(state.style.shape);\n                if(__DEV__){\n                    if(!shapeCtor){\n                        console.error(`no shape found for the given name: ${state.style.shape}`);\n                    }\n                }\n                if(state instanceof EzVertexViewState){\n                    state.shape = new shapeCtor(state);\n                    state.shape.draw();\n                }else {\n                    const updatedStyle = this._generateMarkerDefs(state);\n                    state.shape = new shapeCtor(state);\n                    state.shape.setStyle(updatedStyle);\n                    state.shape.draw();\n                }\n                const parentEl = this.shapeGroup;\n                parentEl.appendChild(state.shape.root);\n                state.updateWork = STATE_WORK_TYPE.NO_WORK;\n            };\n            // first time to render dom\n            if(state.updateWork===STATE_WORK_TYPE.NEED_CREATE){\n                createShape();\n            }\n\n            if(state.updateWork === STATE_WORK_TYPE.UPDATE_VIEW){\n                state.shape.redraw();\n                state.updateWork = STATE_WORK_TYPE.NO_WORK;\n            }\n\n            if(state.updateWork === STATE_WORK_TYPE.UPDATE_TO_MODEL){\n                state.shape.redraw();\n                state.updateWork = STATE_WORK_TYPE.NO_WORK;\n                Object.assign(state, state.alternate);\n                state.alternate = null;\n                this._updateModel(state);\n            }\n\n            if(state.updateWork === STATE_WORK_TYPE.UPDATE_FROM_MODEL){\n                this._updateState(state);\n                if(state.shape){\n                    state.shape.redraw();\n                }else {\n                    createShape();\n                }\n                state.updateWork = STATE_WORK_TYPE.NO_WORK;\n            }\n        });\n        if(this.dirtyStates.length){\n            this._diagram.pluginManager.callHook('afterViewUpdate', this._diagram);\n        }\n        this.dirtyStates.length=0;\n    }\n\n    markAllDirty(){\n        this.states.forEach(state=>{\n            state.updateWork = STATE_WORK_TYPE.UPDATE_FROM_MODEL;\n        })\n    }\n\n\n    /**\n     * add state for temporary usage\n     * @param node \n     * @returns \n     */\n    public addTempState(node:EzDiagramNode):EzViewState {\n        const state = this._createState<EzViewState>(node);\n        this.states.push(state);\n        this.stateMapping.set(node.id, state);\n        return state;\n    }\n\n    /**\n     * remove temporary state\n     * @param node \n     * @returns \n     */\n    public removeTempState(state:EzViewState):void {\n        return this._removeState(state);\n    }\n\n    /**\n     * get current mouse point relative to view container\n     * @param evt \n     */\n    public getMousePointRelateToContainer(evt:MouseEvent):EzPoint {\n        return new EzPoint(evt.pageX - this.size.left, evt.pageY - this.size.top);\n    }\n\n    public setZoomCenter(point:EzPoint):void{\n        if(!point) return;\n        this._scaleCenter = point;\n    }\n\n    public getZoomCenter():EzPoint {\n        return this._scaleCenter;\n    }\n\n    /**\n     * call event hook on a given state's shape\n     * @param state \n     * @param hookName \n     * @param args \n     * @returns \n     */\n    public callShapeEventHook(state:EzViewState, hookName:string, ...args):void {\n        const shape = state.shape;\n        if(!shape) return;\n\n        const hookFn = shape[hookName];\n        if(hookFn){\n            hookFn.apply(shape, args);\n        }\n    }\n\n    /**\n     * remove view states from EzDiagramView\n     * @param states \n     */\n    public removeStates(states:EzViewState[]):void {\n        states.forEach(state=>{\n            this._removeState(state);\n        });\n    }\n\n    /**\n     * change z index oder for given node\n     * @param node \n     * @param targetPosition\n     *\n     */\n    public changeOrder(node:EzDiagramNode, targetPosition:number):void {\n        const state = this.stateMapping.get(node.id);\n        const siblings = state.parent.children;\n        if(targetPosition<0) targetPosition = 0;\n        if(targetPosition>siblings.length-1) targetPosition = siblings.length-1;\n        const currentIndex = siblings.indexOf(state);\n        const tmp = siblings[targetPosition];\n        siblings[targetPosition] = state;\n        siblings[currentIndex] = tmp;\n        if(targetPosition>currentIndex){\n            const sibling = tmp.shape.root.el.nextElementSibling;\n            if(sibling){\n                state.shape.root.insertBefore(EzElement.el(sibling));\n            }else {\n                state.shape.root.el.parentElement.appendChild(state.shape.root.el);\n            }\n        }else {\n            state.shape.root.insertBefore(tmp.shape.root);\n        }\n\n        this.diagram.model.changeOrder(node, targetPosition);\n    }\n\n\n    /**\n     * Getter diagram\n     * @return {EzDiagram}\n     */\n    public get diagram(): EzDiagram {\n        return this._diagram;\n    }\n\n    /**\n     * Setter diagram\n     * @param {EzDiagram} value\n     */\n    public set diagram(value: EzDiagram) {\n        this._diagram = value;\n    }\n}","import { EzDiagram } from '../../diagram/diagram';\nimport { EzMouseEvent } from '../../event/event';\nimport {EzPoint, EzRectangle} from '../../model';\nimport {getNormOfVector, getVector} from '../../utils/math';\nimport { EzElement } from '../../view';\nimport { EzDiagramView } from '../../view/view/view';\nimport { EzViewState } from '../../view/view/view-state';\nimport {EzDiagramPlugin, EzPluginContext} from '../diagram-plugin';\n\n/**\n *  selection plugin is a built in plugin that handles element selection in a diagram,for example: \n *  + if you click on a single element(edge or vertex) , the element will be selected and will be placed in the {@link EzDiagramPluginManager.pluginContext}\n *  + if you use mouse dragging to select multiple elements, those elements will  also be placed in the {@link EzDiagramPluginManager.pluginContext}\n * \n *  access the selected element via:\n *  ```javascript\n *     // diagram is instance of EzDiagram\n *     const selected = diagram.pluginManager.getContext().selectedViewStates;\n *  ```\n */\nexport class SelectPlugin extends EzDiagramPlugin {\n    static SELECTION_BOX_TOLERANCE = 4;\n\n    startPoint:EzPoint;\n\n    selectionBox:Element;\n\n    selectionArea:EzRectangle;\n   \n    constructor(diagram:EzDiagram, context:EzPluginContext){\n        super(diagram, context);\n        this.createSelectionBox();\n    }\n\n    get selected():EzViewState[] {\n        return this.context.selectedViewStates || [];\n    }\n\n    canActivate():boolean {\n        return true;\n    }\n\n    private createSelectionBox():void {\n        this.selectionBox=EzElement.el('rect').attr({\n            stroke:'#0000DD',\n            strokeWidth:1,\n            fill:'#99ccff2b',\n            x:0,\n            y:0,\n            width:SelectPlugin.SELECTION_BOX_TOLERANCE,\n            height:SelectPlugin.SELECTION_BOX_TOLERANCE\n        }).el;\n    }\n\n    private getInterSelectionStates(view:EzDiagramView):EzViewState[] {\n        const svg = view.svg.el as SVGSVGElement;\n        const rect = svg.createSVGRect();\n        rect.x = this.selectionArea.x;\n        rect.y = this.selectionArea.y;\n        rect.width = this.selectionArea.width;\n        rect.height = this.selectionArea.height;\n        const nodeList = svg.getIntersectionList(rect, null);\n        const states = [];\n        nodeList.forEach(node=>{\n            const state = view.getState(node);\n            if(state) states.push(state);\n        });\n\n        return states;\n    }\n\n\n    onMouseDown({state, evt}:EzMouseEvent){\n        this.startPoint = this.diagram.view.getMousePointRelateToContainer(evt);\n        if(state?.style.selectable === false) {\n            this.changeSelection([]);\n            this.selectionBox.remove();\n            this.selectionArea = null;\n            return;\n        }\n        if(this.isHandlerEvent(evt)) return;\n\n        if(state) {\n            if(this.context.selectedViewStates?.includes(state)) return;\n            else this.changeSelection([state]);\n        } else {\n            this.changeSelection([]);\n        }\n    }\n\n    onPressMove({state, evt}:EzMouseEvent){\n        if(state?.style.selectable === false) return;\n        if(this.selected.length) return;\n        const view = this.diagram.view;\n\n        const currentPoint = this.diagram.view.getMousePointRelateToContainer(evt);\n        const moveDistance = getNormOfVector(getVector(this.startPoint, currentPoint));\n        if(moveDistance>SelectPlugin.SELECTION_BOX_TOLERANCE){\n            view.overlayGroup.appendChild(EzElement.el(this.selectionBox));\n            this.selectionArea = new EzRectangle(Math.min(this.startPoint.x, currentPoint.x), Math.min(this.startPoint.y, currentPoint.y), Math.abs(this.startPoint.x-currentPoint.x), Math.abs(this.startPoint.y-currentPoint.y));\n            EzElement.el(this.selectionBox).attr({\n                x:this.selectionArea.x, y:this.selectionArea.y, width:this.selectionArea.width, height:this.selectionArea.height\n            });\n        }else {\n            this.selectionBox.remove();\n            this.selectionArea = null;\n        }\n    }\n\n    onMouseUp({state}):void {\n        this.selectionBox?.remove();\n\n        if(state?.style.selectable === false) return;\n        if(this.selected.length) return;\n\n        if(this.selectionArea){\n            const view=this.diagram.view;\n            if(view.svg['getIntersectionList']){\n                const states = this.getInterSelectionStates(view);\n                this.changeSelection(states);\n                this.selectionArea = null;\n            }else {\n                // TODO note that some modern browser does not support SVGSVGElement.getIntersectionList , eg.  FireFox\n                // we will find other way to deal with this situation\n            }\n        }\n    }\n\n    /**\n     *  check removing state is currently selected , if true , remove it from selected states \n     */\n    onRemoveState(state:EzViewState):void {\n        const idx = this.selected.indexOf(state);\n        if(idx !==-1){\n            const prev = [...this.selected];\n            this.selected.splice(idx, 1);\n            this.diagram.pluginManager.callHook('onChangeSelection', prev, this.selected);\n        }\n    }\n\n    /**\n     * change current selected states\n     * @param selectedStates \n     */\n    public changeSelection(selectedStates:EzViewState[]):void {\n        const prev = this.context.selectedViewStates;\n        this.context.selectedViewStates = selectedStates;\n        this.diagram.pluginManager.callHook('onChangeSelection', prev, selectedStates);\n    }\n    \n\n    private isHandlerEvent(evt:MouseEvent):boolean {\n        const target = evt.target as Element;\n        if(!target) return false;\n\n        const el = EzElement.el(target);\n        const handlerSelector = '[handler=\"1\"]';\n        return el.is(handlerSelector) || !!el.nearestAncestor(handlerSelector); \n    }\n}","import { EzMouseEvent } from '../../event/event';\nimport { EzPoint } from '../../model';\nimport {getCenterPoint} from '../../utils/math';\nimport {EzLineShape, EzElement} from '../../view';\nimport {EzEdgeViewState, EzViewState} from '../../view/view/view-state';\nimport { EzDiagramPlugin } from '../diagram-plugin';\nimport {\n BEND_CLASS, BEND_SIZE, getBend, getVirtualBend, SOURCE_BEND_CLASS, TERMINAL_BEND_CLASS, VIRTUAL_BEND_CLASS \n} from '../handler-dom';\n\n\n\n/**\n *   handle move and change edge points for single selected {@link EzLineShape} \n */\nexport class SingleLineHandler extends EzDiagramPlugin {\n    private handlerAction:HandlerAction;\n\n    private isPressMove = false;\n\n    private selected:EzEdgeViewState;\n\n    private bends:EzElement[]=[];\n\n    private virtualBends:EzElement[]=[];\n\n    private shapeEl:EzElement;\n\n    private startPoint:EzPoint;\n\n    private movingDistance:EzPoint;\n\n    private bendIndex:number;\n\n    canActivate(){\n        return this.context.selectedViewStates?.length ===1 &&\n             this.context.selectedViewStates[0] instanceof EzEdgeViewState &&\n             this.context.selectedViewStates[0].shape instanceof EzLineShape;\n\n    }\n\n    onDeActivate(){\n        this.reset();\n    }\n\n    onChangeSelection(_, next:EzViewState[]){\n        this.destroyBends();\n        this.selected = next[0] as EzEdgeViewState;\n    }\n\n    onDblClick({evt}:EzMouseEvent):void {\n        const target = evt.target as Element;\n        const view = this.diagram.view;\n        const points = this.selected.points;\n        if(target.matches(`.${BEND_CLASS}`)){\n            this.handlerAction = HandlerAction.REMOVE_BEND;\n            \n            if(this.bendIndex===0 || this.bendIndex===points.length-1){\n                return;\n            }\n            \n            view.changeEdgePoint(this.selected, null, this.bendIndex, false);\n        }\n    }\n\n    onMouseDown({evt}:EzMouseEvent){\n        this.getHandlerAction(evt);\n        if(!this.bends.length){\n            this.generateBends();\n            this.handlerAction = HandlerAction.MOVE_SHAPE;\n        }\n        this.startPoint = this.diagram.view.getMousePointRelateToContainer(evt);\n    }\n\n    onPressMove({evt}:EzMouseEvent):void{\n        this.isPressMove = true;\n\n        const view = this.diagram.view;\n        const currentPoint = view.getMousePointRelateToContainer(evt);\n        this.movingDistance = new EzPoint(currentPoint.x-this.startPoint.x, currentPoint.y-this.startPoint.y);\n\n        switch(this.handlerAction){\n        case HandlerAction.MOVE_SHAPE:\n            view.movingEdge(this.selected, this.movingDistance);\n            break;\n        case HandlerAction.MOVE_BEND:\n            view.changingEdgePoint(this.selected, currentPoint, this.bendIndex, true);\n            break;\n        case HandlerAction.MOVE_VIRTUAL_BEND:\n            view.changingEdgePoint(this.selected, currentPoint, this.bendIndex, false);\n            break;\n        default:\n            break;\n        }\n    }\n\n    onMouseUp({evt}:EzMouseEvent){\n        this.isPressMove = false;\n\n        const view = this.diagram.view;\n        const currentPoint = this.diagram.view.getMousePointRelateToContainer(evt);\n        this.movingDistance = new EzPoint(currentPoint.x-this.startPoint.x, currentPoint.y-this.startPoint.y);\n        if(this.movingDistance.x ===0 && this.movingDistance.y ===0) return;\n\n\n        switch(this.handlerAction){\n        case HandlerAction.MOVE_SHAPE:\n            view.moveEdge(this.selected, this.movingDistance);\n            this.destroyBends();\n            break;\n        case HandlerAction.MOVE_BEND:\n            view.changeEdgePoint(this.selected, currentPoint, this.bendIndex, true);\n            break;\n        case HandlerAction.MOVE_VIRTUAL_BEND:\n            view.changeEdgePoint(this.selected, currentPoint, this.bendIndex, false);\n            break;\n        default:\n            break;\n        }\n\n    }\n\n    afterViewUpdate():void {\n        this.destroyBends();\n        this.generateBends();\n    }\n\n    private getHandlerAction(evt:MouseEvent):void {\n        const target = evt.target as Element;\n        this.bendIndex = +target.getAttribute('index');\n        if(target.matches(`.${BEND_CLASS}`)){\n            this.handlerAction = HandlerAction.MOVE_BEND;\n        }else if(target.matches(`.${VIRTUAL_BEND_CLASS}`)){\n            this.handlerAction = HandlerAction.MOVE_VIRTUAL_BEND;\n        }else {\n            this.handlerAction = HandlerAction.MOVE_SHAPE;\n        }\n    }\n\n    private generateBends():void {\n        if(this.isPressMove && this.handlerAction === HandlerAction.MOVE_SHAPE) return;\n        this.shapeEl = this.selected.shape.root.clone().asHandler();\n        const view = this.diagram.view;\n        const points =this.selected.alternate?.points || this.selected.points;\n        const size = BEND_SIZE * view.getScale();\n        for(let i=0; i<points.length; i++){\n            const point = points[i];\n            const bend = getBend().attr({\n                cx:point.x, cy:point.y, rx:size, ry:size, index:i\n            });\n            this.bends.push(bend);\n            if(i>0){\n                const virtualBendPosition = getCenterPoint(point, points[i-1]);\n                const virtualBend = getVirtualBend().attr({\n                    cx:virtualBendPosition.x, cy:virtualBendPosition.y, rx:size, ry:size, index:i\n                });\n                this.virtualBends.push(virtualBend);\n            }\n\n            if(i===0){\n                bend.attr({class:`${BEND_CLASS} ${SOURCE_BEND_CLASS}`});\n            }\n\n            if(i===points.length-1){\n                bend.attr({class:`${BEND_CLASS} ${TERMINAL_BEND_CLASS}`});\n            }\n            \n        }\n        this.shapeEl.attr({pointerEvents:'none'});\n        this.diagram.view.overlayGroup.appendChildren([this.shapeEl, ...this.bends, ...this.virtualBends]);\n    }\n\n    private destroyBends():void {\n        this.bends?.forEach(bend=>bend.el.remove());\n        this.virtualBends?.forEach(bend=>bend.el.remove());\n        this.shapeEl?.el.remove();\n        this.bends = [];\n        this.virtualBends = [];\n        this.shapeEl=null;\n    }\n\n    private reset(){\n        this.destroyBends();\n        this.selected = null;\n        this.startPoint = null;\n        this.movingDistance = null;\n    }\n}\n\nenum HandlerAction {\n    MOVE_BEND,\n    MOVE_SHAPE,\n    REMOVE_BEND,\n    MOVE_VIRTUAL_BEND\n}","import { EzMouseEvent } from '../../event/event';\nimport {EzPoint, EzRectangle} from '../../model';\nimport {getIncludedAngleOfTwoVector, getVector} from '../../utils/math';\nimport { EzElement } from '../../view';\nimport { EzVertexViewState } from '../../view/view/view-state';\nimport { EzDiagramPlugin } from '../diagram-plugin';\nimport {\n getHandlerRects, getResizeBends, HandlerRects, Direction, ResizeBend, getRotationHandler, getHandlerContainer \n} from '../handler-dom';\n\nenum HandlerAction {\n    MOVE,\n    RESIZE,\n    ROTATE\n}\n\n/**\n *  handle move  rotate  resize action for single selected vertex\n */\nexport class SingleVertexHandler extends EzDiagramPlugin {\n    selected:EzVertexViewState;\n\n   /** selected bounding box with nine resize bends */\n    handlerEl:EzElement;\n\n    resizeAnchors:ResizeBend;\n\n    handlerRects:HandlerRects;\n\n    rotationHandler:EzElement;\n\n    private _startPoint:EzPoint;\n\n    private _handlerAction:HandlerAction;\n\n    private _resizeAnchor:ResizeBend\n\n    private _startAngle:number;\n\n    private _deltaAngle:number;\n\n    get handlerBounds():EzRectangle{\n        return this.selected.alternate?.getBounds() || this.selected.getBounds();\n    }\n\n    canActivate(){\n        return this.context.selectedViewStates?.length ===1 && this.context.selectedViewStates[0] instanceof EzVertexViewState;\n    }\n\n    onMouseDown({evt}:EzMouseEvent){\n        this._startPoint = this.diagram.view.getMousePointRelateToContainer(evt);\n        const current = this.context.selectedViewStates[0] as EzVertexViewState;\n        if(this.handlerEl){\n            if(current === this.selected){\n                this._handlerAction = this._getHandlerAction(evt);\n            }else {\n                this.selected = current;\n                this._handlerAction = HandlerAction.MOVE;\n            }\n        }else {\n            this.selected = current;\n            this.resizeAnchors = getResizeBends();\n            this.handlerRects = getHandlerRects(this.handlerBounds);\n            this.rotationHandler = getRotationHandler();\n            this._createHandlerEl();\n\n            this._handlerAction = HandlerAction.MOVE;\n        }\n\n        this._updateHandlerEl();\n    }\n\n    onPressMove({evt}:EzMouseEvent){\n        const view = this.diagram.view;\n        const moveDistance = this._getMoveDistance(evt);\n        if(this._handlerAction === HandlerAction.MOVE){\n            if(moveDistance.x !== 0 || moveDistance.y !==0){\n                view.movingVertex(this.selected, moveDistance);\n            }\n        }\n        if(this._handlerAction === HandlerAction.RESIZE){\n            view.resizingVertex(this.selected, this.diagram.view.getMousePointRelateToContainer(evt), this._resizeAnchor as unknown as Direction);\n        }\n        if(this._handlerAction === HandlerAction.ROTATE){\n            const currentAngle = this._getAngleRelateToStateBounds(evt);\n            this._deltaAngle = currentAngle - this._startAngle;\n            view.rotatingVertex(this.selected, this._deltaAngle);\n        }\n        this._updateHandlerEl();\n    }\n\n    onMouseUp({evt}:EzMouseEvent){\n        const view = this.diagram.view;\n        const moveDistance = this._getMoveDistance(evt);\n        if(this._handlerAction === HandlerAction.MOVE){\n            if(moveDistance.x !== 0 || moveDistance.y !==0){\n                view.moveVertex(this.selected, moveDistance);\n            }\n        }\n\n        if(this._handlerAction === HandlerAction.RESIZE){\n            view.resizeVertex(this.selected, view.getMousePointRelateToContainer(evt), this._resizeAnchor as unknown as Direction);\n        }\n       \n        if(this._handlerAction === HandlerAction.ROTATE){\n            const currentAngle = this._getAngleRelateToStateBounds(evt);\n            this._deltaAngle = currentAngle - this._startAngle;\n            view.rotateVertex(this.selected, this._deltaAngle);\n        }\n\n        this._updateHandlerEl();\n        this._reset();\n    }\n\n    afterViewUpdate(){\n        this._updateHandlerEl();\n    }\n\n    onDeActivate():void {\n        this._destroy();\n    }\n\n    onChangeSelection():void {\n        if(this.context.selectedViewStates.indexOf(this.selected) ===-1){\n            this._destroy();\n        }\n    }\n\n    private _destroy() {\n        if (this.handlerEl) {\n            this.handlerEl.remove();\n            this.handlerEl = null;\n        }\n        this.selected = null;\n        this._reset();\n    }\n\n    private _reset():void {\n        this._startPoint = null;\n        this._handlerAction = null;\n        this._startAngle = 0;\n        this._deltaAngle = 0;\n    }\n\n    private _getHandlerAction(evt:MouseEvent):HandlerAction {\n        const target = evt.target as Element;\n        if(Object.values(this.handlerRects).map(i=>i.el).indexOf(target)!==-1){\n            return HandlerAction.MOVE;\n        }\n        if(Object.values(this.resizeAnchors).map(i=>i.el).indexOf(target)!==-1){\n            this._resizeAnchor = +target.getAttribute('direction') as unknown as ResizeBend;\n            return HandlerAction.RESIZE;\n        }\n        if(target.matches('.rotation-handler')){\n            this._startAngle = this._getAngleRelateToStateBounds(evt);\n            return HandlerAction.ROTATE;\n        }\n    }\n\n    private _createHandlerEl():void {\n        this.handlerEl =getHandlerContainer(this.selected).appendChildren([\n            ...Object.values(this.handlerRects),\n            ...Object.values(this.resizeAnchors),\n            this.rotationHandler\n        ]);\n        this._updateHandlerEl();\n        this.handlerEl.attr({pointerEvents:'none'});\n        this.diagram.view.overlayGroup.appendChild(this.handlerEl);\n        setTimeout(()=>{\n            this.handlerEl.removeAttr('pointerEvents');\n        },200);\n    }\n\n    private _updateHandlerEl():void {\n        const getPosition = (x:number, y:number)=> {\n            const pt = this.diagram.view.ensurePointMeetsGrid(new EzPoint(x, y));\n            return {cx:pt.x, cy:pt.y};\n        };\n        const bounds = this.handlerBounds.plain();\n        this.resizeAnchors[Direction.TOP_LEFT].attr(getPosition(bounds.x, bounds.y));\n        this.resizeAnchors[Direction.TOP].attr(getPosition(bounds.x+bounds.width/2, bounds.y));\n        this.resizeAnchors[Direction.TOP_RIGHT].attr(getPosition(bounds.x+bounds.width, bounds.y));\n        this.resizeAnchors[Direction.RIGHT].attr(getPosition(bounds.x+bounds.width, bounds.y+bounds.height/2));\n        this.resizeAnchors[Direction.BOTTOM_RIGHT].attr(getPosition(bounds.x+bounds.width, bounds.y+bounds.height));\n        this.resizeAnchors[Direction.BOTTOM].attr(getPosition(bounds.x+bounds.width/2, bounds.y+bounds.height));\n        this.resizeAnchors[Direction.BOTTOM_LEFT].attr(getPosition(bounds.x, bounds.y+bounds.height));\n        this.resizeAnchors[Direction.LEFT].attr(getPosition(bounds.x, bounds.y+bounds.height/2));\n        this.handlerRects.rect.attr(bounds);\n        this.handlerRects.transparent.attr(bounds);\n        this.rotationHandler.attr({\n            x:bounds.x-18, y:bounds.y+bounds.height+6, width:16, height:16\n        });\n\n        const rotationAngle = (this.selected.style.rotation||0) + (this._deltaAngle||0);\n        const rotationStep = this.diagram.configManager.rotationStep;\n        this.handlerEl.attr({transform:`rotate(${rotationStep === 0?rotationAngle:Math.floor(rotationAngle/rotationStep)*rotationStep},${this.handlerBounds.center().x},${this.handlerBounds.center().y})`});\n    }\n\n    private _getMoveDistance(evt:MouseEvent):EzPoint {\n        const pt = this.diagram.view.getMousePointRelateToContainer(evt);\n        return new EzPoint(pt.x-this._startPoint.x, pt.y-this._startPoint.y);\n    }\n\n    private _getAngleRelateToStateBounds(evt:MouseEvent):number {\n        const view = this.diagram.view;\n        const currentPoint = view.getMousePointRelateToContainer(evt);\n        const stateCenterPoint = this.selected.getBounds().center();\n        const angle = getIncludedAngleOfTwoVector(getVector(stateCenterPoint, currentPoint), {x:0, y:1});\n        return stateCenterPoint.x - currentPoint.x > 0 ? angle:-angle;\n    }\n}","import { EzElement } from '../../view';\nimport { EzDiagramPlugin } from '../diagram-plugin';\n\nconst BG_ID = 'ez-bg';\nconst BG_GRID_SIZE = 30;\nexport class EzBackGround extends EzDiagramPlugin {\n    bgContaner:EzElement;\n\n    bgDef:EzElement;\n\n    onRendered():void{   \n        this.createBgDef();\n        this.createBgContainer();\n    }\n\n    afterViewUpdate(){\n        this.update();\n    }\n\n    private update():void {\n        const view = this.diagram.view;\n        if(!view.size) return;\n        if(view?.size?.width===0) return;\n\n        const scale = view.getScale();\n        const translate = view.getTranslate();\n        const translateX = translate.x % view.size.width - view.size.width*3;\n        const translateY = translate.y % view.size.height- view.size.height*3;\n        this.bgContaner.style({transform:`scale(${scale}) translate(${translateX}px,${translateY}px)`});\n    }\n\n    private createBgDef():void {\n        const view = this.diagram.view;\n        let pattern:EzElement;\n        if(this.context.background){\n            pattern = this.context.background(this.diagram);\n        }else {\n            pattern = this.getDefaultGrid();\n        }\n        view.defs.appendChild(pattern);\n    }\n\n    private createBgContainer():void {\n        const view = this.diagram.view;\n        this.bgContaner = EzElement.el('g').attr({\n            class:'ez-bg-container', width:'600%', height:'600%'\n        }).appendChild(\n            EzElement.el('rect').attr({\n                fill:`url(#${BG_ID})`, width:'600%', height:'600%'\n            })\n        );\n        view.svg.prependChild(this.bgContaner);\n    }\n\n    private getDefaultGrid():EzElement {\n        return EzElement.el('pattern').attr({\n            width:BG_GRID_SIZE*this.diagram.view.getScale(), height:BG_GRID_SIZE*this.diagram.view.getScale(), id:BG_ID, patternUnits:'userSpaceOnUse'\n        }, false).appendChild(\n            EzElement.el('rect').attr({\n                x:0, y:0, width:BG_GRID_SIZE*this.diagram.view.getScale(), height:BG_GRID_SIZE*this.diagram.view.getScale(), fill:'none', stroke:'#e0e0e0', strokeWidth:1\n            })\n        );\n    }\n}","export type KeyCodeHandler = (evt:KeyboardEvent)=> void;\n\n\n\nexport enum ModifierKey {\n    none=0x0000,\n    alt=0x0001,\n    meta=0x0010,\n    shift=0x0100,\n    control=0x1000,\n    altMeta=0x0011,\n    altShift=0x0101,\n    altControl=0x1001,\n    metaShift=0x0110,\n    metaControl=0x1010,\n    shiftControl=0x1100,\n}\n\nexport enum Key {\n    X = 'x',\n    BACKSPACE = 'Backspace',\n    ARROW_DOWN = 'ArrowDown',\n    ARROW_UP = 'ArrowUp',\n    ARROW_LEFT = 'ArrowLeft',\n    ARROW_RIGHT = 'ArrowRight'\n}\n\ninterface KeycodeHandlerMapping {\n    [key:string]:KeyCodeHandler;\n}\n\nexport interface KeyCodeHandlers {\n    [ModifierKey.none]?:KeycodeHandlerMapping;\n    [ModifierKey.alt]?:KeycodeHandlerMapping;\n    [ModifierKey.meta]?:KeycodeHandlerMapping;\n    [ModifierKey.shift]?:KeycodeHandlerMapping;\n    [ModifierKey.control]?:KeycodeHandlerMapping;\n    [ModifierKey.altMeta]?:KeycodeHandlerMapping;\n    [ModifierKey.altShift]?:KeycodeHandlerMapping;\n    [ModifierKey.altControl]?:KeycodeHandlerMapping;\n    [ModifierKey.metaShift]?:KeycodeHandlerMapping;\n    [ModifierKey.metaControl]?:KeycodeHandlerMapping;\n    [ModifierKey.shiftControl]?:KeycodeHandlerMapping;\n}\n\n/**\n * The HotkeyHandler Provides the function of binding and unbinding shortcut key event handlers\n */\nexport class HotkeyHandler {\n    handlers:KeyCodeHandlers = {};\n\n    /**\n     * bind key handler\n     * @param modifierKey \n     * @param code \n     * @param handler \n     */\n    bindKeyHandler(modifierKey:ModifierKey, key:Key, handler:KeyCodeHandler):void {\n        if(modifierKey in ModifierKey){\n            if(!this.handlers[modifierKey]) this.handlers[modifierKey] = {};\n            this.handlers[modifierKey][key] =handler;\n        }else {\n            if(__DEV__){\n                console.error(`HotkeyHandler:bindKeyHandler the mofidfierKey ${modifierKey} is not found`);\n            }\n        }\n    }\n\n    /**\n     * unbind key handler\n     * @param modifierKey \n     * @param code \n     */\n    unbindKeyHandler(modifierKey:ModifierKey, code:number):void {\n        if(modifierKey in ModifierKey){\n            if(this.handlers?.[modifierKey]?.[code]){\n                this.handlers[modifierKey][code] = null;\n            }\n        }else {\n            if(__DEV__){\n                console.error(`HotkeyHandler:bindKeyHandler the mofidfierKey ${modifierKey} is not found`);\n            }\n        }\n    }\n\n    handleKeyPress(event:KeyboardEvent):void {\n        const alt= event.altKey ? ModifierKey.alt:ModifierKey.none;\n        const meta=event.metaKey ? ModifierKey.meta:ModifierKey.none;\n        const shift=event.shiftKey ? ModifierKey.shift:ModifierKey.none;\n        const ctrl= event.ctrlKey ? ModifierKey.control:ModifierKey.none;\n        const modifierKey = alt | meta | shift | ctrl;\n        const keyCode = event.key;\n        const handler = this.handlers?.[modifierKey]?.[keyCode];\n        if(handler){\n            handler();\n        }\n    }\n}","export const BUILTIN_PLGUIN = {\n    BACKGROUND:'BACKGROUND',\n    CONNECT_VERTEX:'CONNECT_VERTEX',\n    EDGE_GENERATOR:'EDGE_GENERATOR',\n    HOT_KEY:'HOT_KEY',\n    SELECT:'SELECT',\n    SINGLE_LINE_HANDLER:'SINGLE_LINE_HANDLER',\n    SINGLE_VERTEX_HANDLER:'SINGLE_VERTEX_HANDLER', \n    VERTEX_TEXT_EDITOR:'VERTEX_TEXT_EDITOR',\n};","export const BUILTIN_LAYOUT = {\n    GROUP_LAYOUT:'GROUP_LAYOUT',\n    TREE_LAYOUT:'TREE_LAYOUT',\n    MINDMAP_LAYOUT:'MINDMAP_LAYOUT'\n};","import { BaseLayout } from './base-layout';\n\nexport class EzLayoutManager {\n    layouts:Map<string, BaseLayout> = new Map();\n\n    /**\n     * register layout with layout name\n     * @param layoutName \n     * @param layout \n     * @returns \n     */\n    use(layoutName:string, layout:BaseLayout):void {\n        if(this.layouts.has(layoutName)){\n            if(__DEV__){\n                console.error(`layout ${layoutName} is already exist`);\n            }\n            return;\n        }\n        this.layouts.set(layoutName, layout);\n    }\n\n    /**\n     * get layout instance \n     * @param layoutName \n     */\n    get(layoutName:string):BaseLayout {\n        return this.layouts.get(layoutName);\n    }\n}","import { EzVertex } from '../model';\nimport { EzDiagramNode } from '../model/diagram-node';\nimport { EzDiagramPlugin } from '../plugin';\n\nexport abstract class BaseLayout extends EzDiagramPlugin {\n    layoutRoot:EzVertex;\n\n    layoutNodes:EzDiagramNode[] = [];\n\n    execute(node:EzVertex):void {\n        this.layoutRoot = node;\n        this._getLayoutNodes();\n        this.executeLayout();\n        this.updateViewStates();\n    }\n\n    private _getLayoutNodes():void {\n        this.layoutNodes.length = 0;\n        this.layoutNodes.push(this.layoutRoot);\n        const visit = (parentNode:EzVertex) =>{\n            const children = parentNode.layoutChildren;\n            parentNode.edges?.forEach(c=>{\n                this.layoutNodes.push(c);\n            });\n            children.forEach(c=>{\n                this.layoutNodes.push(c);\n                visit(c);\n            });\n        };\n        visit(this.layoutRoot);\n    }\n\n    canActivate() {\n        return true;\n    }\n\n    abstract executeLayout():void;\n\n    abstract updateViewStates():void;\n}","import { EzDirection } from '../../constants';\nimport { EzRectangle, EzVertex} from '../../model';\nimport { STATE_WORK_TYPE } from '../../view/view/view-state';\nimport { BaseLayout } from '../base-layout';\n\n\nexport interface TreeLayoutConfig {\n    nodeSpacing?:number;\n    layerSpacing?:number;\n}\n\nexport class TreeLayout extends BaseLayout {\n    private _direction = EzDirection.BOTTOM;\n\n    private _config:TreeLayoutConfig = {nodeSpacing:20, layerSpacing:30};\n\n    private get _isVertical():boolean {\n        return this._direction === EzDirection.TOP || this._direction===EzDirection.BOTTOM;\n    }\n\n\n    updateLayoutNodes():void {\n        const updateChildren = (parent:EzVertex, layer:number) =>{\n            const children= parent.layoutChildren.filter(c=>c.layoutDirection === this._direction);\n            if(!children.length) return;\n            const getMinPosition = ():number => {\n                const center = parent.bounds.center()[this._isVertical?'x':'y'];\n                const totalLength = children.reduce((total:number, child:EzVertex)=>{\n                    return total + child['layoutLength'];\n                }, (children.length-1) * this._config.nodeSpacing);\n                return center - totalLength / 2;\n            };\n\n            const model = this.diagram.model;\n            let xMin:number;\n            let yMin:number;\n            let nextLayer:number;\n            switch(this._direction){\n            case EzDirection.LEFT:\n                yMin = getMinPosition();\n                nextLayer = layer - Math.max(...children.map(c=>c.bounds.width)) - this._config.layerSpacing;\n                children.forEach((child)=>{\n                    model.updateBounds(child, new EzRectangle(layer-child.bounds.width, yMin+(child['layoutLength']-child.bounds.height)/2, child.bounds.width, child.bounds.height));\n                    yMin += (child['layoutLength'] + this._config.nodeSpacing);\n                    if(child.layoutChildren?.length){\n                        updateChildren(child, nextLayer);\n                    }\n                });\n                break;\n            case EzDirection.TOP:\n                xMin = getMinPosition();\n                nextLayer = layer - Math.max(...children.map(c=>c.bounds.height)) - this._config.layerSpacing;\n                children.forEach((child)=>{\n                    model.updateBounds(child, new EzRectangle(xMin+(child['layoutLength']-child.bounds.width)/2, layer - child.bounds.height, child.bounds.width, child.bounds.height));\n                    xMin += (child['layoutLength'] + this._config.nodeSpacing);\n                    if(child.layoutChildren?.length){\n                        updateChildren(child, nextLayer);\n                    }\n                });\n\n                break;\n            case EzDirection.RIGHT:\n                yMin = getMinPosition();\n                nextLayer = layer + Math.max(...children.map(c=>c.bounds.width)) + this._config.layerSpacing;\n                children.forEach((child)=>{\n                    model.updateBounds(child, new EzRectangle(layer, yMin+(child['layoutLength']-child.bounds.height)/2, child.bounds.width, child.bounds.height));\n                    yMin += (child['layoutLength'] + this._config.nodeSpacing);\n                    if(child.layoutChildren?.length){\n                        updateChildren(child, nextLayer);\n                    }\n                });\n                break;\n            case EzDirection.BOTTOM: \n                xMin = getMinPosition();\n                nextLayer = layer + Math.max(...children.map(c=>c.bounds.height)) + this._config.layerSpacing;\n                children.forEach((child)=>{\n                    model.updateBounds(child, new EzRectangle(xMin+(child['layoutLength']-child.bounds.width)/2, layer, child.bounds.width, child.bounds.height));\n                    xMin += (child['layoutLength'] + this._config.nodeSpacing);\n                    if(child.layoutChildren?.length){\n                        updateChildren(child, nextLayer);\n                    }\n                });\n                break;\n            }\n\n            children.forEach(child=>{\n                const edges = child.edges.filter(edge=>edge.target===child);\n                edges.forEach(edge=>{\n                    switch(this._direction){\n                    case EzDirection.LEFT:\n                        this.diagram.model.changeConstraint(edge, EzDirection.LEFT, true);\n                        this.diagram.model.changeConstraint(edge, EzDirection.RIGHT, false);\n                        break;\n                    case EzDirection.TOP:\n                        this.diagram.model.changeConstraint(edge, EzDirection.TOP, true);\n                        this.diagram.model.changeConstraint(edge, EzDirection.BOTTOM, false);\n                        break;\n                    case EzDirection.RIGHT:\n                        this.diagram.model.changeConstraint(edge, EzDirection.RIGHT, true);\n                        this.diagram.model.changeConstraint(edge, EzDirection.LEFT, false);\n                        break;\n                    case EzDirection.BOTTOM:\n                        this.diagram.model.changeConstraint(edge, EzDirection.BOTTOM, true);\n                        this.diagram.model.changeConstraint(edge, EzDirection.TOP, false);\n                        break;\n                    }\n                });\n            });  \n        };\n\n        let layerStart:number;\n        const rootBounds = this.layoutRoot.bounds;\n        switch(this._direction){\n        case EzDirection.TOP:\n            layerStart = rootBounds.y - this._config.layerSpacing;\n            break;\n        case EzDirection.BOTTOM:\n            layerStart = rootBounds.y + rootBounds.height + this._config.layerSpacing;\n            break;\n        case EzDirection.LEFT:\n            layerStart = rootBounds.x - this._config.layerSpacing;\n            break;\n        case EzDirection.RIGHT:\n            layerStart = rootBounds.x+rootBounds.width + this._config.layerSpacing;\n            break;\n        }\n        updateChildren(this.layoutRoot, layerStart);\n\n    }\n\n\n    executeLayout(){\n        [EzDirection.TOP, EzDirection.BOTTOM, EzDirection.LEFT, EzDirection.RIGHT].forEach(direction=>{\n            this._direction = direction;\n            const updateLayerNodes = (parent:EzVertex):number=>{\n                const children= parent.layoutChildren.filter(c=>c.layoutDirection === this._direction);\n                const pLength = this._isVertical ? parent.bounds.width:parent.bounds.height;\n\n                if(!children.length) pLength;\n\n                const cLength = children.reduce((prev, cur)=>{\n                    return prev+updateLayerNodes(cur);\n                }, (children.length-1) * this._config.nodeSpacing);\n                const len = Math.max(pLength, cLength);\n                parent['layoutLength'] = len;\n                return len;\n            };\n\n            updateLayerNodes(this.layoutRoot);\n            this.updateLayoutNodes();\n        });\n    }\n\n    updateViewStates(){\n        this.layoutNodes.forEach(node=>{\n            const state = this.diagram.view.stateMapping.get(node.id);\n            state.updateWork = STATE_WORK_TYPE.UPDATE_FROM_MODEL;\n        });\n    }\n}","import { EzPoint } from '../model';\nimport { EzVertexViewState, EzViewState } from '../view/view/view-state';\nimport { EzDiagram } from './diagram';\n\n\n/**\n *   DELETE_SELECTED:  delete selected elements  \n * \n *   MOVE_UP:  move up selected elements   \n * \n *   MOVE_DOWN: move down selected elements   \n * \n *   MOVE_LEFT: move left selected elements   \n * \n *   MOVE_RIGHT: move right selected elements   \n */\nexport const BUILTIN_ACTIONS = {\n    DELETE_SELECTED:'DELETE_SELECTED', \n    MOVE_UP:'MOVE_UP', \n    MOVE_DOWN:'MOVE_DOWN', \n    MOVE_LEFT:'MOVE_LEFT', \n    MOVE_RIGHT:'MOVE_RIGHT' \n};\n\n/**\n *  if The ActionHandler run as expected , return true \n *  otherwise return false\n */\nexport type ActionHandler = (diagram:EzDiagram) => boolean;\n\n/**\n *  register default diagram actions \n */\nexport class EzDiagramActions {\n    diagram:EzDiagram;\n\n    actions = new Map<string, ActionHandler>();\n\n    constructor(diagram:EzDiagram){\n        this.diagram = diagram;\n        this._registerBuiltinActions();\n    }\n\n    /**\n     * execute action with given action type\n     * @param actionType \n     * @returns \n     */\n    public execute(actionType:string):boolean {\n        const actionHandler = this.actions.get(actionType);\n        if(!actionHandler){\n            if(__DEV__){\n                console.error(`EzDiagramActions:execute no registered action handler found for action type : ${actionType}`);\n            }\n            return false;\n        }\n\n        const result = actionHandler(this.diagram);\n        return result;\n    }\n\n    /**\n     * register action handler\n     * @param actionType \n     * @param handler \n     */\n    public register(actionType:string, handler:ActionHandler):void {\n        this.actions.set(actionType, handler);\n    }\n\n    private get _selected(): EzViewState[] {\n        return this.diagram.pluginManager.getContext()?.selectedViewStates;\n    }\n\n    private _registerBuiltinActions():void {\n        this.actions.set(BUILTIN_ACTIONS.DELETE_SELECTED, this._deleteSelected);\n        this.actions.set(BUILTIN_ACTIONS.MOVE_LEFT, this._moveLeftSelected);\n        this.actions.set(BUILTIN_ACTIONS.MOVE_UP, this._moveUpSelected);\n        this.actions.set(BUILTIN_ACTIONS.MOVE_RIGHT, this._moveRightSelected);\n        this.actions.set(BUILTIN_ACTIONS.MOVE_DOWN, this._moveDownSelected);\n    }\n\n    /**\n     * delete selected elements on a diagram\n     * @param diagram \n     */\n    private _deleteSelected:ActionHandler = (diagram:EzDiagram):boolean=>{\n        if(!this._selected.length) return false;\n        \n        diagram.view.removeStates(this._selected);\n        return true;\n    }\n\n    /**\n     * move up selected elements on a diagram\n     * @param diagram \n     */\n    private _moveUpSelected:ActionHandler = (diagram:EzDiagram):boolean=> {\n        if(!this._selected.length) return false;\n\n        const view = diagram.view;\n        const distance = new EzPoint(0, -10);\n        this._selected.forEach(state=>{\n            if(state instanceof EzVertexViewState){\n                view.moveVertex(state, distance);\n            }else {\n                view.moveEdge(state, distance);\n            }\n        });\n        return true;\n    }\n\n    /**\n     * move down selected elements on a diagram\n     * @param diagram \n     */\n    private _moveDownSelected:ActionHandler = (diagram:EzDiagram):boolean=> {\n        const view = diagram.view;\n        const distance = new EzPoint(0, 10);\n        this._selected.forEach(state=>{\n            if(state instanceof EzVertexViewState){\n                view.moveVertex(state, distance);\n            }else {\n                view.moveEdge(state, distance);\n            }\n        });\n        return true;\n    }\n\n    /**\n     * move left selected elements on a diagram\n     * @param diagram \n     */\n    private _moveLeftSelected:ActionHandler = (diagram:EzDiagram):boolean=> {\n        const view = diagram.view;\n        const distance = new EzPoint(-10, 0);\n        this._selected.forEach(state=>{\n            if(state instanceof EzVertexViewState){\n                view.moveVertex(state, distance);\n            }else {\n                view.moveEdge(state, distance);\n            }\n        });\n        return true;\n    }\n\n    /**\n     * move right selected elements on a diagram\n     * @param diagram \n     */\n    private _moveRightSelected:ActionHandler = (diagram:EzDiagram):boolean=> {\n        const view = diagram.view;\n        const distance = new EzPoint(10, 0);\n        this._selected.forEach(state=>{\n            if(state instanceof EzVertexViewState){\n                view.moveVertex(state, distance);\n            }else {\n                view.moveEdge(state, distance);\n            }\n        });\n        return true;\n    }\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._teardowns = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialTeardown = this.initialTeardown;\n            if (isFunction(initialTeardown)) {\n                try {\n                    initialTeardown();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _teardowns = this._teardowns;\n            if (_teardowns) {\n                this._teardowns = null;\n                try {\n                    for (var _teardowns_1 = __values(_teardowns), _teardowns_1_1 = _teardowns_1.next(); !_teardowns_1_1.done; _teardowns_1_1 = _teardowns_1.next()) {\n                        var teardown_1 = _teardowns_1_1.value;\n                        try {\n                            execTeardown(teardown_1);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_teardowns_1_1 && !_teardowns_1_1.done && (_b = _teardowns_1.return)) _b.call(_teardowns_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execTeardown(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._teardowns = (_a = this._teardowns) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _teardowns = this._teardowns;\n        _teardowns && arrRemove(_teardowns, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execTeardown(teardown) {\n    if (isFunction(teardown)) {\n        teardown();\n    }\n    else {\n        teardown.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) || setTimeout).apply(void 0, __spreadArray([], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export var COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind: kind,\n        value: value,\n        error: error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { __extends, __read, __spreadArray } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var next;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            (next = observerOrNext.next, error = observerOrNext.error, complete = observerOrNext.complete);\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n            }\n            else {\n                context_1 = observerOrNext;\n            }\n            next = next === null || next === void 0 ? void 0 : next.bind(context_1);\n            error = error === null || error === void 0 ? void 0 : error.bind(context_1);\n            complete = complete === null || complete === void 0 ? void 0 : complete.bind(context_1);\n        }\n        _this.destination = {\n            next: next ? wrapForErrorHandling(next, _this) : noop,\n            error: wrapForErrorHandling(error !== null && error !== void 0 ? error : defaultErrorHandler, _this),\n            complete: complete ? wrapForErrorHandling(complete, _this) : noop,\n        };\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction wrapForErrorHandling(handler, instance) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        try {\n            handler.apply(void 0, __spreadArray([], __read(args)));\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                captureError(err);\n            }\n            else {\n                reportUnhandledError(err);\n            }\n        }\n    };\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","export var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    subscription === null || subscription === void 0 ? void 0 : subscription.unsubscribe();\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { __extends } from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        var closed = this.closed;\n        _super.prototype.unsubscribe.call(this);\n        !closed && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n    };\n    return OperatorSubscriber;\n}(Subscriber));\nexport { OperatorSubscriber };\n//# sourceMappingURL=OperatorSubscriber.js.map","export var dateTimestampProvider = {\n    now: function () {\n        return (dateTimestampProvider.delegate || Date).now();\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=dateTimestampProvider.js.map","import { __extends } from \"tslib\";\nimport { Subscription } from '../Subscription';\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var intervalProvider = {\n    setInterval: function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var delegate = intervalProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.setInterval) || setInterval).apply(void 0, __spreadArray([], __read(args)));\n    },\n    clearInterval: function (handle) {\n        var delegate = intervalProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearInterval) || clearInterval)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=intervalProvider.js.map","import { __extends } from \"tslib\";\nimport { Action } from './Action';\nimport { intervalProvider } from './intervalProvider';\nimport { arrRemove } from '../util/arrRemove';\nvar AsyncAction = (function (_super) {\n    __extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, _id, delay) {\n        if (delay === void 0) { delay = 0; }\n        return intervalProvider.setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (_scheduler, id, delay) {\n        if (delay === void 0) { delay = 0; }\n        if (delay != null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        intervalProvider.clearInterval(id);\n        return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, _delay) {\n        var errored = false;\n        var errorValue;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = (!!e && e) || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            var _a = this, id = _a.id, scheduler = _a.scheduler;\n            var actions = scheduler.actions;\n            this.work = this.state = this.scheduler = null;\n            this.pending = false;\n            arrRemove(actions, this);\n            if (id != null) {\n                this.id = this.recycleAsyncId(scheduler, id, null);\n            }\n            this.delay = null;\n            _super.prototype.unsubscribe.call(this);\n        }\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map","import { dateTimestampProvider } from './scheduler/dateTimestampProvider';\nvar Scheduler = (function () {\n    function Scheduler(schedulerActionCtor, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        this.schedulerActionCtor = schedulerActionCtor;\n        this.now = now;\n    }\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) { delay = 0; }\n        return new this.schedulerActionCtor(this, work).schedule(state, delay);\n    };\n    Scheduler.now = dateTimestampProvider.now;\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map","import { __extends } from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = (function (_super) {\n    __extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) { now = Scheduler.now; }\n        var _this = _super.call(this, SchedulerAction, now) || this;\n        _this.actions = [];\n        _this._active = false;\n        _this._scheduled = undefined;\n        return _this;\n    }\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this._active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this._active = true;\n        do {\n            if ((error = action.execute(action.state, action.delay))) {\n                break;\n            }\n        } while ((action = actions.shift()));\n        this._active = false;\n        if (error) {\n            while ((action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map","import { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport var asyncScheduler = new AsyncScheduler(AsyncAction);\nexport var async = asyncScheduler;\n//# sourceMappingURL=async.js.map","import { Observable } from '../Observable';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var i = 0;\n        return scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n            }\n            else {\n                subscriber.next(input[i++]);\n                if (!subscriber.closed) {\n                    this.schedule();\n                }\n            }\n        });\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map","export var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map","import { isFunction } from \"./isFunction\";\nexport function isPromise(value) {\n    return isFunction(value === null || value === void 0 ? void 0 : value.then);\n}\n//# sourceMappingURL=isPromise.js.map","export function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = getSymbolIterator();\n//# sourceMappingURL=iterator.js.map","import { observable as Symbol_observable } from '../symbol/observable';\nimport { isFunction } from './isFunction';\nexport function isInteropObservable(input) {\n    return isFunction(input[Symbol_observable]);\n}\n//# sourceMappingURL=isInteropObservable.js.map","import { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { isFunction } from './isFunction';\nexport function isIterable(input) {\n    return isFunction(input === null || input === void 0 ? void 0 : input[Symbol_iterator]);\n}\n//# sourceMappingURL=isIterable.js.map","import { isFunction } from './isFunction';\nexport function isAsyncIterable(obj) {\n    return Symbol.asyncIterator && isFunction(obj === null || obj === void 0 ? void 0 : obj[Symbol.asyncIterator]);\n}\n//# sourceMappingURL=isAsyncIterable.js.map","export function createInvalidObservableTypeError(input) {\n    return new TypeError(\"You provided \" + (input !== null && typeof input === 'object' ? 'an invalid object' : \"'\" + input + \"'\") + \" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.\");\n}\n//# sourceMappingURL=throwUnobservableError.js.map","import { __asyncGenerator, __await, __generator } from \"tslib\";\nimport { isFunction } from './isFunction';\nexport function readableStreamLikeToAsyncGenerator(readableStream) {\n    return __asyncGenerator(this, arguments, function readableStreamLikeToAsyncGenerator_1() {\n        var reader, _a, value, done;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    reader = readableStream.getReader();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, , 9, 10]);\n                    _b.label = 2;\n                case 2:\n                    if (!true) return [3, 8];\n                    return [4, __await(reader.read())];\n                case 3:\n                    _a = _b.sent(), value = _a.value, done = _a.done;\n                    if (!done) return [3, 5];\n                    return [4, __await(void 0)];\n                case 4: return [2, _b.sent()];\n                case 5: return [4, __await(value)];\n                case 6: return [4, _b.sent()];\n                case 7:\n                    _b.sent();\n                    return [3, 2];\n                case 8: return [3, 10];\n                case 9:\n                    reader.releaseLock();\n                    return [7];\n                case 10: return [2];\n            }\n        });\n    });\n}\nexport function isReadableStreamLike(obj) {\n    return isFunction(obj === null || obj === void 0 ? void 0 : obj.getReader);\n}\n//# sourceMappingURL=isReadableStreamLike.js.map","import { __asyncValues, __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isPromise } from '../util/isPromise';\nimport { observable as Symbol_observable } from '../symbol/observable';\nimport { Observable } from '../Observable';\nimport { scheduled } from '../scheduled/scheduled';\nimport { isFunction } from '../util/isFunction';\nimport { reportUnhandledError } from '../util/reportUnhandledError';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isAsyncIterable } from '../util/isAsyncIterable';\nimport { createInvalidObservableTypeError } from '../util/throwUnobservableError';\nimport { isIterable } from '../util/isIterable';\nimport { isReadableStreamLike, readableStreamLikeToAsyncGenerator } from '../util/isReadableStreamLike';\nexport function from(input, scheduler) {\n    return scheduler ? scheduled(input, scheduler) : innerFrom(input);\n}\nexport function innerFrom(input) {\n    if (input instanceof Observable) {\n        return input;\n    }\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return fromInteropObservable(input);\n        }\n        if (isArrayLike(input)) {\n            return fromArrayLike(input);\n        }\n        if (isPromise(input)) {\n            return fromPromise(input);\n        }\n        if (isAsyncIterable(input)) {\n            return fromAsyncIterable(input);\n        }\n        if (isIterable(input)) {\n            return fromIterable(input);\n        }\n        if (isReadableStreamLike(input)) {\n            return fromReadableStreamLike(input);\n        }\n    }\n    throw createInvalidObservableTypeError(input);\n}\nfunction fromInteropObservable(obj) {\n    return new Observable(function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (isFunction(obs.subscribe)) {\n            return obs.subscribe(subscriber);\n        }\n        throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    });\n}\nexport function fromArrayLike(array) {\n    return new Observable(function (subscriber) {\n        for (var i = 0; i < array.length && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    });\n}\nfunction fromPromise(promise) {\n    return new Observable(function (subscriber) {\n        promise\n            .then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, reportUnhandledError);\n    });\n}\nfunction fromIterable(iterable) {\n    return new Observable(function (subscriber) {\n        var e_1, _a;\n        try {\n            for (var iterable_1 = __values(iterable), iterable_1_1 = iterable_1.next(); !iterable_1_1.done; iterable_1_1 = iterable_1.next()) {\n                var value = iterable_1_1.value;\n                subscriber.next(value);\n                if (subscriber.closed) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (iterable_1_1 && !iterable_1_1.done && (_a = iterable_1.return)) _a.call(iterable_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        subscriber.complete();\n    });\n}\nfunction fromAsyncIterable(asyncIterable) {\n    return new Observable(function (subscriber) {\n        process(asyncIterable, subscriber).catch(function (err) { return subscriber.error(err); });\n    });\n}\nfunction fromReadableStreamLike(readableStream) {\n    return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream));\n}\nfunction process(asyncIterable, subscriber) {\n    var asyncIterable_1, asyncIterable_1_1;\n    var e_2, _a;\n    return __awaiter(this, void 0, void 0, function () {\n        var value, e_2_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 5, 6, 11]);\n                    asyncIterable_1 = __asyncValues(asyncIterable);\n                    _b.label = 1;\n                case 1: return [4, asyncIterable_1.next()];\n                case 2:\n                    if (!(asyncIterable_1_1 = _b.sent(), !asyncIterable_1_1.done)) return [3, 4];\n                    value = asyncIterable_1_1.value;\n                    subscriber.next(value);\n                    if (subscriber.closed) {\n                        return [2];\n                    }\n                    _b.label = 3;\n                case 3: return [3, 1];\n                case 4: return [3, 11];\n                case 5:\n                    e_2_1 = _b.sent();\n                    e_2 = { error: e_2_1 };\n                    return [3, 11];\n                case 6:\n                    _b.trys.push([6, , 9, 10]);\n                    if (!(asyncIterable_1_1 && !asyncIterable_1_1.done && (_a = asyncIterable_1.return))) return [3, 8];\n                    return [4, _a.call(asyncIterable_1)];\n                case 7:\n                    _b.sent();\n                    _b.label = 8;\n                case 8: return [3, 10];\n                case 9:\n                    if (e_2) throw e_2.error;\n                    return [7];\n                case 10: return [7];\n                case 11:\n                    subscriber.complete();\n                    return [2];\n            }\n        });\n    });\n}\n//# sourceMappingURL=from.js.map","import { scheduleArray } from '../scheduled/scheduleArray';\nimport { fromArrayLike } from './from';\nexport function internalFromArray(input, scheduler) {\n    return scheduler ? scheduleArray(input, scheduler) : fromArrayLike(input);\n}\n//# sourceMappingURL=fromArray.js.map","import { isFunction } from './isFunction';\nexport function isScheduler(value) {\n    return value && isFunction(value.schedule);\n}\n//# sourceMappingURL=isScheduler.js.map","export function isValidDate(value) {\n    return value instanceof Date && !isNaN(value);\n}\n//# sourceMappingURL=isDate.js.map","import { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { __read, __spreadArray } from \"tslib\";\nimport { map } from \"../operators/map\";\nvar isArray = Array.isArray;\nfunction callOrApply(fn, args) {\n    return isArray(args) ? fn.apply(void 0, __spreadArray([], __read(args))) : fn(args);\n}\nexport function mapOneOrManyArgs(fn) {\n    return map(function (args) { return callOrApply(fn, args); });\n}\n//# sourceMappingURL=mapOneOrManyArgs.js.map","import { innerFrom } from '../observable/from';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function mergeInternals(source, subscriber, project, concurrent, onBeforeNext, expand, innerSubScheduler, additionalTeardown) {\n    var buffer = [];\n    var active = 0;\n    var index = 0;\n    var isComplete = false;\n    var checkComplete = function () {\n        if (isComplete && !buffer.length && !active) {\n            subscriber.complete();\n        }\n    };\n    var outerNext = function (value) { return (active < concurrent ? doInnerSub(value) : buffer.push(value)); };\n    var doInnerSub = function (value) {\n        expand && subscriber.next(value);\n        active++;\n        var innerComplete = false;\n        innerFrom(project(value, index++)).subscribe(new OperatorSubscriber(subscriber, function (innerValue) {\n            onBeforeNext === null || onBeforeNext === void 0 ? void 0 : onBeforeNext(innerValue);\n            if (expand) {\n                outerNext(innerValue);\n            }\n            else {\n                subscriber.next(innerValue);\n            }\n        }, function () {\n            innerComplete = true;\n        }, undefined, function () {\n            if (innerComplete) {\n                try {\n                    active--;\n                    var _loop_1 = function () {\n                        var bufferedValue = buffer.shift();\n                        innerSubScheduler ? subscriber.add(innerSubScheduler.schedule(function () { return doInnerSub(bufferedValue); })) : doInnerSub(bufferedValue);\n                    };\n                    while (buffer.length && active < concurrent) {\n                        _loop_1();\n                    }\n                    checkComplete();\n                }\n                catch (err) {\n                    subscriber.error(err);\n                }\n            }\n        }));\n    };\n    source.subscribe(new OperatorSubscriber(subscriber, outerNext, function () {\n        isComplete = true;\n        checkComplete();\n    }));\n    return function () {\n        additionalTeardown === null || additionalTeardown === void 0 ? void 0 : additionalTeardown();\n    };\n}\n//# sourceMappingURL=mergeInternals.js.map","import { map } from './map';\nimport { innerFrom } from '../observable/from';\nimport { operate } from '../util/lift';\nimport { mergeInternals } from './mergeInternals';\nimport { isFunction } from '../util/isFunction';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) { concurrent = Infinity; }\n    if (isFunction(resultSelector)) {\n        return mergeMap(function (a, i) { return map(function (b, ii) { return resultSelector(a, b, i, ii); })(innerFrom(project(a, i))); }, concurrent);\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return operate(function (source, subscriber) { return mergeInternals(source, subscriber, project, concurrent); });\n}\n//# sourceMappingURL=mergeMap.js.map","import { __read } from \"tslib\";\nimport { Observable } from '../Observable';\nimport { mergeMap } from '../operators/mergeMap';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isFunction } from '../util/isFunction';\nimport { mapOneOrManyArgs } from '../util/mapOneOrManyArgs';\nimport { internalFromArray } from './fromArray';\nvar nodeEventEmitterMethods = ['addListener', 'removeListener'];\nvar eventTargetMethods = ['addEventListener', 'removeEventListener'];\nvar jqueryMethods = ['on', 'off'];\nexport function fromEvent(target, eventName, options, resultSelector) {\n    if (isFunction(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (resultSelector) {\n        return fromEvent(target, eventName, options).pipe(mapOneOrManyArgs(resultSelector));\n    }\n    var _a = __read(isEventTarget(target)\n        ? eventTargetMethods.map(function (methodName) { return function (handler) { return target[methodName](eventName, handler, options); }; })\n        :\n            isNodeStyleEventEmitter(target)\n                ? nodeEventEmitterMethods.map(toCommonHandlerRegistry(target, eventName))\n                : isJQueryStyleEventEmitter(target)\n                    ? jqueryMethods.map(toCommonHandlerRegistry(target, eventName))\n                    : [], 2), add = _a[0], remove = _a[1];\n    if (!add) {\n        if (isArrayLike(target)) {\n            return mergeMap(function (subTarget) { return fromEvent(subTarget, eventName, options); })(internalFromArray(target));\n        }\n    }\n    if (!add) {\n        throw new TypeError('Invalid event target');\n    }\n    return new Observable(function (subscriber) {\n        var handler = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return subscriber.next(1 < args.length ? args : args[0]);\n        };\n        add(handler);\n        return function () { return remove(handler); };\n    });\n}\nfunction toCommonHandlerRegistry(target, eventName) {\n    return function (methodName) { return function (handler) { return target[methodName](eventName, handler); }; };\n}\nfunction isNodeStyleEventEmitter(target) {\n    return isFunction(target.addListener) && isFunction(target.removeListener);\n}\nfunction isJQueryStyleEventEmitter(target) {\n    return isFunction(target.on) && isFunction(target.off);\n}\nfunction isEventTarget(target) {\n    return isFunction(target.addEventListener) && isFunction(target.removeEventListener);\n}\n//# sourceMappingURL=fromEvent.js.map","import { Observable } from '../Observable';\nimport { async as asyncScheduler } from '../scheduler/async';\nimport { isScheduler } from '../util/isScheduler';\nimport { isValidDate } from '../util/isDate';\nexport function timer(dueTime, intervalOrScheduler, scheduler) {\n    if (dueTime === void 0) { dueTime = 0; }\n    if (scheduler === void 0) { scheduler = asyncScheduler; }\n    var intervalDuration = -1;\n    if (intervalOrScheduler != null) {\n        if (isScheduler(intervalOrScheduler)) {\n            scheduler = intervalOrScheduler;\n        }\n        else {\n            intervalDuration = intervalOrScheduler;\n        }\n    }\n    return new Observable(function (subscriber) {\n        var due = isValidDate(dueTime) ? +dueTime - scheduler.now() : dueTime;\n        if (due < 0) {\n            due = 0;\n        }\n        var n = 0;\n        return scheduler.schedule(function () {\n            if (!subscriber.closed) {\n                subscriber.next(n++);\n                if (0 <= intervalDuration) {\n                    this.schedule(undefined, intervalDuration);\n                }\n                else {\n                    subscriber.complete();\n                }\n            }\n        }, due);\n    });\n}\n//# sourceMappingURL=timer.js.map","import { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(new OperatorSubscriber(subscriber, function (value) { return predicate.call(thisArg, value, index++) && subscriber.next(value); }));\n    });\n}\n//# sourceMappingURL=filter.js.map","import { isFunction } from '../util/isFunction';\nimport { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nimport { identity } from '../util/identity';\nexport function tap(observerOrNext, error, complete) {\n    var tapObserver = isFunction(observerOrNext) || error || complete\n        ?\n            { next: observerOrNext, error: error, complete: complete }\n        : observerOrNext;\n    return tapObserver\n        ? operate(function (source, subscriber) {\n            var _a;\n            (_a = tapObserver.subscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n            var isUnsub = true;\n            source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n                var _a;\n                (_a = tapObserver.next) === null || _a === void 0 ? void 0 : _a.call(tapObserver, value);\n                subscriber.next(value);\n            }, function () {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.complete) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                subscriber.complete();\n            }, function (err) {\n                var _a;\n                isUnsub = false;\n                (_a = tapObserver.error) === null || _a === void 0 ? void 0 : _a.call(tapObserver, err);\n                subscriber.error(err);\n            }, function () {\n                var _a, _b;\n                if (isUnsub) {\n                    (_a = tapObserver.unsubscribe) === null || _a === void 0 ? void 0 : _a.call(tapObserver);\n                }\n                (_b = tapObserver.finalize) === null || _b === void 0 ? void 0 : _b.call(tapObserver);\n            }));\n        })\n        :\n            identity;\n}\n//# sourceMappingURL=tap.js.map","import { operate } from '../util/lift';\nimport { OperatorSubscriber } from './OperatorSubscriber';\nimport { innerFrom } from '../observable/from';\nexport var defaultThrottleConfig = {\n    leading: true,\n    trailing: false,\n};\nexport function throttle(durationSelector, _a) {\n    var _b = _a === void 0 ? defaultThrottleConfig : _a, leading = _b.leading, trailing = _b.trailing;\n    return operate(function (source, subscriber) {\n        var hasValue = false;\n        var sendValue = null;\n        var throttled = null;\n        var isComplete = false;\n        var endThrottling = function () {\n            throttled === null || throttled === void 0 ? void 0 : throttled.unsubscribe();\n            throttled = null;\n            if (trailing) {\n                send();\n                isComplete && subscriber.complete();\n            }\n        };\n        var cleanupThrottling = function () {\n            throttled = null;\n            isComplete && subscriber.complete();\n        };\n        var startThrottle = function (value) {\n            return (throttled = innerFrom(durationSelector(value)).subscribe(new OperatorSubscriber(subscriber, endThrottling, cleanupThrottling)));\n        };\n        var send = function () {\n            if (hasValue) {\n                hasValue = false;\n                var value = sendValue;\n                sendValue = null;\n                subscriber.next(value);\n                !isComplete && startThrottle(value);\n            }\n        };\n        source.subscribe(new OperatorSubscriber(subscriber, function (value) {\n            hasValue = true;\n            sendValue = value;\n            !(throttled && !throttled.closed) && (leading ? send() : startThrottle(value));\n        }, function () {\n            isComplete = true;\n            !(trailing && hasValue && throttled && !throttled.closed) && subscriber.complete();\n        }));\n    });\n}\n//# sourceMappingURL=throttle.js.map","import { asyncScheduler } from '../scheduler/async';\nimport { defaultThrottleConfig, throttle } from './throttle';\nimport { timer } from '../observable/timer';\nexport function throttleTime(duration, scheduler, config) {\n    if (scheduler === void 0) { scheduler = asyncScheduler; }\n    if (config === void 0) { config = defaultThrottleConfig; }\n    var duration$ = timer(duration, scheduler);\n    return throttle(function () { return duration$; }, config);\n}\n//# sourceMappingURL=throttleTime.js.map","import { isMac } from '../../utils/utils';\nimport { EzElement } from '../../view';\nimport { EzDiagramPlugin } from '../diagram-plugin';\nimport { fromEvent, Subscription} from 'rxjs';\nimport {\n filter, tap, throttleTime, map\n} from 'rxjs/operators';\nimport { EzPoint } from '../../model';\nimport { Key, ModifierKey } from './hot-key-handler';\nimport { BUILTIN_ACTIONS } from '../../diagram/actions';\n\n/**\n *  bind hot key action for diagram\n */\nexport class EzHotKey extends EzDiagramPlugin {\n\n    root:EzElement;\n\n    zoomSubscription:Subscription;\n\n    translateSubscription:Subscription;\n\n    private _isEditing = false;\n\n    onCreate(){\n        this._bindScaleAndTranslate();\n        this._bindKeyhandlers();\n        this._bindShortcut();\n    }\n\n    onStartEditing(){\n        this._isEditing = true;\n    }\n\n    onStopEditing(){\n        this._isEditing = false;\n    }\n\n    isValidKeyEvent(event:KeyboardEvent):boolean {\n        return !!this.context.selectedViewStates?.length;\n    }\n\n    /**\n     *  press Backspace to delete element\n     */\n    private _bindShortcut():void {\n        const keyHandler = this.diagram.keyHandler;\n        keyHandler.bindKeyHandler(ModifierKey.none, Key.BACKSPACE, ()=>!this._isEditing && this.diagram.actions.execute(BUILTIN_ACTIONS.DELETE_SELECTED));\n        keyHandler.bindKeyHandler(ModifierKey.none, Key.ARROW_UP, ()=>this.diagram.actions.execute(BUILTIN_ACTIONS.MOVE_UP));\n        keyHandler.bindKeyHandler(ModifierKey.none, Key.ARROW_DOWN, ()=>this.diagram.actions.execute(BUILTIN_ACTIONS.MOVE_DOWN));\n        keyHandler.bindKeyHandler(ModifierKey.none, Key.ARROW_LEFT, ()=>this.diagram.actions.execute(BUILTIN_ACTIONS.MOVE_LEFT));\n        keyHandler.bindKeyHandler(ModifierKey.none, Key.ARROW_RIGHT, ()=>this.diagram.actions.execute(BUILTIN_ACTIONS.MOVE_RIGHT));\n    }\n\n    /**\n     *  bind key handlers\n     */\n    private _bindKeyhandlers():void {\n        fromEvent(document.documentElement, 'keydown').pipe(\n            map((event:KeyboardEvent)=>{\n                if(this.isValidKeyEvent(event)){\n                    this.diagram.keyHandler.handleKeyPress(event);\n                }\n            })\n        ).subscribe();\n    }\n\n    /**\n     *  zoom and scale graph using mouse wheel or touch pad\n     */\n    private _bindScaleAndTranslate():void {\n        const view = this.diagram.view;\n        this.root = view.svg;\n        let wheelDeltaX = 0;\n        let wheelDeltaY = 0;\n\n        const wheel = fromEvent(this.root.el, 'wheel').pipe(\n            filter(()=>this.diagram.configManager.shouldScaleAndTranslate),\n            tap((evt:WheelEvent)=>{\n                evt.stopPropagation();\n                evt.preventDefault();\n            }), \n\n            throttleTime(16),\n            tap((evt:WheelEvent)=>{\n                wheelDeltaX+=evt['wheelDeltaX'];\n                wheelDeltaY+=evt['wheelDeltaY'];\n            }),\n        );\n        \n        this.zoomSubscription = wheel.pipe(filter((evt:WheelEvent)=>{\n            return evt.ctrlKey || (evt.metaKey && isMac());\n        })).subscribe((evt)=>{\n            const scaleCenter = new EzPoint(evt.clientX-view.size.left, evt.clientY-view.size.top);\n            if(evt.deltaY>0){\n                if(view.getScale()<0.5)return;\n                this.diagram.zoomOut(0.15, scaleCenter);\n            }else {\n                if(view.getScale()>4)return;\n                this.diagram.zoomIn(0.15, scaleCenter);\n            }\n            wheelDeltaX = 0;\n            wheelDeltaY = 0;\n        });\n\n        this.translateSubscription = wheel.pipe(filter((evt:WheelEvent)=>{\n            return !evt.ctrlKey && !(evt.metaKey && isMac());\n        })).subscribe(()=>{\n            const offset = new EzPoint(Math.round(wheelDeltaX), Math.round(wheelDeltaY));\n            this.diagram.translate(offset);\n            wheelDeltaX = 0;\n            wheelDeltaY = 0;\n        });\n    }\n\n    onDestroy():void {\n        this.zoomSubscription.unsubscribe();\n        this.translateSubscription.unsubscribe();\n    }\n}","import { EzPoint, EzRectangle } from '../../model';\nimport { EzConstraint } from '../../model/constraint/constraint';\nimport { getRotatedPoint } from '../../public-api';\nimport { EzElement, EzDiagramView } from '../../view';\nimport { EzVertexViewState } from '../../view/view/view-state';\nimport { getHandlerContainer } from '../handler-dom';\n\nexport function generateElements(view:EzDiagramView, state:EzVertexViewState, grow = 0): [EzConstraint[], EzPoint[], EzElement, ()=>void] {\n  \n    const getData = ():[EzRectangle, EzConstraint[], EzPoint[]]=>{\n        const s = state.alternate || state;\n        const bounds = s.getBounds().clone().grow(grow);\n        const targetConstraints = state.node.constraints;\n        const constraintPoints = targetConstraints.map(constraint=>{\n            return new EzPoint(bounds.x+constraint.percentX*bounds.width+constraint.offsetX, bounds.y+constraint.percentY*bounds.height+constraint.offsetY);\n        }).map(point=>getRotatedPoint(point, state.style.rotation || 0, bounds.center())).map(pt=>view.ensurePointMeetsGrid(pt));\n        return [bounds, targetConstraints, constraintPoints];\n    };\n\n    const [bounds, targetConstraints, constraintPoints] = getData();\n    \n    const rectEl = EzElement.el('rect').attr({\n        x:bounds.x,\n        y:bounds.y,\n        width:bounds.width,\n        height:bounds.height,\n        fill:'rgba(255,255,255,0.01)',\n        transform:`rotate(${state.style.rotation||0} ${bounds.center().x} ${bounds.center().y})`\n    }).style({pointerEvents:'stroke'});\n\n    const constraintEls = constraintPoints.map((point, index)=>EzElement.el('ellipse').attr({\n        cx:point.x, cy:point.y, rx:5, ry:5, fill:'rgba(132, 168, 235,0.5)', class:'edge-generate-bend', dataIndex:index\n    }));\n\n    const children = [rectEl, ...constraintEls];\n\n    const handlerElement = getHandlerContainer(state).appendChildren(children);\n    const update = () =>{\n        const [bounds, _, constraintPoints] = getData();\n        rectEl.attr(bounds.plain());\n        constraintEls.forEach((el, idx)=>{\n            const point = constraintPoints[idx];\n            el.attr({\n                cx:point.x, cy:point.y, rx:5, ry:5\n            });\n        });\n\n    };\n\n    return [targetConstraints, constraintPoints, handlerElement, update];\n}","import { EzMouseEvent } from '../../event/event';\nimport {\n EzEdge, EzPoint, EzVertex \n} from '../../model';\nimport { EzConstraint } from '../../model/constraint/constraint';\nimport {\n getNormOfVector, getRotatedPoint, getVector, isPointInsideRect, toRectPoints \n} from '../../utils/math';\nimport { EzElement } from '../../view';\nimport { EzEdgeViewState, EzVertexViewState } from '../../view/view/view-state';\nimport { EzDiagramPlugin } from '../diagram-plugin';\nimport { generateElements } from './common';\n\n\nexport class ConnectVertex extends EzDiagramPlugin {\n    \n    private _terminalType;\n\n    private _connectTolerence = 10;\n\n    private _constraintTolerence = 30;\n\n    private _constraintPoints:EzPoint[];\n\n    private _constraintPoint:EzPoint;\n\n    private _constraint:EzConstraint;\n\n    private _targetVertex:EzVertex;\n\n    private _targetConstraints:EzConstraint[];\n\n    private _handlerElement:EzElement;\n\n    private get selected():EzEdgeViewState {\n        const selected = this.context.selectedViewStates;\n        if(selected) {\n            if(selected.length>1) return;\n            if(selected.length === 1){\n                if(selected[0] instanceof EzEdgeViewState) return selected[0];\n            }\n        }\n    }\n\n    private _getTerminalType(evt:MouseEvent):EdgeTerminalType {\n        const target = evt.target as Element;\n        const el = EzElement.el(target);\n        if(!el.hasAttr('handler')) return;\n        const idx = Number(el.getAttr('index'));\n        if(isNaN(idx)) return;\n        if(idx === 0 ) return EdgeTerminalType.SOURCE;\n        if(idx === this.selected.getPoints().length-1) return EdgeTerminalType.TARGET;\n    }\n\n    private _getTopMostIntersectedVertexState(point:EzPoint):EzVertexViewState {\n        const view = this.diagram.view;\n        const intersected = [];\n        view.stateMapping.forEach(state=>{\n            if(state instanceof EzEdgeViewState) return;\n            if((state instanceof EzVertexViewState ) && state.style.editable !== false){\n                const bounds = state.getBounds().clone().grow(this._constraintTolerence);\n                const rect = toRectPoints(bounds, state.style.rotation);\n                if(isPointInsideRect(rect, point)){\n                    intersected.push(state);\n                }\n            }\n        });\n\n        // TODO return first matched vertex state for temporary use , remember to return top most state\n        return intersected[0];\n    }\n\n    private _generateConnectionPoints(state:EzVertexViewState):void {\n        if(this._handlerElement) return;\n\n        const [_targetConstraints, _constraintPoints, _handlerElement] = generateElements(this.diagram.view, state);\n\n        this._targetConstraints = _targetConstraints;\n        this._constraintPoints = _constraintPoints;\n        this._handlerElement = _handlerElement;\n        this.diagram.view.overlayGroup.appendChild(this._handlerElement);\n    }\n\n    private _handleConnectToConnectionPoint(evt:MouseEvent):void {\n        const view = this.diagram.view;\n        const mousePosition = view.getMousePointRelateToContainer(evt);\n        const distances = this._constraintPoints.map(point=>getNormOfVector(getVector(point, mousePosition)));\n        const nearestDistance = Math.min(...distances);\n        const idx = distances.findIndex(i=>i===nearestDistance);\n        const nearestPoint = this._constraintPoints[idx];\n\n        this._constraint = this._targetConstraints[idx];\n        if(nearestDistance<=this._connectTolerence){\n            this._constraintPoint = nearestPoint;\n            view.changingEdgePoint(this.selected, nearestPoint, this._terminalType === EdgeTerminalType.SOURCE ? 0:this.selected.getPoints().length-1, true);\n        }else {\n            this._constraintPoint = null;\n        }\n\n    }\n\n    private _destroyHandlerElement():void {\n        this._handlerElement?.remove();\n        this._handlerElement = null;\n    }\n\n    canActivate():boolean {\n        return !!this.context.selectedViewStates?.length;\n    }\n\n    onDeActivate() {\n    }\n\n    onMouseDown({evt}:EzMouseEvent):void {\n        if(!this.selected) return;\n        this._terminalType = this._getTerminalType(evt);\n    }\n\n    onPressMove({evt}:EzMouseEvent):void {\n        if(!this.selected) return;\n\n        if(this._terminalType === EdgeTerminalType.SOURCE || this._terminalType === EdgeTerminalType.TARGET){\n            const intersected = this._getTopMostIntersectedVertexState(this.diagram.view.getMousePointRelateToContainer(evt));\n            if(intersected){\n                this._targetVertex = intersected.node;\n                this._generateConnectionPoints(intersected);\n                this._handleConnectToConnectionPoint(evt);\n            }else {\n                this._destroyHandlerElement();\n            }\n        }\n    }\n\n    onMouseUp(){\n        if(!this.selected) return;\n\n        const view = this.diagram.view;\n        if(this._constraintPoint){\n            const index = this._terminalType === EdgeTerminalType.SOURCE ? 0:this.selected.getPoints().length-1;\n            view.changeEdgePoint(this.selected, this._constraintPoint, index, true);\n            view.updateTerminalVertex(this.selected, this._targetVertex, this._constraint, this._terminalType === EdgeTerminalType.SOURCE);\n        }else {\n            // TODO remove terminal vertex\n        }\n  \n        this._destroyHandlerElement();\n        this._constraintPoint = null;\n        this._terminalType = null;\n        this._targetVertex = null;\n        this._constraint = null;\n        this._targetConstraints = null;\n    }\n\n    private _updateRelatedEdgeTerminalPoint(state:EzVertexViewState, update:boolean):void {\n        const s = state.alternate || state;\n        const vertex = s.node;\n        const edges = vertex.edges;\n        const bounds = s.getBounds();\n        const view = this.diagram.view;\n        const getTerminalPoint = (edge:EzEdge, isSource:boolean)=>{\n            const constraint = isSource?edge.sourceConstraint:edge.targetConstraint;\n            const point = new EzPoint(bounds.x+constraint.percentX*bounds.width+constraint.offsetX, bounds.y+constraint.percentY*bounds.height+constraint.offsetY);\n            return getRotatedPoint(point, s.style.rotation||0, bounds.center());\n        };\n        edges.forEach(edge=>{\n            const isSource = edge.source === vertex;\n            const point = getTerminalPoint(edge, isSource);\n            const idx = isSource ? 0:edge.points.length-1;\n            const state = view.stateMapping.get(edge.id) as EzEdgeViewState;\n            update?view.changeEdgePoint(state, point, idx, true):view.changingEdgePoint(state, point, idx, true);\n        });\n    }\n\n    onMoveVertex(state:EzVertexViewState):void {\n        this._updateRelatedEdgeTerminalPoint(state, true);\n    }\n\n    onMovingVertex(state:EzVertexViewState):void{\n        this._updateRelatedEdgeTerminalPoint(state, false);\n    }\n\n    onRotateVertex(state:EzVertexViewState):void {\n        this._updateRelatedEdgeTerminalPoint(state, true);\n    }\n\n    onRotatingVertex(state:EzVertexViewState):void {\n        this._updateRelatedEdgeTerminalPoint(state, false);\n    }\n\n    onResizingVertex(state:EzVertexViewState):void {\n        this._updateRelatedEdgeTerminalPoint(state, true);\n    }\n\n    onResizeVertex(state:EzVertexViewState):void {\n        this._updateRelatedEdgeTerminalPoint(state, false);\n    }\n}\n\nenum EdgeTerminalType {\n    SOURCE,\n    TARGET\n}","import { EzMouseEvent } from '../../event/event';\nimport { EzElement, HTML_NAME_SPACE } from '../../view';\nimport { getFontStyles } from '../../view/style/style';\nimport { EzVertexViewState, EzViewState } from '../../view/view/view-state';\nimport { EzDiagramPlugin } from '../diagram-plugin';\nimport { getHandlerContainer } from '../handler-dom';\n\nexport class VertexTextEditor extends EzDiagramPlugin {\n    private _editorElm:EzElement;\n\n    private _editorContentWrapper:EzElement;\n\n    private _isMouseDown = false;\n\n    private _editingState:EzViewState;\n\n    get selected():EzVertexViewState {\n        const selected = this.context.selectedViewStates;\n        if(selected && selected.length ===1 && selected[0] instanceof EzVertexViewState){\n            return selected[0];\n        }\n    }\n\n    canActivate():boolean{\n        return !!this.selected;\n    }\n\n    onDeActivate():void {\n        this._clear();\n    }\n\n    onChangeSelection(){\n        this._clear();\n    }\n\n    onDblClick(evt:EzMouseEvent):void{\n        if(this._canStartEditing(evt) && evt.state.style.editable !==false){\n            this._startEditing();\n        }\n    }\n\n    onMouseDown():void {\n        this._isMouseDown = true;\n    }\n\n    onMouseMove({evt}:EzMouseEvent):void {\n        const target = evt.target as Element;\n        if(!target) return;\n        if(!this._isMouseDown) return;\n        if(this._isEditorFocused(evt)) return;\n\n        if(this._editorElm){\n            this._updateEditorElm();\n        }\n    }\n\n    onMouseUp():void {\n        this._isMouseDown = false;\n    }\n\n    private _clear():void {\n        const view = this.diagram.view;\n        if(this._editingState){\n            const val = this._editorContentWrapper.el.innerHTML;\n            view.updateText(this._editingState, val);\n            this.diagram.pluginManager.callHook('onStopEditing', this._editingState);\n            view.callShapeEventHook(this._editingState, 'onStopEditing');\n            this._editingState = null;\n        }\n        this._editorElm?.remove();\n        this._editorElm = null;\n        this._editorContentWrapper = null;\n    }\n\n    private _canStartEditing(evt:EzMouseEvent):boolean {\n        const target = evt.evt.target as Element;\n        if(!target) return false;\n        return !this._isEditorFocused(evt.evt);\n    }\n\n    private _startEditing():void {\n        if(!this._editorElm){\n            this._createEditorElm();\n        }\n        this._updateEditorElm();\n        this._focusEditor();\n        this._editingState = this.selected;\n        this.diagram.pluginManager.callHook('onStartEditing', this.selected);\n        this.diagram.view.callShapeEventHook(this.selected, 'onStartEditing');\n    }\n\n    private _createEditorElm():void{\n        this._editorContentWrapper = EzElement.el('div', HTML_NAME_SPACE).attr({contenteditable:'true', id:'editor'}).style({\n            outline:'none',\n            maxWidth:'98%',\n            minWidth:'10px',\n            textAlign:'center'\n        });\n        this._editorContentWrapper.el.appendChild(document.createTextNode(''));\n\n        const fontStyles = getFontStyles(this.selected.style);\n        this._editorElm = getHandlerContainer(this.selected).appendChild(\n            EzElement.el('foreignObject').attr({...this.selected.getBounds().plain()}).appendChild(\n                EzElement.el('div', HTML_NAME_SPACE).style({\n                    width:'100%', height:'100%', display:'flex', \n                    alignItems:'center', justifyContent:'center', \n                    flexDirection:'column', textAlign:'center'\n                }).style(fontStyles).appendChild(this._editorContentWrapper)\n            )\n        );\n        this.diagram.view.overlayGroup.appendChild(this._editorElm);\n    }\n\n    private _focusEditor():void {\n        const range = document.createRange();\n        const sel = window.getSelection();\n        const last =(()=>{\n            let last = this._editorContentWrapper.el?.lastChild;\n            while(last.nodeType !==3){\n                last = last.lastChild;\n            }\n            return last;\n        })(); \n        const len = last.textContent.length;\n        range.setStart(last, len);\n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n    }\n\n    private _updateEditorElm():void {\n        const state = this.selected.alternate || this.selected;\n        const bounds = state.getBounds().plain();\n        this._editorElm.attr(bounds).firstElementChild()?.attr(bounds);\n\n        const text = state.node.text;\n        if(!text){\n            this._editorContentWrapper.el.appendChild(document.createTextNode(''));\n        }else {\n            this._editorContentWrapper.html(text);\n        }\n    }\n\n    private _isEditorFocused(evt:MouseEvent):boolean {\n        const target = evt.target as Element;\n        return !!(EzElement.el(target).farestAncestor('#editor') || EzElement.el(target).is('#editor'));\n    }\n}","import { EzMouseEvent } from '../../event/event';\nimport { EzPoint } from '../../model';\nimport {\n BUILTIN_MARKER, BUILTIN_SHAPE, EzElement \n} from '../../view';\nimport { EzEdgeViewState, EzVertexViewState } from '../../view/view/view-state';\nimport { BUILTIN_PLGUIN } from '../constant';\nimport { EzDiagramPlugin } from '../diagram-plugin';\nimport { generateElements } from './common';\nimport { EzEdge } from '../../model';\nimport { EzConstraint } from '../../model/constraint/constraint';\n\nexport class EdgeGenerator extends EzDiagramPlugin {\n\n    private _handlerElement:EzElement;\n\n    private _constraintGrow = 0;\n\n    private _constraintPoint:EzPoint;\n\n    private _constraint:EzConstraint;\n\n    private _constraintPoints:EzPoint[];\n\n    private _tempEdge:EzEdgeViewState;\n\n    private _currentVertex:EzVertexViewState;\n\n    private _targetConstraints:EzConstraint[];\n\n    /** selected vertex */\n    private get selected():EzVertexViewState {\n        const selected = this.context.selectedViewStates;\n        if(selected) {\n            if(selected.length>1) return;\n            if(selected.length === 1){\n                if(selected[0] instanceof EzVertexViewState) return selected[0];\n            }\n        }\n    }\n\n    private get state():EzVertexViewState {\n        return this.selected?.alternate || this.selected;\n    }\n    \n    beforeCallingHook({evt}:EzMouseEvent):void{\n        const target = EzElement.el(evt.target as Element);\n        if(evt.type === 'mousedown' && !this.selected && target.is('.edge-generate-bend')){\n            this._setSelectPluginDisabled(true);\n        }\n    }\n\n    onMouseDown({evt}:EzMouseEvent):void {\n        if(!this._isEdgeGenerateBend(evt))return;\n        \n        const [_constraint, _constraintPoint] = this._getTargetConstraintInfo(evt);\n        this._constraint = _constraint;\n        this._constraintPoint = _constraintPoint;\n    }   \n\n    onMouseMove({evt, state}:EzMouseEvent):void {\n        if(state && state instanceof EzVertexViewState){\n            if(!this._handlerElement && !this.selected && state.style.editable !==false){\n                const [_targetConstraints, _constraintPoints, _handlerElement ] = generateElements(this.diagram.view, state, this._constraintGrow);\n                this._handlerElement = _handlerElement;\n                this._constraintPoints = _constraintPoints;\n                this._currentVertex = state;\n                this._targetConstraints = _targetConstraints;\n                this.diagram.view.overlayGroup.appendChild(_handlerElement);\n            }else if(this._currentVertex !== state){\n                this._reset();\n            }\n        }else if(!this._constraintPoint){\n            this._reset();\n        }\n\n        if(this._constraintPoint){\n            this.diagram.clearSelection();\n            const view = this.diagram.view;\n            const current = view.getMousePointRelateToContainer(evt);\n            if(this._tempEdge){\n                view.changingEdgePoint(this._tempEdge, current, 1, true);\n            } else {\n                const node = new EzEdge([this._constraintPoint.clone(), current.clone()], {shape: BUILTIN_SHAPE.LINE, markerEnd:BUILTIN_MARKER.TRIANGLE, });\n                this._tempEdge = view.addTempState(node) as EzEdgeViewState;\n            }\n            \n        }\n    }\n\n    onMouseUp({evt}:EzMouseEvent):void {\n        const diagram = this.diagram;\n        const view = diagram.view;\n        const current = view.getMousePointRelateToContainer(evt);\n        if(this._tempEdge){\n            view.changeEdgePoint(this._tempEdge, current, 1, true);\n            const viewPoints = this._tempEdge.alternate.getPoints();\n            view.removeTempState(this._tempEdge);\n            const modelPoints = viewPoints.map((point)=>{\n                return new EzPoint(point.x/view.getScale()-view.getTranslate().x, point.y/view.getScale()-view.getTranslate().y);\n            });\n            \n            const edge = this._tempEdge.node;\n            edge.points = modelPoints;\n            edge.source = this._currentVertex.node;\n            edge.sourceConstraint = this._constraint;\n            diagram.addEdge(edge);\n        }\n\n\n        this._setSelectPluginDisabled(false);\n        this._constraintPoint = null;\n        this._constraint = null;\n        this._constraintPoints = null;\n        this._targetConstraints = null;\n        this._tempEdge = null;\n    }\n\n    onChangeSelection():void {\n        if(this.selected){\n            this._reset();\n        }\n    }\n\n    private _setSelectPluginDisabled(disabled:boolean):void {\n        const pluginManager = this.diagram.pluginManager;\n        const selectPlugin = pluginManager.getPlugins().get(BUILTIN_PLGUIN.SELECT);\n        selectPlugin?.setDisabled(disabled);\n    }\n\n    private _getTargetConstraintInfo(evt:MouseEvent):[EzConstraint, EzPoint] {\n        if(this._isEdgeGenerateBend(evt)){\n            const el =EzElement.el(evt.target as Element);\n            const index = +el.data('index');\n            return [this._targetConstraints[index], this._constraintPoints[index]];\n        }\n    }\n\n    private _isEdgeGenerateBend(evt:MouseEvent):boolean {\n        const el =EzElement.el(evt.target as Element);\n        return el.is('.edge-generate-bend');\n    }\n\n    private _reset():void {\n        this._handlerElement?.remove();\n        this._handlerElement = null;\n    }\n}","import { EzDiagramView } from '../view/view/view';\nimport { EzVertex } from '../model/vertex/vertex';\nimport { EzModel } from '../model/model';\nimport { EzDiagramPluginManager } from '../plugin';\nimport { SelectPlugin } from '../plugin/selection-plugin/selection-plugin';\nimport { SingleVertexHandler } from '../plugin/single-vertex-handler/single-vertex-handler';\nimport {\n EzElement, EzShapeConstructor, HTML_NAME_SPACE \n} from '../view';\nimport { SingleLineHandler } from '../plugin';\nimport { EzBackGround } from '../plugin/background/background';\nimport { EzHotKey } from '../plugin/hot-key/hot-key';\nimport { EzEdge, EzPoint } from '../model';\nimport { ConnectVertex } from '../plugin/constraint-handler/connect-vertex';\nimport { VertexTextEditor } from '../plugin/vertex-text-editor/vertex-text-editor';\nimport { EzConfigManager } from '../config/config';\nimport { EdgeGenerator } from '../plugin/constraint-handler/edge-generator';\nimport { BUILTIN_PLGUIN } from '../plugin/constant';\nimport { HotkeyHandler } from '../plugin/hot-key';\nimport { EzDiagramPlugin } from '../plugin/diagram-plugin';\nimport { EzDiagramActions } from './actions';\nimport { EzDiagramNode } from '../model/diagram-node';\nimport { EzLayoutManager } from '../layout/layout-manager';\nimport { BUILTIN_LAYOUT } from '../layout/constant';\nimport { TreeLayout } from '../layout/tree-layout/tree-layout';\nimport { EzEdgeStyleOptions, EzVertexStyleOptions } from '../view/style/style';\nimport { STATE_WORK_TYPE } from '../view/view/view-state';\n\n\ninterface EzDiagramOpts {\n    background?:string;\n}\n\nexport class EzDiagram {\n    model:EzModel;\n\n    container:EzElement;\n\n    options:EzDiagramOpts;\n\n    /**\n     *  holds all registered plugins\n     */\n    pluginManager = new EzDiagramPluginManager(this);\n\n    /**\n     * holds default configs for current diagram.\n     * also, it supply methods to changes default configs\n     */\n    configManager = new EzConfigManager();\n\n    /**\n     * holds all built in layouts for current diagram.\n     * also ,  it supply methods to add or modify layout\n     */\n    layoutmanager = new EzLayoutManager();\n\n    /**\n     * provides a esay way to bind or unbind hotkey shortcuts \n     * for diagram \n     * `\n     *   // delete a diagram element while press ctrl + x\n     *   // TODO\n     * `\n     */\n    keyHandler = new HotkeyHandler();\n\n    /**\n     * holds default diagram actions\n     */\n    actions = new EzDiagramActions(this);\n\n    view:EzDiagramView;\n\n    constructor(container:Element, opts:EzDiagramOpts = {}){\n        this.options = opts;\n        this._applyBuiltInPlugins();\n        this._applyBuiltInLayouts();\n        this.container = EzElement.el(container, HTML_NAME_SPACE);\n        this.view = new EzDiagramView(this);\n        this.model = new EzModel();\n        this.pluginManager.callHook('onCreate');\n    }\n\n    /**\n     * clear container and render svg element\n     */\n    render(){\n        this.executeLayouts();\n        const svg = this.view.rerender();\n        this.container.empty();\n        this.container.appendChild(svg);\n    }\n\n    private _applyBuiltInPlugins():void {\n        const ctx = this.pluginManager.getContext();\n        const plugins:{name:string, plugin:EzDiagramPlugin}[] = [\n                {name:BUILTIN_PLGUIN.SELECT, plugin: new SelectPlugin(this, ctx)},\n                {name:BUILTIN_PLGUIN.SINGLE_LINE_HANDLER, plugin: new SingleLineHandler(this, ctx)},\n                {name:BUILTIN_PLGUIN.EDGE_GENERATOR, plugin: new EdgeGenerator(this, ctx)},\n                {name:BUILTIN_PLGUIN.SINGLE_VERTEX_HANDLER, plugin: new SingleVertexHandler(this, ctx)},\n                {name:BUILTIN_PLGUIN.HOT_KEY, plugin: new EzHotKey(this, ctx)},\n                {name:BUILTIN_PLGUIN.CONNECT_VERTEX, plugin: new ConnectVertex(this, ctx)},\n                {name:BUILTIN_PLGUIN.VERTEX_TEXT_EDITOR, plugin: new VertexTextEditor(this, ctx)},\n        ];\n\n        //  use dynamic background here\n        if(this.options.background) {\n            plugins.push(\n                {name:BUILTIN_PLGUIN.BACKGROUND, plugin: new EzBackGround(this, ctx)},\n            );\n        }\n        \n        plugins.forEach(({name, plugin})=>{\n            this.pluginManager.use(name, plugin);\n        });\n    }\n\n    private _applyBuiltInLayouts():void {\n        const ctx = this.pluginManager.getContext();\n        this.layoutmanager.use(BUILTIN_LAYOUT.TREE_LAYOUT, new TreeLayout(this, ctx));\n    }\n\n    zoomIn(zoomStep:number, centerPoint:EzPoint):void {\n        const nextScale = this.view.getScale() + zoomStep;\n        this.zoomTo(nextScale, centerPoint);\n    }\n\n    zoomOut(zoomStep:number, centerPoint:EzPoint):void {\n        const nextScale = this.view.getScale() - zoomStep;\n        this.zoomTo(nextScale, centerPoint);\n    }\n\n    /**\n     * zooms the diagram to the given scale with an center argument\n     * @param scale \n     * @param centerPoint \n     */\n    zoomTo(scale:number, centerPoint:EzPoint = this.getViewCenter()){\n        const lastScale = this.view.getScale();\n        const step = scale/lastScale-1;\n        const translate = new EzPoint(-(centerPoint.x*step/scale), -(centerPoint.y*step/scale));\n        this.view.translate(translate);\n        this.view.setScale(scale);\n        this.view.markAllDirty();\n    }\n\n    /**\n     * execute layout for all layout root nodes\n     */\n    executeLayouts(){\n        const roots = this.model.getLayoutRoots();\n        roots.forEach(root=>{\n            const layout = root.layout;\n            const layoutInst = this.layoutmanager.get(layout);\n            if(!layoutInst){\n                if(__DEV__){\n                    console.warn(`layout ${layout} is not found`);\n                }\n                return;\n            }\n            layoutInst.execute(root);\n        });\n    }\n    \n    /**\n     * get center point of current view\n     * @returns \n     */\n    getViewCenter():EzPoint {\n        const vSize = this.view.size;\n        return new EzPoint(vSize.left + vSize.width/2, vSize.top+vSize.height/2);\n    }\n\n    /**\n     * move the diagram with the given offset\n     * @param offset \n     */\n    translate(offset:EzPoint): void {\n        this.view.translate(offset);\n        this.view.markAllDirty();\n    }\n\n    setTranslate(translate:EzPoint):void {\n        this.view.setTranslate(translate);\n        this.view.markAllDirty();\n    }\n\n    /**\n     * add a vertex to model\n     * @param vertex  \n     */\n    addVertex(vertex:EzVertex):void{\n        this.model.addVertex(vertex);\n        this.view.render();\n    }\n\n    /**\n     * add a edge to model\n     * @param edge \n     * @param parent - default parent is model root\n     */\n    addEdge(edge:EzEdge):void{\n        this.model.addEdge(edge);\n        this.view.render();\n    }\n\n    /**\n     * clear all selected diagram elements\n     */\n    clearSelection():void {\n        const selectPlugin = this.pluginManager.get(BUILTIN_PLGUIN.SELECT) as SelectPlugin;\n        selectPlugin.changeSelection([]);\n    }\n\n    /**\n     * move the given diagram node to front\n     * @param node \n     */\n    toFront(node:EzDiagramNode){\n        this.view.changeOrder(node, this.model.nodes.length-1);\n    }\n\n    /**\n     * move the given diagram node to bottom\n     * @param node \n     */\n    toBottom(node:EzDiagramNode){\n        this.view.changeOrder(node, 0);\n    }\n\n    /**\n     * \n     * @param vertex \n     * @param style \n     */\n    setVertexStyle(vertex:EzVertex,style:EzVertexStyleOptions):void {\n        Object.assign(vertex.style,style);\n        const state = this.view.stateMapping.get(vertex.id);\n        state.updateWork = STATE_WORK_TYPE.UPDATE_FROM_MODEL;\n    }\n\n    /**\n     * \n     * @param edge \n     * @param style \n     */\n    setEdgeStyle(edge:EzEdge,style:EzEdgeStyleOptions):void {\n        Object.assign(edge.style,style);\n        const state = this.view.stateMapping.get(edge.id);\n        state.updateWork = STATE_WORK_TYPE.UPDATE_FROM_MODEL;\n    }\n\n\n    registerShape(shapeName:string, shape:EzShapeConstructor):void {\n        this.view.shapeManager.registerShape(shapeName, shape);\n    }\n\n    destroy():void {\n        // TODO do some clear work\n        this.pluginManager.callHook('onDestroy');\n    }\n\n}"],"names":["extendStatics","__extends","__spreadArray","EzDirection","HandlerAction","Symbol_observable","Symbol_iterator","asyncScheduler"],"mappings":";;;;;;IAAA;IACA;AACA;IACA;IACA;AACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACA;IACA,IAAIA,eAAa,GAAG,SAAS,CAAC,EAAE,CAAC,EAAE;IACnC,IAAIA,eAAa,GAAG,MAAM,CAAC,cAAc;IACzC,SAAS,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;IACpF,QAAQ,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC1G,IAAI,OAAOA,eAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC;AACF;IACO,SAASC,WAAS,CAAC,CAAC,EAAE,CAAC,EAAE;IAChC,IAAI,IAAI,OAAO,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,IAAI;IAC7C,QAAQ,MAAM,IAAI,SAAS,CAAC,sBAAsB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,+BAA+B,CAAC,CAAC;IAClG,IAAID,eAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB,IAAI,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;IAC3C,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC;AACD;IACO,IAAI,QAAQ,GAAG,WAAW;IACjC,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC,EAAE;IACrD,QAAQ,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;IAC7D,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC7B,YAAY,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACzF,SAAS;IACT,QAAQ,OAAO,CAAC,CAAC;IACjB,MAAK;IACL,IAAI,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC3C,EAAC;AA2HD;IACO,SAASE,eAAa,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;IAC9C,IAAI,IAAI,IAAI,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;IACzF,QAAQ,IAAI,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,CAAC,EAAE;IAChC,YAAY,IAAI,CAAC,EAAE,EAAE,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACjE,YAAY,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5B,SAAS;IACT,KAAK;IACL,IAAI,OAAO,EAAE,CAAC,MAAM,CAAC,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC7D;;IC5KA;IACA;IACA;IACA,IAAI,eAAe,CAAC;IACpB,IAAI,KAAK,GAAG,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC;IAChB,SAAS,GAAG,GAAG;IAC9B;IACA,EAAE,IAAI,CAAC,eAAe,EAAE;IACxB;IACA;IACA,IAAI,eAAe,GAAG,OAAO,MAAM,KAAK,WAAW,IAAI,MAAM,CAAC,eAAe,IAAI,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,OAAO,QAAQ,KAAK,WAAW,IAAI,OAAO,QAAQ,CAAC,eAAe,KAAK,UAAU,IAAI,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACrP;IACA,IAAI,IAAI,CAAC,eAAe,EAAE;IAC1B,MAAM,MAAM,IAAI,KAAK,CAAC,0GAA0G,CAAC,CAAC;IAClI,KAAK;IACL,GAAG;AACH;IACA,EAAE,OAAO,eAAe,CAAC,KAAK,CAAC,CAAC;IAChC;;AClBA,gBAAe,qHAAqH;;ICEpI,SAAS,QAAQ,CAAC,IAAI,EAAE;IACxB,EAAE,OAAO,OAAO,IAAI,KAAK,QAAQ,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACtD;;ICHA;IACA;IACA;IACA;AACA;IACA,IAAI,SAAS,GAAG,EAAE,CAAC;AACnB;IACA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;IAC9B,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC;AACD;IACA,SAAS,SAAS,CAAC,GAAG,EAAE;IACxB,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACrF;IACA;IACA,EAAE,IAAI,IAAI,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC,EAAE,WAAW,EAAE,CAAC;IACzgB;IACA;IACA;IACA;AACA;IACA,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;IACvB,IAAI,MAAM,SAAS,CAAC,6BAA6B,CAAC,CAAC;IACnD,GAAG;AACH;IACA,EAAE,OAAO,IAAI,CAAC;IACd;;ICxBA,SAAS,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE;IAClC,EAAE,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;IAC1B,EAAE,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC;AACtD;IACA,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;IAClC,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;AAClC;IACA,EAAE,IAAI,GAAG,EAAE;IACX,IAAI,MAAM,GAAG,MAAM,IAAI,CAAC,CAAC;AACzB;IACA,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;IACjC,MAAM,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IAChC,KAAK;AACL;IACA,IAAI,OAAO,GAAG,CAAC;IACf,GAAG;AACH;IACA,EAAE,OAAO,SAAS,CAAC,IAAI,CAAC,CAAC;IACzB;;ICnBA;QAQI,uBAAY,IAAY;YACpB,IAAI,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC;YAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;SACrB;QAMD,sBAAW,6BAAE;;;;;iBAAb;gBACI,OAAO,IAAI,CAAC,GAAG,CAAC;aACnB;;;;;iBAMD,UAAc,KAAa;gBACvB,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC;aACpB;;;WARA;QAcD,sBAAW,+BAAI;;;;;iBAAf;gBACI,OAAO,IAAI,CAAC,KAAK,CAAC;aACrB;;;;;iBAMD,UAAgB,KAAa;gBACzB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;aACtB;;;WARA;QAcD,sBAAW,iCAAM;;;;;iBAAjB;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC;aACvB;;;;;iBAMD,UAAkB,KAAoB;gBAClC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACxB;;;WARA;QAUL,oBAAC;IAAD,CAAC;;QC/DY,uBAAuB,GAAG,YAAY;QACtC,WAAW,GAAG;;QCDd,oBAAoB,GAAG,YAAY;QACnC,kBAAkB,GAAG;;ACDtBC;IAAZ,WAAY,WAAW;QACnB,2CAAG,CAAA;QACH,6CAAI,CAAA;QACJ,iDAAM,CAAA;QACN,+CAAK,CAAA;QACL,qDAAQ,CAAA;QACR,uDAAS,CAAA;QACT,2DAAW,CAAA;QACX,6DAAY,CAAA;IAChB,CAAC,EATWA,mBAAW,KAAXA,mBAAW;;ICIhB,IAAM,oBAAoB,GAAG,CAAC,CAAC;IAEtC;IACO,IAAM,8BAA8B,GAAG,CAAC,CAAC;aAsChC,WAAW,CAAC,KAAoB;QAC5C,IAAM,QAAQ,GAAG,EAAE,CAAC;QACpB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG;YAC1B,IAAG,QAAO,KAAK,CAAC,GAAG,CAAC,CAAC,KAAG,QAAQ,IAAG,QAAO,KAAK,CAAC,GAAG,CAAC,CAAC,KAAG,QAAQ,EAAE;gBAC9D,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;aAC9B;SACJ,CAAC,CAAC;QACH,IAAG,QAAQ,CAAC,MAAM,CAAC,KAAG,MAAM,EAAC;YACzB,QAAQ,CAAC,MAAM,CAAC,GAAG,uBAAuB,CAAC;SAC9C;QACD,OAAO,QAAQ,CAAC;IACpB,CAAC;aAEe,aAAa,CAAC,KAAoB;QAC9C,IAAM,mBAAmB,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;QAClD,IAAM,MAAM,GAAG,EAAE,CAAC;QAClB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG;YAC1B,IAAG,mBAAmB,CAAC,IAAI,CAAC,UAAA,OAAO,IAAE,OAAA,OAAO,KAAK,GAAG,GAAA,CAAC,EAAC;gBAClD,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;aAC5B;SACJ,CAAC,CAAC;QACH,OAAO,MAAM,CAAC;IAClB;;;;;;;;;;ICnEO,IAAM,iBAAiB,GAAG,CAAC,CAAC;IAC5B,IAAM,qBAAqB,GAAG,CAAC,CAAC;IAEvC;IACO,IAAM,yBAAyB,GAAG,MAAM,CAAC;IACzC,IAAM,2BAA2B,GAAG,OAAO,CAAC;IAEnD;IACO,IAAM,mBAAmB,GAAG,OAAO,CAAC;IACpC,IAAM,yBAAyB,GAAG,CAAC;;ICA1C;QAAA;;;;YAqBY,kBAAa,GAAU,qBAAqB,CAAC;;;;;YAM7C,cAAS,GAAU,iBAAiB,CAAC;;;;YAKrC,6BAAwB,GAAG,KAAK,CAAC;SAmD5C;QA7CG,sBAAW,oDAAuB;;;;;iBAAlC;gBACI,OAAO,IAAI,CAAC,wBAAwB,CAAC;aACxC;;;;;iBAMD,UAAmC,KAAc;gBAC7C,IAAI,CAAC,wBAAwB,GAAG,KAAK,CAAC;aACzC;;;WARA;QAcD,sBAAW,qCAAQ;;;;;iBAAnB;gBACI,OAAO,IAAI,CAAC,SAAS,CAAC;aACzB;;;;;iBAMD,UAAoB,KAAa;gBAC7B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aAC1B;;;WARA;QAcD,sBAAW,yCAAY;;;;;iBAAvB;gBACI,OAAO,IAAI,CAAC,aAAa,CAAC;aAC7B;;;;;iBAMD,UAAwB,KAAa;gBACjC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC9B;;;WARA;;;;QAnEM,kCAAkB,GAAG;YACxB,IAAI,EAAC,yBAAyB;YAC9B,MAAM,EAAE,2BAA2B;YACnC,WAAW,EAAC,oBAAoB;SACnC,CAAA;;;;QAMM,gCAAgB,GAAG,EAAC,MAAM,EAAC,mBAAmB;YACjD,WAAW,EAAC,yBAAyB,EAAC,CAAC;QAmE/C,sBAAC;KAnFD;;;QCF4BF,4BAAa;QAcrC,gBAAY,MAAgB,EAAE,KAAwB,EAAE,IAAY;YAApE,YACI,kBAAM,IAAI,CAAC,SAGd;YAFG,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,eAAe,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;;SAC5E;QAEM,4BAAW,GAAlB,UAAmB,MAAe,EAAE,UAAuB,EAAE,QAAgB;YAAhB,yBAAA,EAAA,gBAAgB;YACzE,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACxB,IAAG,QAAQ,EAAC;gBACR,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC;gBACpC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;aACzB;iBAAK;gBACF,IAAI,CAAC,iBAAiB,GAAG,UAAU,CAAC;gBACpC,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;aACzB;SACJ;QAMD,sBAAW,0BAAM;;;;;iBAAjB;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC;aACvB;;;;;iBAMD,UAAkB,KAAgB;gBAC9B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACxB;;;WARA;QAcD,sBAAW,yBAAK;;;;;iBAAhB;gBACI,OAAO,IAAI,CAAC,MAAM,CAAC;aACtB;;;;;iBAMD,UAAiB,KAAyB;gBACtC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;aACvB;;;WARA;QAcD,sBAAW,0BAAM;;;;;iBAAjB;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC;aACvB;;;;;iBAMD,UAAkB,KAAe;gBAC7B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACxB;;;WARA;QAcD,sBAAW,0BAAM;;;;;iBAAjB;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC;aACvB;;;;;iBAMD,UAAkB,KAAe;gBAC7B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACxB;;;WARA;QAcD,sBAAW,oCAAgB;;;;;iBAA3B;gBACI,OAAO,IAAI,CAAC,iBAAiB,CAAC;aACjC;;;;;iBAMD,UAA4B,KAAmB;gBAC3C,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;aAClC;;;WARA;QAcD,sBAAW,oCAAgB;;;;;iBAA3B;gBACI,OAAO,IAAI,CAAC,iBAAiB,CAAC;aACjC;;;;;iBAMD,UAA4B,KAAmB;gBAC3C,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;aAClC;;;WARA;QASL,aAAC;IAAD,CA9HA,CAA4B,aAAa;;ICLzC;;;;;;;;;;;;;;QAsBI,sBAAY,QAAe,EAAE,QAAe,EAAE,OAAe,EAAE,OAAe;YAR9E,aAAQ,GAAC,CAAC,CAAC;YAEX,aAAQ,GAAC,CAAC,CAAC;YAEX,YAAO,GAAC,CAAC,CAAC;YAEV,YAAO,GAAC,CAAC,CAAC;YAGK;gBACP,IAAG,QAAQ,GAAC,CAAC,IAAE,QAAQ,GAAC,CAAC,EAAC;oBACtB,OAAO,CAAC,KAAK,CAAC,0DAAwD,QAAQ,MAAG,CAAC,CAAC;iBACtF;gBACD,IAAG,QAAQ,GAAC,CAAC,IAAE,QAAQ,GAAC,CAAC,EAAC;oBACtB,OAAO,CAAC,KAAK,CAAC,0DAAwD,QAAQ,MAAG,CAAC,CAAC;iBACtF;aACJ;YACD,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,CAAC,CAAC;YAC5B,IAAI,CAAC,OAAO,GAAG,OAAO,IAAI,CAAC,CAAC;SAC/B;QAEM,8BAAiB,GAAxB,UAAyB,SAAqB;YAC1C,QAAO,SAAS;gBAChB,KAAKE,mBAAW,CAAC,IAAI;oBACjB,OAAO,IAAI,YAAY,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;gBACpC,KAAKA,mBAAW,CAAC,GAAG;oBAChB,OAAO,IAAI,YAAY,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBACpC,KAAKA,mBAAW,CAAC,KAAK;oBAClB,OAAO,IAAI,YAAY,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;gBACpC,KAAKA,mBAAW,CAAC,MAAM;oBACnB,OAAO,IAAI,YAAY,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;aACnC;SACJ;QACL,mBAAC;IAAD,CAAC;;QCjDY,0BAA0B,GAAG,EAAC,kBAAkB,EAAE;YAC3D,IAAI,YAAY,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YAC9B,IAAI,YAAY,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;YAC9B,IAAI,YAAY,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YAC9B,IAAI,YAAY,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;SACjC;;;QCE6BF,8BAAa;QAoBvC,kBAAY,MAAkB,EAAE,KAA0B,EAAE,IAAO,EAAE,MAAc,EAAE,IAAY;YAArC,qBAAA,EAAA,SAAO;YAAnE,YACI,kBAAM,IAAI,CAAC,SAOd;YAtBO,kBAAY,GAAkB,0BAA0B,CAAC,kBAAkB,CAAC;YAE5E,YAAM,GAAY,EAAE,CAAC;YAErB,WAAK,GAAG,EAAE,CAAC;YAQX,qBAAe,GAAe,EAAE,CAAC;YAIrC,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,eAAe,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;YAC3E,KAAI,CAAC,OAAO,GAAG,MAAM,CAAC;YACtB,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAG,MAAM,EAAC;gBACN,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;aACxB;;SACJ;;;;;QAMM,6BAAU,GAAjB,UAAkB,IAAI;YAClB,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;YAC1B,IAAM,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAClC,IAAG,KAAK,KAAK,CAAC,CAAC,EAAC;gBACD;oBACP,OAAO,CAAC,KAAK,CAAC,oCAAoC,CAAC,CAAC;iBACvD;gBACD,OAAO,KAAK,CAAC;aAChB;YAED,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAC1B;QAMD,sBAAW,0BAAI;;;;;iBAAf;gBACI,OAAO,IAAI,CAAC,KAAK,CAAC;aACrB;;;;;iBAMD,UAAgB,KAAa;gBACzB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;aACtB;;;WARA;QAcD,sBAAW,4BAAM;;;;;iBAAjB;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC;aACvB;;;;;iBAMD,UAAkB,KAAkB;gBAChC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACxB;;;WARA;QAcD,sBAAW,2BAAK;;;;;iBAAhB;gBACI,OAAO,IAAI,CAAC,MAAM,CAAC;aACtB;;;;;iBAOD,UAAiB,KAA2B;gBACxC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;aACvB;;;WATA;QAoBD,sBAAW,2BAAK;;;;;;;;;iBAAhB;gBACI,OAAO,IAAI,CAAC,MAAM,CAAC;aACtB;;;;;iBAMD,UAAiB,KAAe;gBAC5B,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;aACvB;;;WARA;QAcD,sBAAW,iCAAW;;;;;iBAAtB;gBACI,OAAO,IAAI,CAAC,YAAY,CAAC;aAC5B;;;;;iBAMD,UAAuB,KAAqB;gBACxC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;aAC7B;;;WARA;QAcD,sBAAW,oCAAc;;;;;iBAAzB;gBACI,OAAO,IAAI,CAAC,eAAe,CAAC;aAC/B;;;;;iBAMD,UAA0B,KAAiB;gBACvC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;aAChC;;;WARA;QAcD,sBAAW,kCAAY;;;;;iBAAvB;gBACI,OAAO,IAAI,CAAC,aAAa,CAAC;aAC7B;;;;;iBAMD,UAAwB,KAAe;gBACnC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC9B;;;WARA;QAcD,sBAAW,4BAAM;;;;;iBAAjB;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC;aACvB;;;;;iBAMD,UAAkB,KAAa;gBAC3B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;aACxB;;;WARA;QAeD,sBAAW,qCAAe;;;;;iBAA1B;gBACI,OAAO,IAAI,CAAC,gBAAgB,CAAC;aAChC;;;;;iBAMD,UAA2B,KAAkB;gBACzC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;aACjC;;;WARA;QAUL,eAAC;IAAD,CAtMA,CAA8B,aAAa;;;QCA3C;YAEY,aAAQ,GAA8B,IAAI,GAAG,EAAE,CAAC;YAEjD,UAAK,GAAmB,EAAE,CAAC;SAsOrC;QApOG,0BAAQ,GAAR,UAAS,IAAkB;YACvB,OAAO,IAAI,YAAY,QAAQ,CAAC;SACnC;QAED,wBAAM,GAAN,UAAO,IAAkB;YACrB,OAAO,IAAI,YAAY,MAAM,CAAC;SACjC;QAED,2BAAS,GAAT,UAAU,IAAa;YACnB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YACjC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACzB;QAED,8BAAY,GAAZ,UAAa,IAAa;YACtB,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACrC,IAAG,GAAG,KAAG,CAAC,CAAC;gBAAE,OAAO,KAAK,CAAC;YAC1B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAC9B,OAAO,IAAI,CAAC;SACf;;;;;QAMD,yBAAO,GAAP,UAAQ,IAAW;YACf,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YACjC,IAAG,IAAI,CAAC,MAAM,EAAC;gBACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAChC;YACD,IAAG,IAAI,CAAC,MAAM,EAAC;gBACX,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAChC;YACD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACzB;;;;;;QAOD,4BAAU,GAAV,UAAW,IAAW;YAClB,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACrC,IAAG,GAAG,KAAG,CAAC,CAAC;gBAAE,OAAO,KAAK,CAAC;YAC1B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAE9B,IAAG,IAAI,CAAC,MAAM,EAAC;gBACX,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAClC;YACD,IAAG,IAAI,CAAC,MAAM,EAAC;gBACX,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAClC;YACD,OAAO,IAAI,CAAC;SACf;;;;;;;;QASD,sCAAoB,GAApB,UAAqB,IAAW,EAAE,QAAiB,EAAE,UAAuB,EAAE,QAAgB;YAAhB,yBAAA,EAAA,gBAAgB;YAC1F,IAAG,QAAQ,EAAC;gBACR,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;gBACvB,IAAI,CAAC,gBAAgB,GAAG,UAAU,CAAC;aACtC;iBAAK;gBACF,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;gBACvB,IAAI,CAAC,gBAAgB,GAAG,UAAU,CAAC;aACtC;YACD,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC7B;;;;;;;QAQD,6BAAW,GAAX,UAAY,IAAkB,EAAE,cAAc;YAC1C,IAAG,cAAc,GAAC,CAAC;gBAAE,cAAc,GAAG,CAAC,CAAC;YACxC,IAAG,cAAc,GAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAC,CAAC;gBAAE,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAC,CAAC,CAAC;YAC5E,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAC9C,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;YACvC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,IAAI,CAAC;YAClC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC;SAClC;;;;;;QAOD,8BAAY,GAAZ,UAAa,MAAe,EAAE,MAAkB;YAC5C,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC;SAC1B;;;;;QAMD,gCAAc,GAAd;YACI,IAAM,KAAK,GAAG,EAAE,CAAC;YACjB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,IAAI;gBACtB,IAAG,IAAI,YAAY,QAAQ,IAAI,IAAI,CAAC,MAAM,EAAC;oBACvC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACpB;aACJ,CAAC,CAAC;YACH,OAAO,KAAK,CAAC;SAChB;;;;;;;;;QAUD,yBAAO,GAAP,UAAQ,IAAW,EAAE,MAAe,EAAE,cAAuC,EAAE,MAAe,EAAE,cAAuC;YACnI,IAAG,MAAM,EAAC;gBACN,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACrB,IAAG,cAAc,YAAY,YAAY,EAAC;oBACtC,IAAI,CAAC,gBAAgB,GAAG,cAAc,CAAC;iBAC1C;qBAAI;oBACD,IAAI,CAAC,gBAAgB,GAAG,YAAY,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC;iBAC1E;gBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAChC;YACD,IAAG,MAAM,EAAC;gBACN,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;gBACrB,IAAG,cAAc,YAAY,YAAY,EAAC;oBACtC,IAAI,CAAC,gBAAgB,GAAG,cAAc,CAAC;iBAC1C;qBAAK;oBACF,IAAI,CAAC,gBAAgB,GAAG,YAAY,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC;iBAC1E;gBACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAChC;SACJ;;;;;;;;QAUD,gCAAc,GAAd,UAAe,MAAe,EAAE,KAAc,EAAE,SAA8B,EAAE,WAAmB;YAAnD,0BAAA,EAAA,YAAYE,mBAAW,CAAC,MAAM;YAC1E,KAAK,CAAC,YAAY,GAAG,MAAM,CAAC;YAC5B,KAAK,CAAC,eAAe,GAAG,SAAS,CAAC;YAClC,IAAG,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,KAAG,CAAC,CAAC,EAAC;gBACzC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACrC;YACD,IAAG,WAAW,EAAC;gBACX,QAAO,SAAS;oBAChB,KAAKA,mBAAW,CAAC,MAAM;wBACnB,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,MAAM,EAAEA,mBAAW,CAAC,MAAM,EAAE,KAAK,EAAEA,mBAAW,CAAC,GAAG,CAAC,CAAC;wBAC9E,MAAM;oBAEV,KAAKA,mBAAW,CAAC,IAAI;wBACjB,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,MAAM,EAAEA,mBAAW,CAAC,IAAI,EAAE,KAAK,EAAEA,mBAAW,CAAC,KAAK,CAAC,CAAC;wBAC9E,MAAM;oBAEV,KAAKA,mBAAW,CAAC,GAAG;wBAChB,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,MAAM,EAAEA,mBAAW,CAAC,GAAG,EAAE,KAAK,EAAEA,mBAAW,CAAC,MAAM,CAAC,CAAC;wBAC9E,MAAM;oBAEV,KAAKA,mBAAW,CAAC,KAAK;wBAClB,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,MAAM,EAAEA,mBAAW,CAAC,KAAK,EAAE,KAAK,EAAEA,mBAAW,CAAC,IAAI,CAAC,CAAC;wBAC9E,MAAM;iBACT;aACJ;SAEJ;;;;;;;QASD,kCAAgB,GAAhB,UAAiB,IAAW,EAAE,UAAqC,EAAE,QAAgB;YAAhB,yBAAA,EAAA,gBAAgB;YACjF,IAAG,QAAQ,EAAC;gBACR,IAAG,IAAI,CAAC,MAAM,EAAC;oBACX,IAAG,UAAU,YAAY,YAAY,EAAC;wBAClC,IAAI,CAAC,gBAAgB,GAAG,UAAU,CAAC;wBACnC,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;qBAC3D;yBAAK;wBACF,IAAI,CAAC,gBAAgB,GAAG,YAAY,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;wBACnE,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;qBAC3D;iBACJ;qBAAI;oBACU;wBACP,OAAO,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;qBAC1C;iBACJ;aACJ;iBAAK;gBACF,IAAG,IAAI,CAAC,MAAM,EAAC;oBACX,IAAG,UAAU,YAAY,YAAY,EAAC;wBAClC,IAAI,CAAC,gBAAgB,GAAG,UAAU,CAAC;wBACnC,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;qBAC3D;yBAAK;wBACF,IAAI,CAAC,gBAAgB,GAAG,YAAY,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;wBACnE,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;qBAC3D;iBACJ;qBAAK;oBACS;wBACP,OAAO,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;qBAC1C;iBACJ;aACJ;SACJ;QAED,uCAAqB,GAArB,UAAsB,IAAW,EAAE,QAAiB,EAAE,QAAc;YAAd,yBAAA,EAAA,gBAAc;YAChE,IAAM,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;YAC/B,IAAG,QAAQ,EAAC;gBACR,IAAM,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBACzC,IAAM,KAAK,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,GAAG,UAAU,CAAC,QAAQ,GAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,GAAG,UAAU,CAAC,QAAQ,GAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC/J,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;aAC1B;iBAAK;gBACF,IAAM,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBACzC,IAAM,KAAK,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,GAAG,UAAU,CAAC,QAAQ,GAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,GAAG,UAAU,CAAC,QAAQ,GAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBAC/J,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAC,CAAC,CAAC,GAAG,KAAK,CAAC;aAC7C;SACJ;QACL,cAAC;IAAD,CAAC;;;QC9OG,iBAAY,CAAQ,EAAE,CAAQ;YAC1B,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;SACd;QAED,2BAAS,GAAT,UAAU,KAAa;YACnB,IAAI,CAAC,CAAC,IAAG,KAAK,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,CAAC,IAAG,KAAK,CAAC,CAAC,CAAC;YACjB,OAAO,IAAI,CAAC;SACf;QAED,uBAAK,GAAL;YACI,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;SACtC;QACL,cAAC;IAAD,CAAC;;;QCRG,qBAAY,CAAQ,EAAE,CAAQ,EAAE,KAAY,EAAE,MAAa;YACvD,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;YACX,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;SACxB;;;;QAKD,4BAAM,GAAN;YACI,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,KAAK,GAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;SACjE;QAED,2BAAK,GAAL;YACI,OAAO,IAAI,WAAW,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;SACnE;QAED,2BAAK,GAAL;YACI,OAAO;gBACH,CAAC,EAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAC,IAAI,CAAC,CAAC,EAAE,KAAK,EAAC,IAAI,CAAC,KAAK,EAAE,MAAM,EAAC,IAAI,CAAC,MAAM;aAC3D,CAAC;SACL;QAED,0BAAI,GAAJ,UAAK,SAAgB;YACjB,IAAI,CAAC,CAAC,IAAE,SAAS,GAAC,CAAC,CAAC;YACpB,IAAI,CAAC,CAAC,IAAE,SAAS,GAAC,CAAC,CAAC;YACpB,IAAI,CAAC,KAAK,IAAE,SAAS,CAAC;YACtB,IAAI,CAAC,MAAM,IAAE,SAAS,CAAC;YACvB,OAAO,IAAI,CAAC;SACf;QAED,yBAAG,GAAH,UAAI,IAAgB;YAChB,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;YACtC,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC5D,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;YACtC,IAAM,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC9D,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;YACd,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;YACd,IAAI,CAAC,KAAK,GAAG,IAAI,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,IAAI,CAAC;YAC1B,OAAO,IAAI,CAAC;SACf;QAEM,iBAAK,GAAZ,UAAa,EAEJ,EAAE,KAAY;gBAD3B,CAAC,OAAA,EAAE,CAAC,OAAA,EAAE,KAAK,WAAA,EAAE,MAAM,YAAA;YAEA;gBACP,IAAG,KAAK,IAAI,CAAC,EAAC;oBACV,OAAO,CAAC,KAAK,CAAC,kDAAkD,EAAE,KAAK,CAAC,CAAC;iBAC5E;aACJ;YACD,IAAM,CAAC,GAAG,KAAK,GAAG,KAAK,CAAC;YACxB,IAAM,CAAC,GAAG,MAAM,GAAG,KAAK,CAAC;YACzB,OAAO,IAAI,WAAW,CAAC,CAAC,GAAC,KAAK,IAAE,CAAC,GAAC,KAAK,CAAC,EAAE,CAAC,GAAC,MAAM,IAAE,CAAC,GAAC,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;SACvE;QAEM,qBAAS,GAAhB,UAAiB,EAER,EAAE,QAAgB;gBAD/B,CAAC,OAAA,EAAE,CAAC,OAAA,EAAE,KAAK,WAAA,EAAE,MAAM,YAAA;YAEX,OAAO,IAAI,WAAW,CAAC,CAAC,GAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,GAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;SACrE;QACL,kBAAC;IAAD,CAAC;;IC1DD;;;;;;aAMgB,SAAS,CAAC,UAAkB,EAAE,QAAgB;QAC1D,OAAO,EAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC;YAChC,CAAC,EAAE,QAAQ,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,EAAC,CAAC;IACtC,CAAC;IAED;;;;aAIgB,eAAe,CAAC,MAAa;QACzC,OAAO,IAAI,CAAC,IAAI,CAAC,SAAA,MAAM,CAAC,CAAC,EAAI,CAAC,CAAA,GAAG,SAAA,MAAM,CAAC,CAAC,EAAI,CAAC,CAAA,CAAC,CAAC;IACpD,CAAC;IAED;;;;;;aAMgB,oBAAoB,CAAC,MAAa,EAAE,MAAa;QAC7D,OAAO,EAAC,CAAC,EAAC,MAAM,CAAC,CAAC,GAAG,MAAM;YACvB,CAAC,EAAC,MAAM,CAAC,CAAC,GAAG,MAAM,EAAC,CAAC;IAC7B,CAAC;IAED;;;;aAIgB,aAAa,CAAC,MAAa;QACvC,IAAM,IAAI,GAAG,eAAe,CAAC,MAAM,CAAC,CAAC;QACrC,OAAO,oBAAoB,CAAC,MAAM,EAAE,CAAC,GAAC,IAAI,CAAC,CAAC;IAChD,CAAC;IAED;;;;;aAKgB,iBAAiB,CAAC,MAAa,EAAE,UAAkB;QAC/D,OAAO,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,GAAC,UAAU,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,GAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IACrE,CAAC;IAED;;;;aAIgB,wBAAwB,CAAC,MAAgB;QACrD,IAAM,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;QAC9B,IAAM,EAAE,GAAG,MAAM,CAAC,GAAG,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;QACxB,IAAA,KAA2B,CAAC,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,EAAE,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,EAAE,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,EAAE,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,EAAE,EAAE,EAA9F,IAAI,QAAA,EAAE,IAAI,QAAA,EAAE,IAAI,QAAA,EAAE,IAAI,QAAwE,CAAC;QACtG,OAAO,IAAI,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,GAAC,IAAI,EAAE,IAAI,GAAC,IAAI,CAAC,CAAC;IAC7D,CAAC;IAED;;;;;;aAMgB,aAAa,CAAE,OAAe,EAAE,OAAe;QAC3D,OAAO,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;IACzD,CAAC;IAGD;;;;;;aAMgB,2BAA2B,CAAC,OAAe,EAAE,OAAe;QACxE,IAAM,UAAU,GAAG,aAAa,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACnD,IAAM,KAAK,GAAG,eAAe,CAAC,OAAO,CAAC,CAAC;QACvC,IAAM,KAAK,GAAG,eAAe,CAAC,OAAO,CAAC,CAAC;QACvC,IAAM,QAAQ,GAAG,UAAU,IAAI,KAAK,GAAG,KAAK,CAAC,CAAC;QAC9C,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACnC,OAAO,CAAC,MAAM,GAAG,GAAG,IAAI,IAAI,CAAC,EAAE,CAAC;IACpC,CAAC;IAED;;;;;aAKgB,mBAAmB,CAAC,OAAe,EAAE,OAAe;QAChE,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,IAAI,eAAe,CAAC,OAAO,CAAC,CAAC;IACtF,CAAC;IAED;;;;;aAKgB,YAAY,CAAC,IAAgB,EAAE,QAAY;QAAZ,yBAAA,EAAA,YAAY;QACvD,IAAM,MAAM,GAAG;YACX,QAAQ,EAAC,eAAe,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;YAC9E,SAAS,EAAC,eAAe,CAAE,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;YAC3F,WAAW,EAAC,eAAe,CAAE,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;YAC9F,YAAY,EAAC,eAAe,CAAE,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,GAAC,IAAI,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC;SAC7G,CAAC;QAEF,OAAO,MAAM,CAAC;IAClB,CAAC;IAED;;;;;;aAMgB,iBAAiB,CAAC,UAAsB,EAAE,KAAc;QACpE,IAAM,QAAQ,GAAG,UAAC,EAAW,EAAE,EAAW,EAAE,CAAU;YAClD,OAAO,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;SACtE,CAAC;QACF,QACE,QAAQ,CAAC,UAAU,CAAC,WAAW,EAAE,UAAU,CAAC,QAAQ,EAAE,KAAK,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,SAAS,EAAE,UAAU,CAAC,YAAY,EAAE,KAAK,CAAC,IAAI,CAAC;YAClI,QAAQ,CAAC,UAAU,CAAC,QAAQ,EAAE,UAAU,CAAC,SAAS,EAAE,KAAK,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,YAAY,EAAE,UAAU,CAAC,WAAW,EAAE,KAAK,CAAC,IAAI,CAAC,EAClI;IACN,CAAC;aAEe,eAAe,CAAC,aAAsB,EAAE,QAAe,EAAE,iBAAyB;QAC9F,IAAM,CAAC,GAAG,aAAa,CAAC,CAAC,GAAG,iBAAiB,CAAC,CAAC,CAAC;QAChD,IAAM,CAAC,GAAG,aAAa,CAAC,CAAC,GAAG,iBAAiB,CAAC,CAAC,CAAC;QAChD,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC1C,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC1C,IAAM,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;QAC7B,IAAM,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;QAC7B,OAAO,IAAI,OAAO,CAAC,iBAAiB,CAAC,CAAC,GAAG,EAAE,EAAE,iBAAiB,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;IAC3E,CAAC;aAEe,SAAS,CAAC,GAAG;QACzB,OAAO,CAAC,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,GAAG,CAAC;IACjC,CAAC;aAGe,cAAc,CAAC,MAAc,EAAE,MAAc;QACzD,OAAO,IAAI,OAAO,CAAC,CAAC,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,CAAC,IAAE,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC;IACrE;;;;;;;;;;;;;;;;;;;;ICvJA;QASI,yBAAY,OAAiB,EAAE,OAAuB;YARtD,WAAM,GAAG,IAAI,CAAC;YAEd,aAAQ,GAAG,KAAK,CAAC;YAOb,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;SAC1B;QAED,qCAAW,GAAX,UAAY,QAAgB;YACxB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;SAC5B;;;;;;;QAeD,qCAAW,GAAX;YACI,OAAO,IAAI,CAAC;SACf;QAED,sCAAY,GAAZ,eAAgB;QAqHpB,sBAAC;IAAD,CAAC;;IC5JD;QAOI,gCAAY,OAAiB;YAJrB,YAAO,GAAG,IAAI,GAAG,EAA2B,CAAC;YAE7C,kBAAa,GAAmB,EAAE,CAAC;YAGvC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;SAC1B;;;;;;;QAQD,oCAAG,GAAH,UAAI,UAAiB,EAAE,MAAsB,EAAE,QAAgB;YAAhB,yBAAA,EAAA,gBAAgB;YAC3D,IAAG,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,EAAC;gBAC7B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;gBACrC,IAAG,QAAQ,EAAC;oBACR,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;iBACzB;aACJ;iBAAK;gBACS;oBACP,OAAO,CAAC,KAAK,CAAC,uCAAqC,UAAU,wBAAqB,CAAC,CAAC;iBACvF;aACJ;SACJ;;;;;;QAOD,uCAAM,GAAN,UAAO,UAAiB,EAAE,QAAe;YAAf,yBAAA,EAAA,eAAe;YACrC,IAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,EAAC;gBAC5B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBAChC,IAAG,QAAQ,EAAC;oBACR,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;iBACzB;aACJ;iBAAK;gBACS;oBACP,OAAO,CAAC,KAAK,CAAC,0CAAwC,UAAU,kBAAe,CAAC,CAAC;iBACpF;aACJ;SACJ;;;;;;QAOD,oCAAG,GAAH,UAAI,UAAiB;YACjB,IAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,EAAC;gBAC5B,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;aACvC;SACJ;;;;;;QAOD,yCAAQ,GAAR,UAAS,QAAe;YAAE,kBAAW;iBAAX,UAAW,EAAX,qBAAW,EAAX,IAAW;gBAAX,iCAAW;;YACjC,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YACxD,OAAO,CAAC,OAAO,CAAC,UAAA,MAAM;gBAClB,IAAG,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAC;oBACxC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;oBACrB,IAAM,SAAS,GAAG,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAG,QAAQ,CAAC,CAAC;oBACrC,IAAG,CAAC,SAAS;wBAAE,OAAO;oBACtB,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;iBACrC;qBAAK,IAAG,MAAM,CAAC,MAAM,EAAE;oBACpB,MAAM,CAAC,MAAM,GAAG,KAAK,CAAC;oBACtB,MAAM,aAAN,MAAM,uBAAN,MAAM,CAAE,YAAY,EAAE,CAAC;iBAC1B;aACJ,CAAC,CAAC;SAEN;QAED,2CAAU,GAAV;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB;QAED,2CAAU,GAAV;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;SAC7B;QACL,6BAAC;IAAD,CAAC;;aC1Fe,qBAAqB,CAAC,YAAmB;QACrD,OAAO,YAAY,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,WAAW,EAAE,GAAA,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC7E,CAAC;aAuBe,KAAK;QACjB,IAAM,CAAC,GAAG,SAAS,CAAC,UAAU,CAAC;QAC/B,IAAG,CAAC,CAAC;YAAE,OAAO,KAAK,CAAC;QACpB,OAAO,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;IACnC;;QC1Ba,cAAc,GAAG,6BAA6B;QAC9C,eAAe,GAAG,+BAA+B;;QAW1D,mBAAY,EAAmB,EAAE,KAAsB;YAAtB,sBAAA,EAAA,sBAAsB;YAJvD,iBAAY,GAAG,KAAK,CAAC;YAErB,aAAQ,GAAY,EAAE,CAAC;YAGnB,IAAG,EAAE,YAAY,OAAO,EAAC;gBACrB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;aAChB;iBAAK;gBACF,IAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,eAAe,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;aACjD;SACJ;QAED,6BAAS,GAAT,UAAU,YAAoB,EAAE,MAAmB;YAC/C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,OAAO,IAAI,CAAC;SACf;QAED,0BAAM,GAAN,UAAO,CAAQ,EAAE,CAAQ;YACrB,IAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACrC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAI,EAAE,CAAC,CAAC,SAAI,EAAE,CAAC,CAAG,CAAC,CAAC;YACvC,OAAO,IAAI,CAAC;SACf;QAED,0BAAM,GAAN,UAAO,CAAQ,EAAE,CAAQ;YACrB,IAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACrC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAI,EAAE,CAAC,CAAC,SAAI,EAAE,CAAC,CAAG,CAAC,CAAC;YACvC,OAAO,IAAI,CAAC;SACf;QAED,2BAAO,GAAP,UAAQ,GAAU,EAAE,GAAU,EAAE,GAAU,EAAE,GAAU,EAAE,CAAQ,EAAE,CAAQ;YACtE,IAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACzC,IAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACzC,IAAM,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACpC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAI,EAAE,CAAC,CAAC,SAAI,EAAE,CAAC,CAAC,SAAI,EAAE,CAAC,CAAC,SAAI,EAAE,CAAC,CAAC,SAAI,CAAC,CAAC,CAAC,SAAI,CAAC,CAAC,CAAG,CAAC,CAAC;YACrE,OAAO,IAAI,CAAC;SACf;QAED,yBAAK,GAAL,UAAM,EAAS,EAAE,EAAS,EAAE,QAAe,EAAE,YAAgB,EAAE,SAAa,EAAE,CAAQ,EAAE,CAAQ;YAC5F,IAAM,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACrC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAI,EAAE,SAAI,EAAE,SAAI,QAAQ,SAAI,YAAY,SAAI,SAAS,SAAI,EAAE,CAAC,CAAC,SAAI,EAAE,CAAC,CAAG,CAAC,CAAC;YAC5F,OAAO,IAAI,CAAC;SACf;QAEO,kCAAc,GAAtB,UAAuB,CAAQ,EAAE,CAAQ;YACrC,OAAO,EAAC,CAAC,EAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,IAAG,CAAC,EAAE,CAAC,EAAC,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,IAAG,CAAC,EAAC,CAAC;SAChJ;QAED,6BAAS,GAAT;YACI,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,EAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAC,GAAG,EAAC,CAAC,CAAC;YAC3C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACnB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,OAAO,IAAI,CAAC;SACf;QAID,gCAAY,GAAZ,UAAa,KAAe;YACxB,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YAC1B,OAAO,IAAI,CAAC;SACf;QAED,+BAAW,GAAX,UAAY,KAAe;YACvB,IAAI,CAAC,EAAE,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YAC9B,OAAO,IAAI,CAAC;SACf;QAED,kCAAc,GAAd,UAAe,QAAoB;YAAnC,iBAGC;YAFG,QAAQ,CAAC,GAAG,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,EAAE,GAAA,CAAC,CAAC,OAAO,CAAC,UAAA,EAAE,IAAE,OAAA,KAAI,CAAC,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,GAAA,CAAC,CAAC;YAC3D,OAAO,IAAI,CAAC;SACf;;;;QAKD,iCAAa,GAAb;YACI,IAAM,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;YACjD,OAAO,QAAQ,CAAC,GAAG,CAAC,UAAA,EAAE,IAAE,OAAA,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,GAAA,CAAC,CAAC;SAC7C;QAED,wBAAI,GAAJ,UAAK,IAAiC,EAAE,YAAiB;YAAzD,iBAUC;YAVuC,6BAAA,EAAA,mBAAiB;YACrD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG;gBACzB,IAAG,YAAY,EAAC;oBACZ,IAAM,QAAQ,GAAG,qBAAqB,CAAC,GAAG,CAAC,CAAC;oBAC5C,KAAI,CAAC,EAAE,CAAC,YAAY,CAAC,QAAQ,EAAE,EAAE,GAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;iBAChD;qBAAK;oBACF,KAAI,CAAC,EAAE,CAAC,YAAY,CAAC,GAAG,EAAE,EAAE,GAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;iBAC3C;aACJ,CAAC,CAAC;YACH,OAAO,IAAI,CAAC;SACf;QAED,2BAAO,GAAP,UAAQ,GAAU;YACd,OAAO,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;SACpC;QAED,2BAAO,GAAP,UAAQ,GAAU;YACd,OAAO,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;SACpC;QAED,8BAAU,GAAV,UAAW,IAAW;YAClB,IAAM,QAAQ,GAAG,qBAAqB,CAAC,IAAI,CAAC,CAAC;YAC7C,IAAI,CAAC,EAAE,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;YAClC,OAAO,IAAI,CAAC;SACf;QAED,yBAAK,GAAL,UAAM,IAAiC;YACnC,IAAM,EAAE,GAAG,IAAI,CAAC,EAAiB,CAAC;YAClC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAA,GAAG;gBACzB,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;aAC7B,CAAC,CAAC;YACH,OAAO,IAAI,CAAC;SACf;QAED,wBAAI,GAAJ,UAAK,MAAgB;YACjB,IAAI,CAAC,GAAG,EAAE,CAAC;YACX,MAAM,CAAC,OAAO,CAAC,UAAC,KAAK,EAAE,KAAK;gBACxB,IAAG,KAAK,KAAK,CAAC,EAAC;oBACX,CAAC,IAAE,OAAK,KAAK,CAAC,CAAC,SAAI,KAAK,CAAC,CAAG,CAAC;iBAChC;qBAAM;oBACH,CAAC,IAAE,QAAM,KAAK,CAAC,CAAC,SAAI,KAAK,CAAC,CAAG,CAAC;iBACjC;aACJ,CAAC,CAAC;YACH,IAAI,CAAC,IAAI,CAAC,EAAC,CAAC,GAAA,EAAC,CAAC,CAAC;YACf,OAAO,IAAI,CAAC;SACf;;;;;;QAOD,6BAAS,GAAT;YACI,OAAO,IAAI,CAAC,IAAI,CAAC,EAAC,OAAO,EAAC,CAAC,EAAC,CAAC,CAAC;SACjC;;;;;QAMD,yBAAK,GAAL;YACI,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,EAAE,CAAC;YACvB,OAAO,IAAI,CAAC;SACf;QAED,yBAAK,GAAL;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,CAAC,IAAI,CAAY,CAAC,CAAC;SAC3D;;;;;;;QASD,mCAAe,GAAf,UAAgB,QAAe;YAC3B,IAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;YACnB,IAAI,MAAM,GAAG,EAAE,CAAC,aAAa,CAAC;YAC9B,OAAM,MAAM,EAAC;gBACT,IAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAC;oBACxB,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;iBAC/B;gBACD,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC;aACjC;SAEJ;;;;;;;QASD,kCAAc,GAAd,UAAe,QAAe;YAC1B,IAAM,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;YACnB,IAAI,MAAM,GAAG,EAAE,CAAC,aAAa,CAAC;YAC9B,IAAI,MAAc,CAAC;YACnB,OAAM,MAAM,EAAC;gBACT,IAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAC;oBACxB,MAAM,GAAG,MAAM,CAAC;iBACnB;gBACD,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC;aACjC;YACD,IAAG,MAAM,EAAC;gBACN,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;aAC/B;SACJ;;;;;QAMD,sBAAE,GAAF,UAAG,QAAe;YACd,OAAO,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;SACpC;;;;QAKD,0BAAM,GAAN;YACI,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC;SACpB;;;;;;QAOD,wBAAI,GAAJ,UAAK,IAAW;YACZ,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC;YACzB,OAAO,IAAI,CAAC;SACf;;;;QAKD,qCAAiB,GAAjB;YACI,IAAM,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,iBAAiB,CAAC;YACpC,IAAG,CAAC,EAAC;gBACD,OAAO,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;aAC1B;SACJ;;;;;;QAOD,wBAAI,GAAJ,UAAK,GAAU;YACX,IAAM,EAAE,GAAG,IAAI,CAAC,EAAiB,CAAC;YAClC,OAAO,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SAC1B;;;;;QAMD,gCAAY,GAAZ,UAAa,EAAY;YACrB,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;YAChD,OAAO,IAAI,CAAC;SACf;QAEM,YAAE,GAAT,UAAU,GAAoB,EAAE,KAAsB;YAAtB,sBAAA,EAAA,sBAAsB;YAClD,OAAO,IAAI,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;SACpC;QAEM,cAAI,GAAX,UAAY,MAAgB;YACxB,OAAO,IAAI,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC7C;QACL,gBAAC;IAAD,CAAC;;;QClQD;YACI,SAAI,GAAG,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;SAgC5B;QA5BG,0BAAQ,GAAR,UAAS,KAAkB;YACvB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;SACtB;QAED,yBAAO,GAAP;YACI,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;SACtB;;;;QAKD,2BAAS,GAAT,eAAmB;QAgBvB,cAAC;IAAD,CAAC;;IC3BD,IAAY,eAOX;IAPD,WAAY,eAAe;QACvB,2DAAO,CAAA;QACP,yDAAM,CAAA;QACN,mEAAW,CAAA;QACX,+EAAiB,CAAA;QACjB,2EAAe,CAAA;QACf,mEAAW,CAAA;IACf,CAAC,EAPW,eAAe,KAAf,eAAe,QAO1B;IAED;QAWI,iBAAY,IAAkB;YAF9B,gBAAW,GAAmB,eAAe,CAAC,WAAW,CAAC;YAGtD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC;SAClB;QAEM,6BAAW,GAAlB,UAAmB,KAAY,EAAE,MAAgB,EAAE,SAAiB;YAChE,OAAO,MAAM,CAAC,GAAG,CAAC,UAAA,KAAK;gBACnB,OAAO,IAAI,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,GAAC,SAAS,CAAC,CAAC,IAAE,KAAK,EAAE,CAAC,KAAK,CAAC,CAAC,GAAC,SAAS,CAAC,CAAC,IAAE,KAAK,CAAC,CAAC;aAChF,CAAC,CAAC;SACN;QAED,sBAAW,+BAAU;iBAYrB;gBACI,OAAO,IAAI,CAAC,WAAW,CAAC;aAC3B;iBAdD,UAAsB,KAAqB;gBACvC,IAAG,CAAC,IAAI,CAAC,KAAK,EAAC;oBACX,KAAK,GAAG,eAAe,CAAC,WAAW,CAAC;iBACvC;gBACD,IAAG,KAAK,KAAI,eAAe,CAAC,OAAO,EAAC;oBAChC,IAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAW,CAAC,KAAI,CAAC,CAAC,EAAC;wBAChD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAW,CAAC,CAAC;qBAC3C;iBACJ;gBACD,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;aAC5B;;;WAAA;QAKL,cAAC;IAAD,CAAC,IAAA;IAED;QAAuCF,uCAAO;QAW1C,2BAAY,MAAe,EAAE,IAAkB;YAA/C,YACI,kBAAM,IAAI,CAAC,SAId;YAHG,KAAI,CAAC,IAAI,GAAG,MAAM,CAAC;YACnB,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACpC,KAAI,CAAC,KAAK,GAAE,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;;SAC/C;QAED,qCAAS,GAAT,UAAU,KAAa;YACnB,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;SAC3D;QAED,6CAAiB,GAAjB,UAAkB,KAAY,EAAE,SAAiB;YAC7C,IAAM,MAAM,GAAG,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC9C,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,YAAY,CAAC,EAAE,SAAS,CAAC,CAAC;YAChI,IAAI,CAAC,MAAM,GAAG,wBAAwB,CAAC,MAAM,CAAC,CAAC;SAClD;QAED,qCAAS,GAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;SACtB;QAED,iCAAK,GAAL;YACI,IAAM,KAAK,GAAG,IAAI,iBAAiB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1D,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;YACnB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YACnC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC5C,OAAO,KAAK,CAAC;SAChB;QACL,wBAAC;IAAD,CAvCA,CAAuC,OAAO,GAuC7C;IAED;QAAqCA,qCAAO;QASxC,yBAAY,IAAW,EAAE,IAAkB;YAA3C,YACI,kBAAM,IAAI,CAAC,SAId;YAHG,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,EAAE,IAAE,OAAA,EAAE,CAAC,KAAK,EAAE,GAAA,CAAC,CAAC;YAC9C,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;;SAC9C;QAED,mCAAS,GAAT,UAAU,SAAiB;YACvB,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,EAAE,IAAE,OAAA,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,GAAA,CAAC,CAAC;SAC5D;QAED,2CAAiB,GAAjB,UAAkB,KAAY,EAAE,SAAiB;YAC7C,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YAChC,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,IAAI,oBAAoB,IAAI,KAAK,CAAC;YAClF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;SAC5D;QAED,mCAAS,GAAT;YACI,OAAO,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAChD;QAED,mCAAS,GAAT;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;SACtB;QAED,+BAAK,GAAL;YACI,IAAM,KAAK,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YACxD,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;YACnB,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,EAAE,IAAE,OAAA,EAAE,CAAC,KAAK,EAAE,GAAA,CAAC,CAAC;YAC/C,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC5C,OAAO,KAAK,CAAC;SAChB;QACL,sBAAC;IAAD,CAzCA,CAAqC,OAAO;;;QClFTA,mCAAO;QAKtC,uBAAY,KAAuB;YAAnC,YACI,iBAAO,SAUV;YATc;gBACP,IAAG,EAAE,KAAK,YAAY,iBAAiB,CAAC,EAAC;oBACrC,OAAO,CAAC,KAAK,CAAC,uEAAqE,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAG,CAAC,CAAC;iBAC/H;aACJ;YACD,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,KAAI,CAAC,KAAK,GAAG,WAAW,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC3C,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,MAAM,EAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,EAAC,oBAAoB,EAAE,CAAC,CAAC;YACpE,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,KAAI,CAAC,KAAK,CAAC;;SACtC;QAED,4BAAI,GAAJ;YACI,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SAC9C;QAED,8BAAM,GAAN;YACI,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SAE9C;QAEO,uCAAe,GAAvB;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,IAAM,MAAM,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC,MAAM,EAAE,CAAC;YAC1C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,SAAS,EAAC,aAAU,KAAK,CAAC,KAAK,CAAC,QAAQ,IAAE,CAAC,UAAI,MAAM,CAAC,CAAC,SAAI,MAAM,CAAC,CAAC,MAAG,EAAC,CAAC,CAAC;SAC5F;QAED,mCAAW,GAAX,eAAqB;QAErB,sCAAc,GAAd,eAAwB;QAExB,qCAAa,GAAb,eAAuB;QAEvB,+BAAO,GAAP,eAAiB;QAEjB,kCAAU,GAAV,eAAqB;QAErB,mCAAW,GAAX,eAAsB;QAEtB,mCAAW,GAAX,eAAsB;QAEtB,iCAAS,GAAT,eAAoB;QACxB,oBAAC;IAAD,CAlDA,CAAmC,OAAO;;;QCdDA,yCAAa;QAAtD;;SA0CC;QArCG,kCAAI,GAAJ;YACI,iBAAM,IAAI,WAAE,CAAC;YAEb,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC;YAC9C,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,EAAE,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC;gBAC9E,KAAK,EAAC,MAAM,EAAE,MAAM,EAAC,MAAM,EAAE,OAAO,EAAC,MAAM,EAAE,UAAU,EAAC,QAAQ,EAAE,cAAc,EAAC,QAAQ,EAAE,aAAa,EAAC,QAAQ,EAAE,SAAS,EAAC,QAAQ,EAAE,UAAU,EAAC,MAAM;aAC3J,CAAC,CAAC;YACH,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC,IAAI,cAAK,MAAM,EAAE,CAAC,WAAW,CAC5E,IAAI,CAAC,IAAI,CACZ,CAAC;YACF,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAC3C,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;QAED,oCAAM,GAAN;YACI,iBAAM,MAAM,WAAE,CAAC;YAEf,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,IAAM,MAAM,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC;YACzC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAChC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,CAAC,YAAY,EAAE,CAAC;SAEvB;QAED,4CAAc,GAAd;YACI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAC,OAAO,EAAC,MAAM,EAAC,CAAC,CAAC;SAC9C;QAED,2CAAa,GAAb;YACI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,EAAC,OAAO,EAAC,OAAO,EAAC,CAAC,CAAC;SAC/C;QAEO,0CAAY,GAApB;YACI,IAAM,SAAS,GAAG,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAClD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;SAC9B;QACL,0BAAC;IAAD,CA1CA,CAAyC,aAAa;;ICDtD;QAA0DA,iDAAmB;QAA7E;;SAwBC;QAjBG,0CAAI,GAAJ;YACI,iBAAM,IAAI,WAAE,CAAC;YACb,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;YACvC,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACtC;QAED,4CAAM,GAAN;YACI,iBAAM,MAAM,WAAE,CAAC;YACf,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,WAAW,EAAE,CAAC;SACtB;QAED,iDAAW,GAAX;;YACI,MAAA,IAAI,CAAC,KAAK,0CAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAChC;QACL,kCAAC;IAAD,CAxBA,CAA0D,mBAAmB;;;QCEvCA,sCAA2B;QAE7D,0BAAY,KAAuB;mBAC/B,kBAAM,KAAK,CAAC;SACf;QAED,6CAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,sCAAW,GAAX;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,IAAM,MAAM,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC;YACzC,IAAI,CAAC,KAAK,CAAC,IAAI,uBAAK,MAAM,KAAE,IAAI,EAAC,uBAAuB,IAAE,CAAC;SAC9D;QACL,uBAAC;IAAD,CAfA,CAAsC,2BAA2B;;;QCCvBA,iCAAO;QAK7C,qBAAY,KAAqB;YAAjC,YACI,iBAAO,SAWV;YAVc;gBACP,IAAG,EAAE,KAAK,YAAY,eAAe,CAAC,EAAC;oBACnC,OAAO,CAAC,KAAK,CAAC,gEAA8D,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAG,CAAC,CAAC;iBACxH;aACJ;YACD,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,KAAI,CAAC,KAAK,GAAG,WAAW,CAAC,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC3C,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC,MAAM,EAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,EAAC,kBAAkB,GAAG,CAAC,CAAC;YAEnE,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;;SACjC;QAED,iCAAW,GAAX,eAAqB;QACzB,kBAAC;IAAD,CApBA,CAA0C,OAAO;;ICAjD;;;;QAGiCA,iCAAW;QAKxC,qBAAY,KAAqB;mBAC7B,kBAAM,KAAK,CAAC;SACf;QAED,0BAAI,GAAJ;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAwB,CAAC;YAC5C,IAAM,WAAW,GAAgB,EAAE,CAAC;YACpC,IAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;YAC5B,IAAG,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE;gBACvB,WAAW,CAAC,WAAW,GAAG,UAAQ,IAAI,CAAC,KAAK,CAAC,WAAW,MAAG,CAAC;aAC/D;YACD,IAAG,IAAI,CAAC,KAAK,CAAC,SAAS,EAAC;gBACpB,WAAW,CAAC,SAAS,GAAG,UAAQ,IAAI,CAAC,KAAK,CAAC,SAAS,MAAG,CAAC;aAC3D;YAED,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,QAAQ,gCACN,IAAI,CAAC,KAAK,GAAK,WAAW,KAAE,IAAI,EAAC,MAAM,IAC5C,CAAC;YACH,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACpD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;iBACnC,IAAI,CAAC,EAAC,WAAW,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,GAAC,8BAA8B,EAAE,MAAM,EAAC,uBAAuB,EAAC,CAAC;iBAC1G,UAAU,CAAC,aAAa,CAAC;iBACzB,UAAU,CAAC,WAAW,CAAC,CAAC;YAC7B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;SAC/D;QAED,4BAAM,GAAN;YACI,IAAM,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAoB,CAAC;YACtE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC7B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;SAC3C;QACL,kBAAC;IAAD,CArCA,CAAiC,WAAW;;ICL5C;QAA2CA,2CAA2B;QAAtE;;SAqBC;QAnBG,kDAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,2CAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,CAAC,EAAE,IAAI,EACd,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAC3B,MAAM,CAAC,IAAI,EAAE,CAAC,EACd,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAC3B,MAAM,CAAC,CAAC,EAAE,IAAI,EACd,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAC3B,MAAM,CAAC,IAAI,EAAE,CAAC,EACd,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAC3B,MAAM,CAAC,CAAC,EAAE,IAAI,EACd,SAAS,EAAE,CAAC;SAChB;QACL,4BAAC;IAAD,CArBA,CAA2C,2BAA2B;;ICDtE;QAA+BA,+BAA2B;QAA1D;;SAwBC;QAtBG,sCAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,+BAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,KAAK,EAAE,KAAK,EACnB,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAC5C,MAAM,CAAC,KAAK,EAAE,KAAK,EACnB,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAC/C,MAAM,CAAE,KAAK,EAAE,KAAK,EACpB,OAAO,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAC5C,MAAM,CAAC,KAAK,EAAE,KAAK,EACnB,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAC5C,MAAM,CAAC,IAAI,EAAE,KAAK,EAClB,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAC/C,MAAM,CAAC,KAAK,EAAE,KAAK,EACnB,MAAM,CAAC,KAAK,EAAE,KAAK,EACnB,SAAS,EAAE,CAAC;SAChB;QACL,gBAAC;IAAD,CAxBA,CAA+B,2BAA2B;;ICA1D;QAAmCA,mCAA2B;QAA9D;;SAiBC;QAfG,0CAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,mCAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,CAAC,EAAE,GAAG,EACb,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,MAAM,CAAC,CAAC,EAAE,GAAG,EACb,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,MAAM,CAAC,CAAC,EAAE,GAAG,EACb,SAAS,EAAE,CAAC;SAChB;QACL,oBAAC;IAAD,CAjBA,CAAmC,2BAA2B;;ICA9D;QAAgCA,gCAA2B;QAA3D;;SAoBC;QAjBG,uCAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,gCAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,CAAC,EAAE,IAAI,EACd,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAC3B,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAChC,MAAM,CAAC,IAAI,EAAE,CAAC,EACd,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAC3B,MAAM,CAAC,CAAC,EAAE,IAAI,EACd,SAAS,EAAE,CAAC;SAChB;QACL,iBAAC;IAAD,CApBA,CAAgC,2BAA2B;;ICA3D;QAAkCA,kCAA2B;QAA7D;;SAmBC;QAjBG,yCAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,kCAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,CAAC,EAAE,GAAG,EACb,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAC3C,MAAM,CAAC,KAAK,EAAE,CAAC,EACf,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EACtC,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,CAAC,EACpC,MAAM,CAAC,KAAK,EAAE,CAAC,EACf,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EACzC,SAAS,EAAE,CAAC;SAChB;QACL,mBAAC;IAAD,CAnBA,CAAkC,2BAA2B;;ICA7D;QAAmCA,mCAA2B;QAA9D;;SAsBC;QAnBG,0CAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,mCAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,CAAC,EAAE,KAAK,EACf,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EACtC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EACnC,MAAM,CAAC,KAAK,EAAE,CAAC,EACf,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EACvC,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EACtC,MAAM,CAAC,CAAC,EAAE,GAAG,EACb,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EACxC,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAClC,SAAS,EAAE,CAAC;SAChB;QACL,oBAAC;IAAD,CAtBA,CAAmC,2BAA2B;;ICA9D;QAAsCA,sCAA2B;QAAjE;;SAkBC;QAfG,6CAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,sCAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,IAAI,EAAE,CAAC,EACd,MAAM,CAAC,CAAC,EAAE,CAAC,EACX,MAAM,CAAC,IAAI,EAAE,CAAC,EACd,MAAM,CAAC,CAAC,EAAE,CAAC,EACX,MAAM,CAAC,IAAI,EAAE,CAAC,EACd,SAAS,EAAE,CAAC;SAChB;QACL,uBAAC;IAAD,CAlBA,CAAsC,2BAA2B;;ICAjE;QAAsCA,sCAA2B;QAAjE;;SAoBC;QAlBG,6CAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,sCAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,CAAC,EAAE,KAAK,EACf,MAAM,CAAC,KAAK,EAAE,CAAC,EACf,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAC1C,MAAM,CAAC,IAAI,EAAE,KAAK,EAClB,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EACtC,MAAM,CAAC,KAAK,EAAE,CAAC,EACf,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAClC,MAAM,CAAC,CAAC,EAAE,KAAK,EACf,SAAS,EAAE,CAAC;SAChB;QACL,uBAAC;IAAD,CApBA,CAAsC,2BAA2B;;ICAjE;QAA0CA,0CAA2B;QAArE;;SAgBC;QAdG,iDAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,0CAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,CAAC,EAAE,CAAC,EACX,MAAM,CAAC,CAAC,EAAE,CAAC,EACX,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,SAAS,EAAE,CAAC;SAChB;QACL,2BAAC;IAAD,CAhBA,CAA0C,2BAA2B;;ICCrE;QAAwCA,wCAAmB;QAA3D;;SAoFC;QA7EG,iCAAI,GAAJ;YACI,iBAAM,IAAI,WAAE,CAAC;YAEb,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,EAAC,IAAI,EAAC,WAAW,EAAE,MAAM,EAAC,OAAO,EAAC,CAAC,CAAC;YAC5E,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI,CAAC,UAAU,EAAE,CAAC;YAElB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACvC;QAED,mCAAM,GAAN;YACI,iBAAM,MAAM,WAAE,CAAC;YACf,IAAI,CAAC,UAAU,EAAE,CAAC;SACrB;QAEO,uCAAU,GAAlB;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,IAAM,OAAO,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC;YAC1C,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;YACtC,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;YACxC,OAAO,CAAC,CAAC,IAAI,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;YAClC,MAAA,IAAI,CAAC,MAAM,0CACT,SAAS,CAAC,IAAI,EAAE,OAAO,EACxB,MAAM,CAAC,CAAC,EAAE,KAAK,EACf,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EACtC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EACnC,MAAM,CAAC,KAAK,EAAE,CAAC,EACf,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EACvC,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EACtC,MAAM,CAAC,CAAC,EAAE,GAAG,EACb,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EACxC,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAClC,SAAS,EAAE,CAAC;YAEb,IAAM,OAAO,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC;YAC1C,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;YACtC,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;YACxC,OAAO,CAAC,CAAC,IAAI,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;YACnC,OAAO,CAAC,CAAC,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;YACnC,MAAA,IAAI,CAAC,MAAM,0CACT,SAAS,CAAC,IAAI,EAAE,OAAO,EACxB,MAAM,CAAC,CAAC,EAAE,KAAK,EACf,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EACtC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EACnC,MAAM,CAAC,KAAK,EAAE,CAAC,EACf,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EACvC,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EACtC,MAAM,CAAC,CAAC,EAAE,GAAG,EACb,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EACxC,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAClC,SAAS,EAAE,CAAC;YAGb,IAAM,OAAO,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC;YAC1C,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC;YACtC,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;YACxC,OAAO,CAAC,CAAC,IAAI,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;YACnC,MAAA,IAAI,CAAC,MAAM,0CACT,SAAS,CAAC,IAAI,EAAE,OAAO,EACxB,MAAM,CAAC,CAAC,EAAE,KAAK,EACf,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EACtC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EACnC,MAAM,CAAC,KAAK,EAAE,CAAC,EACf,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EACvC,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,KAAK,EACtC,MAAM,CAAC,CAAC,EAAE,GAAG,EACb,OAAO,CAAC,KAAK,EAAE,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EACxC,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,EAClC,SAAS,EAAE,CAAC;YAEb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC7B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAChC;QACL,yBAAC;IAAD,CApFA,CAAwC,mBAAmB;;ICD3D;QAA2CA,2CAA2B;QAAtE;;SAsBC;QAnBG,kDAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,2CAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,IAAM,MAAM,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC;YACjC,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,MAAM,EACvB,MAAM,CAAC,CAAC,EAAE,IAAI,EACd,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAC3B,MAAM,CAAC,IAAI,EAAE,CAAC,EACd,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAC3B,MAAM,CAAC,CAAC,EAAE,GAAG,EACb,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,MAAM,CAAC,CAAC,EAAE,GAAG,EACb,MAAM,CAAC,CAAC,EAAE,IAAI,EACd,SAAS,EAAE,CAAC;SAChB;QACL,4BAAC;IAAD,CAtBA,CAA2C,2BAA2B;;ICAtE;QAA0CA,0CAA2B;QAArE;;SAcC;QAZG,iDAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;SAClC;QAED,0CAAW,GAAX;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,IAAM,MAAM,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC;YACzC,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,GAAE,CAAC,CAAC;YACxD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBACZ,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC,MAAM,EAAE,EAAE,EAAC,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,KAAK,GAAC,CAAC,EAAE,EAAE,EAAC,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,MAAM,GAAC,CAAC;aAChF,CAAC,CAAC;SACN;QACL,2BAAC;IAAD,CAdA,CAA0C,2BAA2B;;ICArE;QAA4CA,4CAA2B;QAAvE;;SAsBC;QAnBG,mDAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,4CAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,CAAC,EAAE,CAAC,EACX,MAAM,CAAC,CAAC,EAAE,CAAC,EACX,MAAM,CAAC,CAAC,EAAE,CAAC,EACX,MAAM,CAAC,CAAC,EAAE,CAAC,EACX,MAAM,CAAC,CAAC,EAAE,CAAC,EACX,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,SAAS,EAAE,CAAC;SAChB;QACL,6BAAC;IAAD,CAtBA,CAA4C,2BAA2B;;ICAvE;QAAsCA,sCAA2B;QAAjE;;SAyBC;QAvBG,6CAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,sCAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,KAAK,EAAE,KAAK,EACnB,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EACvC,MAAM,CAAC,IAAI,EAAE,CAAC,EACd,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAC5C,MAAM,CAAC,IAAI,EAAE,KAAK,EAClB,OAAO,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EACrC,MAAM,CAAC,KAAK,EAAE,KAAK,EACnB,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,EAC3C,MAAM,CAAC,IAAI,EAAE,CAAC,EACd,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAChD,MAAM,CAAC,CAAC,EAAE,KAAK,EACf,OAAO,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,KAAK,EAClC,MAAM,CAAC,KAAK,EAAE,KAAK,EACnB,SAAS,EAAE,CAAC;SAChB;QACL,uBAAC;IAAD,CAzBA,CAAsC,2BAA2B;;ICAjE;QAAkCA,kCAA2B;QAA7D;;SAUC;QARG,yCAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,kCAAW,GAAX;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC;SAC9C;QACL,mBAAC;IAAD,CAVA,CAAkC,2BAA2B;;ICC7D;QAAmCA,mCAA2B;QAA9D;;SAiBC;QAfG,0CAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,mCAAW,GAAX;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,MAAA,IAAI,CAAC,KAAK,0CACR,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,SAAS,EAAE,EAClC,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAClC,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAChC,MAAM,CAAC,GAAG,EAAE,CAAC,EACb,SAAS,EAAE,CAAC;SAChB;QACL,oBAAC;IAAD,CAjBA,CAAmC,2BAA2B;;ICD9D;QAAyCA,yCAAO;QAAhD;YAAA,qEAoBC;YAjBG,cAAQ,GAAG,CAAC,CAAC;;SAiBhB;QAfG,kCAAI,GAAJ;YACI,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,IAAI,uBAAK,IAAI,CAAC,KAAK,GAAK;gBACrD,CAAC,EAAC,CAAC;gBACH,CAAC,EAAC,CAAC;gBACH,KAAK,EAAC,IAAI,CAAC,QAAQ;gBACnB,MAAM,EAAC,IAAI,CAAC,QAAQ;gBACpB,IAAI,EAAC,MAAM;gBACX,MAAM,EAAC,KAAK;gBACZ,WAAW,EAAC,CAAC;aAChB,EAAE,CAAC;SACP;QAED,oCAAM,GAAN,eAAgB;QAEhB,yCAAW,GAAX,eAAqB;QACzB,0BAAC;IAAD,CApBA,CAAyC,OAAO;;ICGhD;;;IAGA;QAAqCA,qCAAW;QAK5C,yBAAY,KAAqB;mBAC7B,kBAAM,KAAK,CAAC;SACf;QAED,8BAAI,GAAJ;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAwB,CAAC;YAC5C,IAAM,WAAW,GAAgB,EAAE,CAAC;YACpC,IAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;YAC5B,IAAG,MAAM,CAAC,MAAM,KAAI,CAAC,EAAC;gBACP;oBACP,OAAO,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;iBAC5C;aACJ;YACD,IAAG,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE;gBACvB,WAAW,CAAC,WAAW,GAAG,UAAQ,IAAI,CAAC,KAAK,CAAC,WAAW,MAAG,CAAC;aAC/D;YACD,IAAG,IAAI,CAAC,KAAK,CAAC,SAAS,EAAC;gBACpB,WAAW,CAAC,SAAS,GAAG,UAAQ,IAAI,CAAC,KAAK,CAAC,SAAS,MAAG,CAAC;aAC3D;YAED,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC;YACzB,IAAI,CAAC,QAAQ,gCACN,IAAI,CAAC,KAAK,GAAK,WAAW,KAAE,IAAI,EAAC,MAAM,IAC5C,CAAC;YACH,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACrE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;iBACnC,IAAI,CAAC,EAAC,WAAW,EAAC,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,GAAC,8BAA8B,EAAE,MAAM,EAAC,aAAa,EAAC,CAAC;iBAChG,UAAU,CAAC,aAAa,CAAC;iBACzB,UAAU,CAAC,WAAW,CAAC,CAAC;YAC7B,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;SAC/D;QAED,gCAAM,GAAN;YACI,IAAM,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAoB,CAAC;YACtE,IAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YAC7C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACvB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACrC;QAEO,oCAAU,GAAlB,UAAmB,MAAgB;YAC/B,IAAM,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACtB,IAAM,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACtB,IAAM,CAAC,GAAG,GAAG,CAAC,CAAC,GAAC,GAAG,CAAC,CAAC,CAAC;YACtB,IAAM,CAAC,GAAG,GAAG,CAAC,CAAC,GAAC,GAAG,CAAC,CAAC,CAAC;YACtB,IAAI,EAAU,CAAC;YACf,IAAI,EAAU,CAAC;YACf,IAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,KAAG,UAAU,EAAC;gBACvC,EAAE,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC,CAAC;gBACnC,EAAE,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC,CAAC;aACtC;iBAAK;gBACF,EAAE,GAAG,IAAI,OAAO,CAAE,GAAG,CAAC,CAAC,GAAC,CAAC,GAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;gBACpC,EAAE,GAAG,IAAI,OAAO,CAAE,GAAG,CAAC,CAAC,GAAC,CAAC,GAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;aACvC;YAED,OAAO,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC;SAC7B;QACL,sBAAC;IAAD,CA7DA,CAAqC,WAAW;;ICNhD;QAAuCA,uCAA2B;QAAlE;;SAuBC;QApBG,8CAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;SAClC;QAED,uCAAW,GAAX;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,IAAM,MAAM,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC;YACjC,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,GAAC,CAAC,CAAC;YACvD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;gBACZ,EAAE,EAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;gBACpB,EAAE,EAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;gBACpB,EAAE,EAAC,MAAM;gBACT,EAAE,EAAC,MAAM;aACZ,CAAC,CAAC;SACN;QAED,uCAAW,GAAX;YACI,iBAAM,WAAW,WAAE,CAAC;YACpB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,WAAW,EAAC,CAAC,EAAC,CAAC,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,+BAA+B,EAAC,CAAC,CAAC;SACpF;QArBM,8BAAY,GAAG,SAAS,CAAC;QAsBpC,wBAAC;KAAA,CAvBsC,2BAA2B;;ICAlE;QAAkCA,kCAA2B;QAA7D;;SAiBC;QAdG,yCAAkB,GAAlB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;SAC/B;QAED,kCAAW,GAAX;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC;YACjD,IAAM,MAAM,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC;YACzC,IAAI,CAAC,KAAK,CAAC,IAAI,cAAK,MAAM,EAAE,CAAC;SAChC;QAED,kCAAW,GAAX;YACI,iBAAM,WAAW,WAAE,CAAC;YACpB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,WAAW,EAAC,CAAC,EAAC,CAAC,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,+BAA+B,EAAC,CAAC,CAAC;SACpF;QAfM,yBAAY,GAAG,SAAS,CAAC;QAgBpC,mBAAC;KAAA,CAjBiC,2BAA2B;;QCqBhD,aAAa,GAAG;QACzB,eAAe,EAAC,iBAAiB;QACjC,SAAS,EAAC,WAAW;QACrB,IAAI,EAAC,MAAM;QACX,OAAO,EAAC,SAAS;QACjB,aAAa,EAAC,eAAe;QAC7B,UAAU,EAAC;YACP,QAAQ,EAAC,UAAU;YACnB,OAAO,EAAC,SAAS;YACjB,QAAQ,EAAC,UAAU;YACnB,YAAY,EAAC,cAAc;YAC3B,kBAAkB,EAAC,oBAAoB;YACvC,iBAAiB,EAAC,mBAAmB;YACrC,kBAAkB,EAAC,oBAAoB;YACvC,KAAK,EAAC,OAAO;YACb,iBAAiB,EAAC,mBAAmB;YACrC,IAAI,EAAC,MAAM;YACX,QAAQ,EAAC,UAAU;YACnB,cAAc,EAAC,gBAAgB;YAC/B,WAAW,EAAC,aAAa;YACzB,OAAO,EAAC,SAAS;YACjB,YAAY,EAAC,cAAc;YAC3B,gBAAgB,EAAC,kBAAkB;SACtC;QACD,IAAI,EAAC,EAAC,SAAS,EAAC,WAAW,EAAC;MAC9B;;QAKE;YAFA,WAAM,GAAG,IAAI,GAAG,EAA8B,CAAC;YAG3C,IAAI,CAAC,qBAAqB,EAAE,CAAC;SAChC;QAEO,8CAAqB,GAA7B;YACI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;YACjD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;YAC/D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;YAC3D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,eAAe,EAAE,mBAAmB,CAAC,CAAC;YACpE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;YAClE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;YAChE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;YAClE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,YAAY,EAAE,gBAAgB,CAAC,CAAC;YACzE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,kBAAkB,EAAE,sBAAsB,CAAC,CAAC;YACrF,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,iBAAiB,EAAE,oBAAoB,CAAC,CAAC;YAClF,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,kBAAkB,EAAE,qBAAqB,CAAC,CAAC;YACpF,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;YAC5D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,iBAAiB,EAAE,qBAAqB,CAAC,CAAC;YACnF,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;YAC1D,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC;YAClE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;YAC7E,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,WAAW,EAAE,gBAAgB,CAAC,CAAC;YACxE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;YAChE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,YAAY,EAAE,gBAAgB,CAAC,CAAC;YACzE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,gBAAgB,EAAE,oBAAoB,CAAC,CAAC;YACjF,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;YACrD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,aAAa,CAAC,aAAa,EAAE,iBAAiB,CAAC,CAAC;SACnE;QAEM,sCAAa,GAApB,UAAqB,SAAgB,EAAE,KAAwB;YAChD;gBACP,IAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,EAAC;oBAC1B,OAAO,CAAC,KAAK,CAAC,eAAa,SAAS,mDAAgD,CAAC,CAAC;iBACzF;aACJ;YACD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;SACrC;QAEM,iCAAQ,GAAf,UAAgB,SAAgB;YAC5B,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;SACrC;QACL,qBAAC;IAAD,CAAC;;ICrFD;QASI,iBAAY,OAAiB,EAAE,IAAkB;YAFjD,iBAAY,GAAG,KAAK,CAAC;YAGjB,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACxB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,aAAa,CAAC;SAC/C;QAED,kCAAgB,GAAhB,UAAiB,SAAiB;YAC9B,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;SACtC;QAED,oCAAkB,GAAlB,UAAmB,SAAiB;YAChC,SAAS,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACtE,SAAS,CAAC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACtE,SAAS,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACpE,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAClE,SAAS,CAAC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SACxE;QAED,8BAAY,GAAZ,UAAa,GAAc;YACvB,IAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;YAChC,IAAM,MAAM,GAAG,GAAG,CAAC,MAAiB,CAAC;YACrC,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACpC,IAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;YACtB,QAAO,IAAI;gBACX,KAAK,WAAW;oBACZ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;oBACzB,IAAI,CAAC,UAAU,CAAC,EAAC,GAAG,KAAA,EAAE,KAAK,OAAA,EAAC,CAAC,CAAC;oBAC9B,MAAM;gBACV,KAAK,WAAW;oBACZ,IAAI,CAAC,UAAU,CAAC,EAAC,GAAG,KAAA,EAAE,KAAK,OAAA,EAAC,CAAC,CAAC;oBAC9B,IAAG,IAAI,CAAC,YAAY,EAAC;wBACjB,IAAI,CAAC,UAAU,CAAC,EAAC,GAAG,KAAA,EAAE,KAAK,OAAA,EAAC,CAAC,CAAC;qBACjC;oBACD,MAAM;gBACV,KAAK,SAAS;oBACV,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;oBAC1B,IAAI,CAAC,QAAQ,CAAC,EAAC,GAAG,KAAA,EAAE,KAAK,OAAA,EAAC,CAAC,CAAC;oBAC5B,MAAM;gBACV,KAAK,OAAO;oBACR,IAAI,CAAC,MAAM,CAAC,EAAC,GAAG,KAAA,EAAE,KAAK,OAAA,EAAC,CAAC,CAAC;oBAC1B,MAAM;gBACV,KAAK,UAAU;oBACX,IAAI,CAAC,SAAS,CAAC,EAAC,GAAG,KAAA,EAAE,KAAK,OAAA,EAAC,CAAC,CAAC;oBAC7B,MAAM;aAGT;SACJ;QAEO,4BAAU,GAAlB,UAAmB,GAAgB;YAC/B,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;SACvC;QAEO,4BAAU,GAAlB,UAAmB,GAAgB;YAC/B,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;SACvC;QAEO,0BAAQ,GAAhB,UAAiB,GAAgB;YAC7B,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;SACrC;QAEO,wBAAM,GAAd,UAAe,GAAgB;YAC3B,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;SACnC;QAEO,2BAAS,GAAjB,UAAkB,GAAgB;YAC9B,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC;SACtC;QAEO,4BAAU,GAAlB,UAAmB,GAAgB;YAC/B,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;SACvC;QAEO,4BAAU,GAAlB,UAAmB,QAAe,EAAE,GAAgB;YAChD,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC;YACvD,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;YAC5C,IAAG,GAAG,CAAC,KAAK,EAAC;gBACT,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;aACtD;SACJ;QACL,cAAC;IAAD,CAAC;;IC1FD,IAAY,SASX;IATD,WAAY,SAAS;QACjB,uCAAG,CAAA;QACH,yCAAI,CAAA;QACJ,2CAAK,CAAA;QACL,6CAAM,CAAA;QACN,iDAAQ,CAAA;QACR,mDAAS,CAAA;QACT,uDAAW,CAAA;QACX,yDAAY,CAAA;IAChB,CAAC,EATW,SAAS,KAAT,SAAS,QASpB;IAOM,IAAM,SAAS,GAAG,CAAC,CAAC;IACpB,IAAM,UAAU,GAAG,MAAM,CAAC;IAC1B,IAAM,iBAAiB,GAAG,aAAa,CAAC;IACxC,IAAM,kBAAkB,GAAG,cAAc,CAAC;IAC1C,IAAM,mBAAmB,GAAG,eAAe,CAAC;IAC5C,IAAM,uBAAuB,GAAG,mBAAmB,CAAC;IAEpD,IAAM,OAAO,GAAG,cAAK,OAAA,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC;QACjE,EAAE,EAAC,SAAS,EAAE,EAAE,EAAC,SAAS,EAAE,IAAI,EAAC,OAAO,EAAE,MAAM,EAAC,SAAS,EAAE,KAAK,EAAC,UAAU;KAC/E,CAAC,GAAA,CAAC;IACI,IAAM,cAAc,GAAG,cAAI,OAAA,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC;QACvE,EAAE,EAAC,SAAS,EAAE,EAAE,EAAC,SAAS,EAAE,IAAI,EAAC,WAAW,EAAE,MAAM,EAAC,SAAS,EAAE,KAAK,EAAC,kBAAkB;KAC3F,CAAC,GAAA,CAAC;IAEI,IAAM,eAAe,GAAG,w1CAAw1C,CAAC;IACj3C,IAAM,cAAc,GAAG;;QAC1B;YACI,GAAC,SAAS,CAAC,GAAG,IAAE,OAAO,EAAE,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,WAAW,EAAC,CAAC,CAAC,IAAI,CAAC,EAAC,SAAS,EAAC,SAAS,CAAC,GAAG,EAAC,CAAC;YACrF,GAAC,SAAS,CAAC,KAAK,IAAE,OAAO,EAAE,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,WAAW,EAAC,CAAC,CAAC,IAAI,CAAC,EAAC,SAAS,EAAC,SAAS,CAAC,KAAK,EAAC,CAAC;YACzF,GAAC,SAAS,CAAC,MAAM,IAAE,OAAO,EAAE,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,WAAW,EAAC,CAAC,CAAC,IAAI,CAAC,EAAC,SAAS,EAAC,SAAS,CAAC,MAAM,EAAC,CAAC;YAC3F,GAAC,SAAS,CAAC,IAAI,IAAE,OAAO,EAAE,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,WAAW,EAAC,CAAC,CAAC,IAAI,CAAC,EAAC,SAAS,EAAC,SAAS,CAAC,IAAI,EAAC,CAAC;YACvF,GAAC,SAAS,CAAC,QAAQ,IAAE,OAAO,EAAE,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,aAAa,EAAC,CAAC,CAAC,IAAI,CAAC,EAAC,SAAS,EAAC,SAAS,CAAC,QAAQ,EAAC,CAAC;YACjG,GAAC,SAAS,CAAC,SAAS,IAAE,OAAO,EAAE,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,aAAa,EAAC,CAAC,CAAC,IAAI,CAAC,EAAC,SAAS,EAAC,SAAS,CAAC,SAAS,EAAC,CAAC;YACnG,GAAC,SAAS,CAAC,WAAW,IAAE,OAAO,EAAE,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,aAAa,EAAC,CAAC,CAAC,IAAI,CAAC,EAAC,SAAS,EAAC,SAAS,CAAC,WAAW,EAAC,CAAC;YACvG,GAAC,SAAS,CAAC,YAAY,IAAE,OAAO,EAAE,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,aAAa,EAAC,CAAC,CAAC,IAAI,CAAC,EAAC,SAAS,EAAC,SAAS,CAAC,YAAY,EAAC,CAAC;eAC3G;IACN,CAAC,CAAC;IAEK,IAAM,eAAe,GAAC,UAAC,MAAkB;QAC5C,OAAO,EAAC,IAAI,EAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,uBAAK,MAAM,CAAC,KAAK,EAAE,GAAK;gBACtE,MAAM,EAAC,SAAS;gBAChB,WAAW,EAAC,CAAC;gBACb,IAAI,EAAC,uBAAuB;aAC/B,EAAE;YACC,WAAW,EAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC,IAAI,uBACzC,MAAM,CAAC,KAAK,EAAE,GAAK;gBACnB,MAAM,EAAC,uBAAuB;gBAC9B,WAAW,EAAC,CAAC;gBACb,IAAI,EAAC,MAAM;aACd,EACJ,GAAG,CAAC;IACb,CAAC,CAAC;IAEK,IAAM,kBAAkB,GAAG;QAC9B,IAAM,KAAK,GAAG,SAAS,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE,CAAC;QAChD,KAAK,CAAC,EAAE,CAAC,cAAc,CAAC,8BAA8B,EAAE,YAAY,EAAE,eAAe,CAAC,CAAC;QACvF,OAAO,KAAK,CAAC,KAAK,CAAC,EAAC,MAAM,EAAC,SAAS,EAAC,CAAC,CAAC,IAAI,CAAC,EAAC,KAAK,EAAC,kBAAkB,EAAC,CAAC,CAAC;IAC5E,CAAC,CAAC;IAEK,IAAM,mBAAmB,GAAG,UAAC,KAAiB;QACjD,OAAO,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,KAAK,EAAC,uBAAuB,EAAE,MAAM,EAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAC,CAAC,CAAC;IACzF,CAAC;;ICxED;QAYI,kBAAY,WAAkB,EAAE,YAAmB,EAAE,IAAW,EAAE,IAAW,EAAE,WAA6B;YACxG,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;YAC/B,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;YACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC;SAC9C;QAEO,6BAAU,GAAlB;YACI,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;gBAC1C,WAAW,EAAC,IAAI,CAAC,WAAW;gBAC5B,YAAY,EAAC,IAAI,CAAC,YAAY;gBAC9B,IAAI,EAAC,IAAI,CAAC,IAAI;gBACd,IAAI,EAAC,IAAI,CAAC,IAAI;gBACd,MAAM,EAAC,oBAAoB;aAC9B,EAAE,KAAK,CAAC,CAAC,EAAsB,CAAC;SACpC;QAEL,eAAC;IAAD,CAAC;;IC/BM,IAAM,YAAY,GAAG,IAAI,QAAQ,CACpC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;QACR,OAAO,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC;IAC7E,CAAC,CACJ;;ICJM,IAAM,cAAc,GAAG,IAAI,QAAQ,CACtC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;QACV,OAAO,SAAS,CAAC,IAAI,CAAC;YAClB,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;YACjB,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;YACjB,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;YACjB,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;SACpB,CAAC,CAAC,EAAE,CAAC;IACV,CAAC,CACJ;;QCTY,cAAc,GAAG,EAAC,MAAM,EAAG,QAAQ,EAAE,QAAQ,EAAG,UAAU,GAAE;IAEzE;QAAA;SAWC;QARU,+BAAc,GAArB,UAAsB,UAAiB,EAAE,MAAe;YACpD,IAAG,CAAC,MAAM;gBAAE,OAAO;YAEnB,IAAG,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;gBAAE,OAAO;YAEpD,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;YACjD,OAAO,IAAI,CAAC;SACf;QATM,wBAAO,GAAyB,IAAI,GAAG,EAAE,CAAC;QAUrD,uBAAC;KAXD,IAWC;IAED,gBAAgB,CAAC,cAAc,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;IACrE,gBAAgB,CAAC,cAAc,CAAC,cAAc,CAAC,QAAQ,EAAE,cAAc,CAAC;;;QC8BpE,uBAAY,OAAiB;YAxBrB,eAAU,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAE/B,iBAAY,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YAEjC,WAAM,GAAG,CAAC,CAAC;YAUZ,iBAAY,GAAG,IAAI,GAAG,EAAuB,CAAC;YAE9C,iBAAY,GAAG,IAAI,cAAc,EAAE,CAAC;YAEpC,WAAM,GAAkB,EAAE,CAAC;YAE3B,gBAAW,GAAiB,EAAE,CAAC;YAKlC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACxB,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;QAEO,6BAAK,GAAb;YACI,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC3B,IAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;YAC1B,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC;YACvB,IAAI,CAAC,WAAW,CAAC,MAAM,GAAE,CAAC,CAAC;SAC9B;QAEO,wCAAgB,GAAxB;YAAA,iBAMC;YALG,IAAM,IAAI,GAAG;gBACT,KAAI,CAAC,MAAM,EAAE,CAAC;gBACd,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;aACtC,CAAC;YACF,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;SACtC;QAEM,gCAAQ,GAAf;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;SACtB;QAEM,gCAAQ,GAAf,UAAgB,KAAY;YACxB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YAC3E,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACvB;QAEM,iCAAS,GAAhB,UAAiB,MAAc;YAC3B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;SACpE;QAEM,oCAAY,GAAnB,UAAoB,SAAiB;YACjC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,oBAAoB,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,EAAE,SAAS,CAAC,CAAC;YAC/F,IAAI,CAAC,UAAU,GAAE,SAAS,CAAC;SAC9B;QAEM,oCAAY,GAAnB;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;SAC1B;QAEM,gCAAQ,GAAf;YACI,IAAI,CAAC,KAAK,EAAE,CAAC;YACb,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;YAC1B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;YAClD,OAAO,GAAG,CAAC;SACd;QAEM,8BAAM,GAAb;YAAA,iBAqBC;YApBG,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;YACvC,KAAK,CAAC,OAAO,CAAC,UAAA,KAAK;gBACf,IAAI,KAAiB,CAAC;gBACtB,IAAG,KAAK,YAAY,QAAQ,IAAI,CAAC,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,EAAC;oBAC7D,KAAK,GAAG,KAAI,CAAC,YAAY,CAAoB,KAAK,CAAC,CAAC;oBACpD,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;oBACvC,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC3B;gBAED,IAAG,KAAK,YAAY,MAAM,IAAI,CAAC,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,EAAC;oBAC3D,KAAK,GAAG,KAAI,CAAC,YAAY,CAAkB,KAAK,CAAC,CAAC;oBAClD,KAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;oBACvC,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC3B;aACJ,CAAC,CAAC;YAEH,qBAAqB,CAAC;gBAClB,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,GAAG,CAAC,EAAE,CAAC,qBAAqB,EAAE,CAAC;aACnD,CAAC,CAAC;YACH,OAAO,IAAI,CAAC,GAAG,CAAC;SACnB;QAEM,gCAAQ,GAAf,UAAgB,EAAU;YACtB,IAAM,GAAG,GAAG,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YAC7B,IAAI,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,MAAI,oBAAsB,CAAC,CAAC;YAC7D,IAAG,CAAC,OAAO;gBAAE,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,MAAI,kBAAoB,CAAC,CAAC;YACpE,IAAG,CAAC,OAAO;gBAAE,OAAO,GAAG,GAAG,CAAC,cAAc,CAAC,MAAI,uBAAyB,CAAC,CAAC;YACzE,IAAG,OAAO,EAAC;gBACP,IAAM,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACnC,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;aACzC;SACJ;QAEO,0CAAkB,GAA1B;YACI,IAAM,EAAE,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;YAC5C,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;SACpC;QAEO,kCAAU,GAAlB;YACI,IAAI,CAAC,GAAG,GAAG,SAAS,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;SAClC;QAEO,mCAAW,GAAnB;YACI,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;YACjC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACnC;QAEO,yCAAiB,GAAzB;YACI,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,KAAK,EAAC,gBAAgB,EAAC,CAAC,CAAC;YACnE,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SACzC;QAEO,2CAAmB,GAA3B;YACI,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,KAAK,EAAC,kBAAkB,EAAC,CAAC,CAAC;YACvE,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC3C;QAEO,oCAAY,GAApB,UAAwB,IAAkB;YAA1C,iBAmBC;YAlBG,IAAI,KAAK,CAAC;YACV,IAAG,IAAI,YAAY,QAAQ,EAAE;gBACzB,KAAK,GAAG,IAAI,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aAC7C;iBAAK,IAAG,IAAI,YAAY,MAAM,EAAE;gBAC7B,KAAK,GAAG,IAAI,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aAC3C;YACD,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,WAAW,CAAC;YAC/C,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACzE,KAAK,GAAG,KAAU,CAAC;YACnB,IAAG,KAAK,YAAY,iBAAiB,EAAC;gBAClC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,yBAAyB,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;aAC/D;YAED,IAAG,KAAK,YAAY,eAAe,EAAC;gBAChC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,EAAE,IAAE,OAAA,KAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,GAAA,CAAC,CAAC;aACtE;YAED,OAAO,KAAK,CAAC;SAChB;QAEO,oCAAY,GAApB,UAAqB,KAAiB;YAClC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;YAC/B,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;SACzD;QAEO,2CAAmB,GAA3B,UAA4B,KAAqB;YAAjD,iBA4BC;YA3BG,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;YAC1B,IAAM,OAAO,GAAG,KAAK,CAAC,EAAE,CAAC;YACzB,IAAM,YAAY,GAAgB,EAAE,CAAC;YACrC,IAAM,YAAY,GAAG,UAAC,UAAU,EAAE,QAAQ;gBACtC,IAAM,MAAM,GAAG,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;gBACxD,IAAM,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAY,CAAC;gBAC9D,QAAQ,CAAC,YAAY,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;gBACtC,KAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;aACjD,CAAC;YAEF,IAAG,KAAK,CAAC,WAAW,EAAC;gBACjB,IAAM,SAAS,GAAG,KAAK,CAAC,WAAW,CAAC;gBACpC,IAAM,QAAQ,GAAM,SAAS,SAAI,OAAS,CAAC;gBAC3C,YAAY,CAAC,WAAW,GAAG,QAAQ,CAAC;gBACpC,YAAY,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;aACrC;YACD,IAAG,KAAK,CAAC,SAAS,EAAC;gBACf,IAAM,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC;gBAChC,IAAM,QAAQ,GAAM,OAAO,SAAI,OAAS,CAAC;gBACzC,YAAY,CAAC,SAAS,GAAG,QAAQ,CAAC;gBAElC,IAAG,QAAQ,KAAK,YAAY,CAAC,WAAW,EAAE;oBACtC,YAAY,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;iBACnC;aACJ;YAED,6BAAW,WAAW,CAAC,KAAK,CAAC,GAAK,YAAY,EAAE;SACnD;QAEO,uCAAe,GAAvB,UAAwB,KAAiB,EAAE,QAAgB,EAAE,QAAwB;YAArF,iBAiCC;YAhCG,IAAM,SAAS,GAAG,UAAC,KAAiB;;gBAChC,IAAG,KAAK,YAAY,iBAAiB,EAAC;oBAClC,IAAM,SAAS,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;oBAEhC,IAAM,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,EAAE,EAAE,QAAQ,CAAC,CAAC;oBAClE,SAAS,CAAC,MAAM,GAAG,KAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC;oBAC1D,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;oBAC5B,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;oBAC5B,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,KAAK,eAAe,CAAC,WAAW,GAAC,gBAAgB,GAAC,cAAc,EAAE,KAAK,CAAC,CAAC;oBACrH,IAAG,MAAA,KAAK,CAAC,QAAQ,0CAAE,MAAM,EAAC;wBACtB,YAAY,CAAC,KAAK,CAAC,CAAC;qBACvB;iBACJ;qBAAM;oBACH,IAAM,SAAS,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;oBAChC,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;oBAC9B,SAAS,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,EAAE,IAAE,OAAA,KAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,GAAA,CAAC,CAAC;oBAC3E,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;oBAC5B,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;iBAC/B;aACJ,CAAC;YAEF,IAAM,YAAY,GAAG,UAAC,KAAuB;gBACzC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,UAAU;oBAC7B,IAAG,UAAU,YAAY,iBAAiB,EAAC;wBACvC,SAAS,CAAC,UAAU,CAAC,CAAC;qBAGzB;iBACJ,CAAC,CAAC;aACN,CAAC;YAEF,SAAS,CAAC,KAAK,CAAC,CAAC;SACpB;QAEO,oCAAY,GAApB,UAAqB,KAAuB,EAAE,UAAiB,EAAE,QAAwB;;YAC1E;gBACP,IAAG,MAAA,KAAK,CAAC,QAAQ,0CAAE,MAAM,EAAC;oBACtB,OAAO,CAAC,KAAK,CAAC,8DAA8D,CAAC,CAAC;iBACjF;aACJ;YACD,IAAM,SAAS,GAAG,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC;YACnD,IAAM,aAAa,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,IAAI,CAAC,IAAI,UAAU,CAAC;YAC/D,IAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,YAAY,CAAC;YAC7D,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,aAAa,KAAK,CAAC,GAAG,aAAa,GAAE,IAAI,CAAC,KAAK,CAAC,aAAa,GAAC,YAAY,CAAC,GAAG,YAAY,CAAC;YACtH,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;YAC5B,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;YAC5B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,KAAG,eAAe,CAAC,WAAW,GAAC,kBAAkB,GAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;SAC1H;QAEO,mCAAW,GAAnB,UAAoB,KAAuB,EAAE,iBAAyB,EAAE,QAAwB,EAAE,SAAmB;YAArH,iBAyHC;YAxHG,iBAAiB,GAAG,IAAI,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;YAEjE,IAAM,WAAW,GAAG,UAAC,KAAuB;;gBACxC,IAAI,QAAgB,CAAC;gBACrB,IAAI,KAAY,CAAC;gBACjB,IAAI,MAAa,CAAC;gBAElB,IAAM,cAAc,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC;gBACzC,IAAM,eAAe,GAAG,YAAY,CAAC,cAAc,EAAE,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBAC3E,IAAM,OAAO,GAAG,SAAS,CAAC,eAAe,CAAC,QAAQ,EAAE,eAAe,CAAC,SAAS,CAAC,CAAC;gBAC/E,IAAM,OAAO,GAAG,SAAS,CAAC,eAAe,CAAC,QAAQ,EAAE,eAAe,CAAC,WAAW,CAAC,CAAC;gBACjF,IAAM,WAAW,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;gBAC3C,IAAM,WAAW,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC;;gBAG3C,IAAG,CAAC,SAAS,CAAC,QAAQ,EAAE,SAAS,CAAC,SAAS,EAAE,SAAS,CAAC,WAAW,EAAE,SAAS,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAC;oBAG5G,QAAO,SAAS;wBAChB,KAAK,SAAS,CAAC,QAAQ;4BACnB,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAC,eAAe,CAAC,YAAY,CAAC,CAAC,IAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,CAAC,GAAC,eAAe,CAAC,YAAY,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC;4BACvI,KAAK,GAAG,mBAAmB,CAAC,SAAS,CAAC,iBAAiB,EAAE,eAAe,CAAC,YAAY,CAAC,EAAE,OAAO,CAAC,CAAC;4BACjG,MAAM,GAAG,mBAAmB,CAAC,SAAS,CAAC,iBAAiB,EAAE,eAAe,CAAC,YAAY,CAAC,EAAE,OAAO,CAAC,CAAC;4BAClG,MAAM;wBACV,KAAK,SAAS,CAAC,SAAS;4BACpB,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAC,eAAe,CAAC,WAAW,CAAC,CAAC,IAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,CAAC,GAAC,eAAe,CAAC,WAAW,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC;4BACrI,KAAK,GAAG,mBAAmB,CAAC,SAAS,CAAC,iBAAiB,EAAE,eAAe,CAAC,WAAW,CAAC,EAAE,OAAO,CAAC,CAAC;4BAChG,MAAM,GAAG,mBAAmB,CAAC,SAAS,CAAC,iBAAiB,EAAE,eAAe,CAAC,WAAW,CAAC,EAAE,OAAO,CAAC,CAAC;4BACjG,MAAM;wBACV,KAAK,SAAS,CAAC,WAAW;4BACtB,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,CAAC,GAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC;4BACjI,KAAK,GAAG,mBAAmB,CAAC,SAAS,CAAC,iBAAiB,EAAE,eAAe,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;4BAC9F,MAAM,GAAG,mBAAmB,CAAC,SAAS,CAAC,iBAAiB,EAAE,eAAe,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;4BAC/F,MAAM;wBACV,KAAK,SAAS,CAAC,YAAY;4BACvB,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,IAAE,CAAC,EAAE,CAAC,iBAAiB,CAAC,CAAC,GAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC;4BAC/H,KAAK,GAAG,mBAAmB,CAAC,SAAS,CAAC,iBAAiB,EAAE,eAAe,CAAC,QAAQ,CAAC,EAAE,OAAO,CAAC,CAAC;4BAC7F,MAAM,GAAG,mBAAmB,CAAC,SAAS,CAAC,iBAAiB,EAAE,eAAe,CAAC,QAAQ,CAAC,EAAE,OAAO,CAAC,CAAC;4BAC9F,MAAM;qBACT;iBAEJ;;gBAED,IAAG,CAAC,SAAS,CAAC,GAAG,EAAE,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,MAAM,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAC;oBACtF,IAAI,OAAO,SAAQ,CAAC;oBACpB,IAAI,UAAU,SAAO,CAAC;oBACtB,IAAI,WAAW,SAAO,CAAC;oBACvB,IAAI,QAAQ,SAAQ,CAAC;oBAErB,QAAO,SAAS;wBAChB,KAAK,SAAS,CAAC,IAAI;4BACf,OAAO,GAAG,cAAc,CAAC,eAAe,CAAC,WAAW,EAAE,eAAe,CAAC,QAAQ,CAAC,CAAC;4BAChF,UAAU,GAAG,mBAAmB,CAAC,SAAS,CAAC,OAAO,EAAE,iBAAiB,CAAC,EAAE,OAAO,CAAC,CAAC;4BACjF,WAAW,GAAG,oBAAoB,CAAC,WAAW,EAAE,eAAe,CAAC,OAAO,CAAC,GAAC,UAAU,CAAC,CAAC;4BACrF,QAAQ,GAAG,iBAAiB,CAAC,oBAAoB,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,SAAS,CAAC,CAAC;4BAE/F,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAC,eAAe,CAAC,YAAY,CAAC,CAAC,IAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,GAAC,eAAe,CAAC,YAAY,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC;4BACrH,KAAK,GAAG,mBAAmB,CAAC,SAAS,CAAC,QAAQ,EAAE,eAAe,CAAC,YAAY,CAAC,EAAE,OAAO,CAAC,CAAC;4BACxF,MAAM,GAAG,mBAAmB,CAAC,SAAS,CAAC,QAAQ,EAAE,eAAe,CAAC,YAAY,CAAC,EAAE,OAAO,CAAC,CAAC;4BACzF,MAAM;wBACV,KAAK,SAAS,CAAC,GAAG;4BACd,OAAO,GAAG,cAAc,CAAC,eAAe,CAAC,QAAQ,EAAE,eAAe,CAAC,SAAS,CAAC,CAAC;4BAC9E,UAAU,GAAG,mBAAmB,CAAC,SAAS,CAAC,OAAO,EAAE,iBAAiB,CAAC,EAAE,OAAO,CAAC,CAAC;4BACjF,WAAW,GAAG,oBAAoB,CAAC,WAAW,EAAE,eAAe,CAAC,OAAO,CAAC,GAAC,UAAU,CAAC,CAAC;4BACrF,QAAQ,GAAG,iBAAiB,CAAC,oBAAoB,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,EAAE,eAAe,CAAC,WAAW,CAAC,CAAC;4BAEjG,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAC,eAAe,CAAC,YAAY,CAAC,CAAC,IAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,GAAC,eAAe,CAAC,YAAY,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC;4BACrH,KAAK,GAAG,mBAAmB,CAAC,SAAS,CAAC,QAAQ,EAAE,eAAe,CAAC,YAAY,CAAC,EAAE,OAAO,CAAC,CAAC;4BACxF,MAAM,GAAG,mBAAmB,CAAC,SAAS,CAAC,QAAQ,EAAE,eAAe,CAAC,YAAY,CAAC,EAAE,OAAO,CAAC,CAAC;4BACzF,MAAM;wBACV,KAAK,SAAS,CAAC,KAAK;4BAChB,OAAO,GAAG,cAAc,CAAC,eAAe,CAAC,SAAS,EAAE,eAAe,CAAC,YAAY,CAAC,CAAC;4BAClF,UAAU,GAAG,mBAAmB,CAAC,SAAS,CAAC,OAAO,EAAE,iBAAiB,CAAC,EAAE,OAAO,CAAC,CAAC;4BACjF,WAAW,GAAG,oBAAoB,CAAC,WAAW,EAAE,eAAe,CAAC,OAAO,CAAC,GAAC,UAAU,CAAC,CAAC;4BACrF,QAAQ,GAAG,iBAAiB,CAAC,WAAW,EAAE,eAAe,CAAC,QAAQ,CAAC,CAAC;4BAEpE,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAC,eAAe,CAAC,WAAW,CAAC,CAAC,IAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,GAAC,eAAe,CAAC,WAAW,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC;4BACnH,KAAK,GAAG,mBAAmB,CAAC,SAAS,CAAC,QAAQ,EAAE,eAAe,CAAC,WAAW,CAAC,EAAE,OAAO,CAAC,CAAC;4BACvF,MAAM,GAAG,mBAAmB,CAAC,SAAS,CAAC,QAAQ,EAAE,eAAe,CAAC,WAAW,CAAC,EAAE,OAAO,CAAC,CAAC;4BACxF,MAAM;wBACV,KAAK,SAAS,CAAC,MAAM;4BACjB,OAAO,GAAG,cAAc,CAAC,eAAe,CAAC,WAAW,EAAE,eAAe,CAAC,YAAY,CAAC,CAAC;4BACpF,UAAU,GAAG,mBAAmB,CAAC,SAAS,CAAC,OAAO,EAAE,iBAAiB,CAAC,EAAE,OAAO,CAAC,CAAC;4BACjF,WAAW,GAAG,oBAAoB,CAAC,WAAW,EAAE,eAAe,CAAC,OAAO,CAAC,GAAC,UAAU,CAAC,CAAC;4BACrF,QAAQ,GAAG,iBAAiB,CAAC,WAAW,EAAE,eAAe,CAAC,QAAQ,CAAC,CAAC;4BAEpE,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,GAAC,eAAe,CAAC,SAAS,CAAC,CAAC,IAAE,CAAC,CAAC,CAAC;4BAC/G,KAAK,GAAG,mBAAmB,CAAC,SAAS,CAAC,QAAQ,EAAE,eAAe,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;4BACrF,MAAM,GAAG,mBAAmB,CAAC,SAAS,CAAC,QAAQ,EAAE,eAAe,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;4BACtF,MAAM;qBACT;iBACJ;gBACD,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACxB,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAG1B,IAAM,UAAU,GAAG,IAAI,WAAW,CAAC,QAAQ,CAAC,CAAC,GAAC,KAAK,GAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,GAAC,MAAM,GAAC,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;gBAC3F,IAAM,SAAS,GAAG,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,KAAK,EAAE,CAAC;gBACnD,SAAS,CAAC,MAAM,GAAG,UAAU,CAAC;gBAC9B,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;gBAC5B,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;gBAC5B,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,KAAG,eAAe,CAAC,WAAW,GAAC,kBAAkB,GAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;gBACvH,IAAG,MAAA,KAAK,CAAC,QAAQ,0CAAE,MAAM,EAAC;oBACtB,aAAa,CAAC,KAAK,CAAC,CAAC;iBACxB;aAEJ,CAAC;YAGF,IAAM,aAAa,GAAG,UAAC,KAAuB;gBAC1C,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,UAAU;oBAC7B,IAAG,UAAU,YAAY,iBAAiB,EAAC;wBACvC,WAAW,CAAC,UAAU,CAAC,CAAC;qBAG3B;iBACJ,CAAC,CAAC;aACN,CAAC;YAEF,WAAW,CAAC,KAAK,CAAC,CAAC;SACtB;QAEO,wCAAgB,GAAxB,UAAyB,KAAqB,EAAE,YAAoB,EAAE,KAAY,EAAE,MAAc,EAAE,QAAwB;YACxH,IAAM,SAAS,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;YAEhC,YAAY,GAAG,IAAI,CAAC,oBAAoB,CAAC,YAAY,CAAC,CAAC;YACvD,IAAI,MAAM,GAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,EAAE,IAAE,OAAA,EAAE,CAAC,KAAK,EAAE,GAAA,CAAC,CAAC;;YAE5C,IAAG,CAAC,YAAY,EAAC;gBACb,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;aAC3B;iBAAK,IAAG,MAAM,EAAC;gBACZ,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC;oBAC3B,IAAG,CAAC,KAAG,KAAK,EAAC;wBACT,OAAO,YAAY,CAAC,KAAK,EAAE,CAAC;qBAC/B;yBAAK;wBACF,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;qBACpB;iBACJ,CAAC,CAAC;aACN;iBAAK;gBACF,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,YAAY,CAAC,KAAK,EAAE,CAAC,CAAC;aACjD;YAED,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC;YAC1B,KAAK,CAAC,UAAU,GAAG,QAAQ,CAAC;YAC5B,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;SAC/B;QAEO,oCAAY,GAApB,UAAqB,KAAiB;YAClC,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC9B,IAAM,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;YACtC,IAAG,KAAK,YAAY,iBAAiB,EAAE;gBACnC,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;gBACxB,IAAM,WAAW,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC;gBACtC,IAAM,MAAM,GAAG,IAAI,WAAW,CAAC,WAAW,CAAC,CAAC,GAAC,KAAK,GAAC,SAAS,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,GAAC,KAAK,GAAC,SAAS,CAAC,CAAC,EAAE,WAAW,CAAC,KAAK,GAAC,KAAK,EAAE,WAAW,CAAC,MAAM,GAAC,KAAK,CAAC,CAAC;gBACpJ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;aACxB;iBAAK,IAAG,KAAK,YAAY,eAAe,EAAE;gBACvC,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;gBACxB,IAAM,WAAW,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC;gBACtC,IAAM,MAAM,GAAG,WAAW,CAAC,GAAG,CAAC,UAAA,KAAK;oBAChC,OAAO,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,GAAC,KAAK,GAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,GAAC,KAAK,GAAC,SAAS,CAAC,CAAC,CAAC,CAAC;iBAC5E,CAAC,CAAC;gBACH,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;aACxB;SACJ;QAEO,oCAAY,GAApB,UAAqB,KAAiB;YAClC,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;YACtB,IAAG,KAAK,CAAC,IAAI,EAAC;gBACV,IAAG,KAAK,CAAC,IAAI,YAAY,QAAQ,EAAC;oBAC9B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;iBAC/C;qBAAK;oBACF,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;iBAC7C;gBACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;aAC/D;YACD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACxC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;SACrD;;;;;;QAOM,iDAAyB,GAAhC,UAAiC,MAAkB;YAC/C,IAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC;YACrD,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;YACpD,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;YACpD,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,GAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;YAC5D,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;YAC9D,OAAO,MAAM,CAAC;SACjB;;;;;;QAOM,4CAAoB,GAA3B,UAA4B,KAAa;YACrC,IAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC;YACrD,IAAM,EAAE,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;YACzB,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;YAC5C,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,GAAC,QAAQ,CAAC,GAAG,QAAQ,CAAC;YAC5C,OAAO,EAAE,CAAC;SACb;QAEM,oCAAY,GAAnB,UAAoB,KAAuB,EAAE,QAAgB;YACzD,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE,eAAe,CAAC,WAAW,CAAC,CAAC;SACtE;QAEM,kCAAU,GAAjB,UAAkB,KAAuB,EAAE,QAAgB;YACvD,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE,eAAe,CAAC,eAAe,CAAC,CAAC;SAC1E;QAGM,sCAAc,GAArB,UAAsB,KAAuB,EAAE,UAAiB;YAC5D,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,UAAU,EAAE,eAAe,CAAC,WAAW,CAAC,CAAC;SACrE;QAEM,oCAAY,GAAnB,UAAoB,KAAuB,EAAE,UAAiB;YAC1D,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,UAAU,EAAE,eAAe,CAAC,eAAe,CAAC,CAAC;SACzE;QAGM,sCAAc,GAArB,UAAsB,KAAuB,EAAE,iBAAyB,EAAE,SAAmB;YACzF,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,iBAAiB,EAAE,eAAe,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;SACtF;QAEM,oCAAY,GAAnB,UAAoB,KAAuB,EAAE,iBAAyB,EAAE,SAAmB;YACvF,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,iBAAiB,EAAE,eAAe,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC;SAC1F;QAEM,kCAAU,GAAjB,UAAkB,KAAiB,EAAE,IAAW;YAC5C,IAAG,KAAK,YAAY,iBAAiB,EAAC;gBAClC,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;gBACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjB,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,eAAe,CAAC;;aAEtD;SACJ;QAEM,kCAAU,GAAjB,UAAkB,KAAqB,EAAE,QAAgB;YACrD,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE,eAAe,CAAC,WAAW,CAAC,CAAC;SACtE;QAEM,gCAAQ,GAAf,UAAgB,KAAqB,EAAE,QAAgB;YACnD,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE,eAAe,CAAC,eAAe,CAAC,CAAC;SAC1E;QAEM,yCAAiB,GAAxB,UAAyB,KAAqB,EAAE,YAAoB,EAAE,KAAY,EAAE,MAAc;YAAd,uBAAA,EAAA,cAAc;YAC9F,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,EAAE,eAAe,CAAC,WAAW,CAAC,CAAC;SAC1F;QAEM,uCAAe,GAAtB,UAAuB,KAAqB,EAAE,YAAoB,EAAE,KAAY,EAAE,MAAc;YAAd,uBAAA,EAAA,cAAc;YAC5F,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,EAAE,eAAe,CAAC,eAAe,CAAC,CAAC;SAC9F;;;;;;;;QASM,4CAAoB,GAA3B,UAA4B,KAAqB,EAAE,QAAiB,EAAE,UAAuB,EAAE,QAAgB;YAAhB,yBAAA,EAAA,gBAAgB;YAChG;gBACP,IAAG,EAAE,KAAK,YAAY,eAAe,CAAC,EAAC;oBACnC,OAAO,CAAC,KAAK,CAAC,wGAAsG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAG,CAAC,CAAC;iBAChK;aACJ;YAED,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;YACjC,KAAK,CAAC,oBAAoB,CAAC,KAAK,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;SAC1E;;;;;;QAQM,8BAAM,GAAb;YAAA,iBAuDC;YAtDG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,kBAAkB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YACxE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,UAAA,KAAK;gBAC1B,IAAM,WAAW,GAAG;oBAChB,IAAM,SAAS,GAAE,KAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;oBACpD;wBACP,IAAG,CAAC,SAAS,EAAC;4BACV,OAAO,CAAC,KAAK,CAAC,wCAAsC,KAAK,CAAC,KAAK,CAAC,KAAO,CAAC,CAAC;yBAC5E;qBACJ;oBACD,IAAG,KAAK,YAAY,iBAAiB,EAAC;wBAClC,KAAK,CAAC,KAAK,GAAG,IAAI,SAAS,CAAC,KAAK,CAAC,CAAC;wBACnC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;qBACtB;yBAAK;wBACF,IAAM,YAAY,GAAG,KAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;wBACrD,KAAK,CAAC,KAAK,GAAG,IAAI,SAAS,CAAC,KAAK,CAAC,CAAC;wBACnC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;wBACnC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;qBACtB;oBACD,IAAM,QAAQ,GAAG,KAAI,CAAC,UAAU,CAAC;oBACjC,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACvC,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,OAAO,CAAC;iBAC9C,CAAC;;gBAEF,IAAG,KAAK,CAAC,UAAU,KAAG,eAAe,CAAC,WAAW,EAAC;oBAC9C,WAAW,EAAE,CAAC;iBACjB;gBAED,IAAG,KAAK,CAAC,UAAU,KAAK,eAAe,CAAC,WAAW,EAAC;oBAChD,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;oBACrB,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,OAAO,CAAC;iBAC9C;gBAED,IAAG,KAAK,CAAC,UAAU,KAAK,eAAe,CAAC,eAAe,EAAC;oBACpD,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;oBACrB,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,OAAO,CAAC;oBAC3C,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;oBACtC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;oBACvB,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;iBAC5B;gBAED,IAAG,KAAK,CAAC,UAAU,KAAK,eAAe,CAAC,iBAAiB,EAAC;oBACtD,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBACzB,IAAG,KAAK,CAAC,KAAK,EAAC;wBACX,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;qBACxB;yBAAK;wBACF,WAAW,EAAE,CAAC;qBACjB;oBACD,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,OAAO,CAAC;iBAC9C;aACJ,CAAC,CAAC;YACH,IAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAC;gBACvB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,iBAAiB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC1E;YACD,IAAI,CAAC,WAAW,CAAC,MAAM,GAAC,CAAC,CAAC;SAC7B;QAED,oCAAY,GAAZ;YACI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAA,KAAK;gBACrB,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,iBAAiB,CAAC;aACxD,CAAC,CAAA;SACL;;;;;;QAQM,oCAAY,GAAnB,UAAoB,IAAkB;YAClC,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAc,IAAI,CAAC,CAAC;YACnD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACxB,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;YACtC,OAAO,KAAK,CAAC;SAChB;;;;;;QAOM,uCAAe,GAAtB,UAAuB,KAAiB;YACpC,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;SACnC;;;;;QAMM,sDAA8B,GAArC,UAAsC,GAAc;YAChD,OAAO,IAAI,OAAO,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAC7E;QAEM,qCAAa,GAApB,UAAqB,KAAa;YAC9B,IAAG,CAAC,KAAK;gBAAE,OAAO;YAClB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;SAC7B;QAEM,qCAAa,GAApB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;;;;;;;;QASM,0CAAkB,GAAzB,UAA0B,KAAiB,EAAE,QAAe;YAAE,cAAO;iBAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;gBAAP,6BAAO;;YACjE,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;YAC1B,IAAG,CAAC,KAAK;gBAAE,OAAO;YAElB,IAAM,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;YAC/B,IAAG,MAAM,EAAC;gBACN,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;aAC7B;SACJ;;;;;QAMM,oCAAY,GAAnB,UAAoB,MAAoB;YAAxC,iBAIC;YAHG,MAAM,CAAC,OAAO,CAAC,UAAA,KAAK;gBAChB,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;aAC5B,CAAC,CAAC;SACN;;;;;;;QAQM,mCAAW,GAAlB,UAAmB,IAAkB,EAAE,cAAqB;YACxD,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAC7C,IAAM,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC;YACvC,IAAG,cAAc,GAAC,CAAC;gBAAE,cAAc,GAAG,CAAC,CAAC;YACxC,IAAG,cAAc,GAAC,QAAQ,CAAC,MAAM,GAAC,CAAC;gBAAE,cAAc,GAAG,QAAQ,CAAC,MAAM,GAAC,CAAC,CAAC;YACxE,IAAM,YAAY,GAAG,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAC7C,IAAM,GAAG,GAAG,QAAQ,CAAC,cAAc,CAAC,CAAC;YACrC,QAAQ,CAAC,cAAc,CAAC,GAAG,KAAK,CAAC;YACjC,QAAQ,CAAC,YAAY,CAAC,GAAG,GAAG,CAAC;YAC7B,IAAG,cAAc,GAAC,YAAY,EAAC;gBAC3B,IAAM,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,kBAAkB,CAAC;gBACrD,IAAG,OAAO,EAAC;oBACP,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;iBACxD;qBAAK;oBACF,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;iBACtE;aACJ;iBAAK;gBACF,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aACjD;YAED,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;SACxD;QAOD,sBAAW,kCAAO;;;;;iBAAlB;gBACI,OAAO,IAAI,CAAC,QAAQ,CAAC;aACxB;;;;;iBAMD,UAAmB,KAAgB;gBAC/B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACzB;;;WARA;QASL,oBAAC;IAAD,CAAC;;IC3sBD;;;;;;;;;;;IAWA;QAAkCA,kCAAe;QAS7C,sBAAY,OAAiB,EAAE,OAAuB;YAAtD,YACI,kBAAM,OAAO,EAAE,OAAO,CAAC,SAE1B;YADG,KAAI,CAAC,kBAAkB,EAAE,CAAC;;SAC7B;QAED,sBAAI,kCAAQ;iBAAZ;gBACI,OAAO,IAAI,CAAC,OAAO,CAAC,kBAAkB,IAAI,EAAE,CAAC;aAChD;;;WAAA;QAED,kCAAW,GAAX;YACI,OAAO,IAAI,CAAC;SACf;QAEO,yCAAkB,GAA1B;YACI,IAAI,CAAC,YAAY,GAAC,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;gBACxC,MAAM,EAAC,SAAS;gBAChB,WAAW,EAAC,CAAC;gBACb,IAAI,EAAC,WAAW;gBAChB,CAAC,EAAC,CAAC;gBACH,CAAC,EAAC,CAAC;gBACH,KAAK,EAAC,YAAY,CAAC,uBAAuB;gBAC1C,MAAM,EAAC,YAAY,CAAC,uBAAuB;aAC9C,CAAC,CAAC,EAAE,CAAC;SACT;QAEO,8CAAuB,GAA/B,UAAgC,IAAkB;YAC9C,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,EAAmB,CAAC;YACzC,IAAM,IAAI,GAAG,GAAG,CAAC,aAAa,EAAE,CAAC;YACjC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;YACtC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;YACxC,IAAM,QAAQ,GAAG,GAAG,CAAC,mBAAmB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;YACrD,IAAM,MAAM,GAAG,EAAE,CAAC;YAClB,QAAQ,CAAC,OAAO,CAAC,UAAA,IAAI;gBACjB,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAClC,IAAG,KAAK;oBAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAChC,CAAC,CAAC;YAEH,OAAO,MAAM,CAAC;SACjB;QAGD,kCAAW,GAAX,UAAY,EAAyB;;gBAAxB,KAAK,WAAA,EAAE,GAAG,SAAA;YACnB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;YACxE,IAAG,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,KAAK,CAAC,UAAU,MAAK,KAAK,EAAE;gBAClC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;gBACzB,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;gBAC3B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAC1B,OAAO;aACV;YACD,IAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;gBAAE,OAAO;YAEpC,IAAG,KAAK,EAAE;gBACN,IAAG,MAAA,IAAI,CAAC,OAAO,CAAC,kBAAkB,0CAAE,QAAQ,CAAC,KAAK,CAAC;oBAAE,OAAO;;oBACvD,IAAI,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;aACtC;iBAAM;gBACH,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;aAC5B;SACJ;QAED,kCAAW,GAAX,UAAY,EAAyB;gBAAxB,KAAK,WAAA,EAAE,GAAG,SAAA;YACnB,IAAG,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,KAAK,CAAC,UAAU,MAAK,KAAK;gBAAE,OAAO;YAC7C,IAAG,IAAI,CAAC,QAAQ,CAAC,MAAM;gBAAE,OAAO;YAChC,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAE/B,IAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;YAC3E,IAAM,YAAY,GAAG,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC,CAAC;YAC/E,IAAG,YAAY,GAAC,YAAY,CAAC,uBAAuB,EAAC;gBACjD,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,aAAa,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAC,YAAY,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvN,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC;oBACjC,CAAC,EAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,EAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,KAAK,EAAC,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,MAAM,EAAC,IAAI,CAAC,aAAa,CAAC,MAAM;iBACnH,CAAC,CAAC;aACN;iBAAK;gBACF,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;gBAC3B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC7B;SACJ;QAED,gCAAS,GAAT,UAAU,EAAO;;gBAAN,KAAK,WAAA;YACZ,MAAA,IAAI,CAAC,YAAY,0CAAE,MAAM,EAAE,CAAC;YAE5B,IAAG,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,KAAK,CAAC,UAAU,MAAK,KAAK;gBAAE,OAAO;YAC7C,IAAG,IAAI,CAAC,QAAQ,CAAC,MAAM;gBAAE,OAAO;YAEhC,IAAG,IAAI,CAAC,aAAa,EAAC;gBAClB,IAAM,IAAI,GAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;gBAC7B,IAAG,IAAI,CAAC,GAAG,CAAC,qBAAqB,CAAC,EAAC;oBAC/B,IAAM,MAAM,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;oBAClD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;oBAC7B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;iBAI7B;aACJ;SACJ;;;;QAKD,oCAAa,GAAb,UAAc,KAAiB;YAC3B,IAAM,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YACzC,IAAG,GAAG,KAAI,CAAC,CAAC,EAAC;gBACT,IAAM,IAAI,uBAAO,IAAI,CAAC,QAAQ,OAAC,CAAC;gBAChC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,mBAAmB,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;aACjF;SACJ;;;;;QAMM,sCAAe,GAAtB,UAAuB,cAA4B;YAC/C,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC;YAC7C,IAAI,CAAC,OAAO,CAAC,kBAAkB,GAAG,cAAc,CAAC;YACjD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,mBAAmB,EAAE,IAAI,EAAE,cAAc,CAAC,CAAC;SAClF;QAGO,qCAAc,GAAtB,UAAuB,GAAc;YACjC,IAAM,MAAM,GAAG,GAAG,CAAC,MAAiB,CAAC;YACrC,IAAG,CAAC,MAAM;gBAAE,OAAO,KAAK,CAAC;YAEzB,IAAM,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;YAChC,IAAM,eAAe,GAAG,eAAe,CAAC;YACxC,OAAO,EAAE,CAAC,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,eAAe,CAAC,eAAe,CAAC,CAAC;SAC1E;QAzIM,oCAAuB,GAAG,CAAC,CAAC;QA0IvC,mBAAC;KAAA,CA3IiC,eAAe;;ICRjD;;;IAGA;QAAuCA,uCAAe;QAAtD;YAAA,qEA4KC;YAzKW,iBAAW,GAAG,KAAK,CAAC;YAIpB,WAAK,GAAa,EAAE,CAAC;YAErB,kBAAY,GAAa,EAAE,CAAC;;SAmKvC;QAzJG,uCAAW,GAAX;;YACI,OAAO,CAAA,MAAA,IAAI,CAAC,OAAO,CAAC,kBAAkB,0CAAE,MAAM,MAAI,CAAC;gBAC9C,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,YAAY,eAAe;gBAC7D,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,KAAK,YAAY,WAAW,CAAC;SAExE;QAED,wCAAY,GAAZ;YACI,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;QAED,6CAAiB,GAAjB,UAAkB,CAAC,EAAE,IAAkB;YACnC,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAoB,CAAC;SAC9C;QAED,sCAAU,GAAV,UAAW,EAAkB;gBAAjB,GAAG,SAAA;YACX,IAAM,MAAM,GAAG,GAAG,CAAC,MAAiB,CAAC;YACrC,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;YACpC,IAAG,MAAM,CAAC,OAAO,CAAC,MAAI,UAAY,CAAC,EAAC;gBAChC,IAAI,CAAC,aAAa,GAAGG,eAAa,CAAC,WAAW,CAAC;gBAE/C,IAAG,IAAI,CAAC,SAAS,KAAG,CAAC,IAAI,IAAI,CAAC,SAAS,KAAG,MAAM,CAAC,MAAM,GAAC,CAAC,EAAC;oBACtD,OAAO;iBACV;gBAED,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;aACpE;SACJ;QAED,uCAAW,GAAX,UAAY,EAAkB;gBAAjB,GAAG,SAAA;YACZ,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;YAC3B,IAAG,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAC;gBAClB,IAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,IAAI,CAAC,aAAa,GAAGA,eAAa,CAAC,UAAU,CAAC;aACjD;YACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;SAC3E;QAED,uCAAW,GAAX,UAAY,EAAkB;gBAAjB,GAAG,SAAA;YACZ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAExB,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAM,YAAY,GAAG,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;YAC9D,IAAI,CAAC,cAAc,GAAG,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAEtG,QAAO,IAAI,CAAC,aAAa;gBACzB,KAAKA,eAAa,CAAC,UAAU;oBACzB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;oBACpD,MAAM;gBACV,KAAKA,eAAa,CAAC,SAAS;oBACxB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;oBAC1E,MAAM;gBACV,KAAKA,eAAa,CAAC,iBAAiB;oBAChC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;oBAC3E,MAAM;aAGT;SACJ;QAED,qCAAS,GAAT,UAAU,EAAkB;gBAAjB,GAAG,SAAA;YACV,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YAEzB,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;YAC3E,IAAI,CAAC,cAAc,GAAG,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC,GAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACtG,IAAG,IAAI,CAAC,cAAc,CAAC,CAAC,KAAI,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,KAAI,CAAC;gBAAE,OAAO;YAGpE,QAAO,IAAI,CAAC,aAAa;gBACzB,KAAKA,eAAa,CAAC,UAAU;oBACzB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;oBAClD,IAAI,CAAC,YAAY,EAAE,CAAC;oBACpB,MAAM;gBACV,KAAKA,eAAa,CAAC,SAAS;oBACxB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;oBACxE,MAAM;gBACV,KAAKA,eAAa,CAAC,iBAAiB;oBAChC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;oBACzE,MAAM;aAGT;SAEJ;QAED,2CAAe,GAAf;YACI,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;QAEO,4CAAgB,GAAxB,UAAyB,GAAc;YACnC,IAAM,MAAM,GAAG,GAAG,CAAC,MAAiB,CAAC;YACrC,IAAI,CAAC,SAAS,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;YAC/C,IAAG,MAAM,CAAC,OAAO,CAAC,MAAI,UAAY,CAAC,EAAC;gBAChC,IAAI,CAAC,aAAa,GAAGA,eAAa,CAAC,SAAS,CAAC;aAChD;iBAAK,IAAG,MAAM,CAAC,OAAO,CAAC,MAAI,kBAAoB,CAAC,EAAC;gBAC9C,IAAI,CAAC,aAAa,GAAGA,eAAa,CAAC,iBAAiB,CAAC;aACxD;iBAAK;gBACF,IAAI,CAAC,aAAa,GAAGA,eAAa,CAAC,UAAU,CAAC;aACjD;SACJ;QAEO,yCAAa,GAArB;;YACI,IAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,KAAKA,eAAa,CAAC,UAAU;gBAAE,OAAO;YAC/E,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,SAAS,EAAE,CAAC;YAC5D,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAM,MAAM,GAAE,CAAA,MAAA,IAAI,CAAC,QAAQ,CAAC,SAAS,0CAAE,MAAM,KAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;YACtE,IAAM,IAAI,GAAG,SAAS,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YACzC,KAAI,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;gBAC9B,IAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACxB,IAAM,IAAI,GAAG,OAAO,EAAE,CAAC,IAAI,CAAC;oBACxB,EAAE,EAAC,KAAK,CAAC,CAAC,EAAE,EAAE,EAAC,KAAK,CAAC,CAAC,EAAE,EAAE,EAAC,IAAI,EAAE,EAAE,EAAC,IAAI,EAAE,KAAK,EAAC,CAAC;iBACpD,CAAC,CAAC;gBACH,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACtB,IAAG,CAAC,GAAC,CAAC,EAAC;oBACH,IAAM,mBAAmB,GAAG,cAAc,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC;oBAC/D,IAAM,WAAW,GAAG,cAAc,EAAE,CAAC,IAAI,CAAC;wBACtC,EAAE,EAAC,mBAAmB,CAAC,CAAC,EAAE,EAAE,EAAC,mBAAmB,CAAC,CAAC,EAAE,EAAE,EAAC,IAAI,EAAE,EAAE,EAAC,IAAI,EAAE,KAAK,EAAC,CAAC;qBAChF,CAAC,CAAC;oBACH,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBACvC;gBAED,IAAG,CAAC,KAAG,CAAC,EAAC;oBACL,IAAI,CAAC,IAAI,CAAC,EAAC,KAAK,EAAI,UAAU,SAAI,iBAAmB,EAAC,CAAC,CAAC;iBAC3D;gBAED,IAAG,CAAC,KAAG,MAAM,CAAC,MAAM,GAAC,CAAC,EAAC;oBACnB,IAAI,CAAC,IAAI,CAAC,EAAC,KAAK,EAAI,UAAU,SAAI,mBAAqB,EAAC,CAAC,CAAC;iBAC7D;aAEJ;YACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,aAAa,EAAC,MAAM,EAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,cAAc,kCAAE,IAAI,CAAC,OAAO,GAAK,IAAI,CAAC,KAAK,SAAK,IAAI,CAAC,YAAY,QAAE,CAAC;SACtG;QAEO,wCAAY,GAApB;;YACI,MAAA,IAAI,CAAC,KAAK,0CAAE,OAAO,CAAC,UAAA,IAAI,IAAE,OAAA,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,GAAA,CAAC,CAAC;YAC5C,MAAA,IAAI,CAAC,YAAY,0CAAE,OAAO,CAAC,UAAA,IAAI,IAAE,OAAA,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE,GAAA,CAAC,CAAC;YACnD,MAAA,IAAI,CAAC,OAAO,0CAAE,EAAE,CAAC,MAAM,EAAE,CAAC;YAC1B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC;SACrB;QAEO,iCAAK,GAAb;YACI,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;SAC9B;QACL,wBAAC;IAAD,CA5KA,CAAuC,eAAe,GA4KrD;IAED,IAAKA,eAKJ;IALD,WAAK,aAAa;QACd,2DAAS,CAAA;QACT,6DAAU,CAAA;QACV,+DAAW,CAAA;QACX,2EAAiB,CAAA;IACrB,CAAC,EALIA,eAAa,KAAbA,eAAa;;ICnLlB,IAAK,aAIJ;IAJD,WAAK,aAAa;QACd,iDAAI,CAAA;QACJ,qDAAM,CAAA;QACN,qDAAM,CAAA;IACV,CAAC,EAJI,aAAa,KAAb,aAAa,QAIjB;IAED;;;IAGA;QAAyCH,yCAAe;QAAxD;;SA+LC;QAzKG,sBAAI,8CAAa;iBAAjB;;gBACI,OAAO,CAAA,MAAA,IAAI,CAAC,QAAQ,CAAC,SAAS,0CAAE,SAAS,EAAE,KAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;aAC5E;;;WAAA;QAED,yCAAW,GAAX;;YACI,OAAO,CAAA,MAAA,IAAI,CAAC,OAAO,CAAC,kBAAkB,0CAAE,MAAM,MAAI,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAC,YAAY,iBAAiB,CAAC;SAC1H;QAED,yCAAW,GAAX,UAAY,EAAkB;gBAAjB,GAAG,SAAA;YACZ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;YACzE,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC,CAAsB,CAAC;YACxE,IAAG,IAAI,CAAC,SAAS,EAAC;gBACd,IAAG,OAAO,KAAK,IAAI,CAAC,QAAQ,EAAC;oBACzB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;iBACrD;qBAAK;oBACF,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;oBACxB,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC,IAAI,CAAC;iBAC5C;aACJ;iBAAK;gBACF,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;gBACxB,IAAI,CAAC,aAAa,GAAG,cAAc,EAAE,CAAC;gBACtC,IAAI,CAAC,YAAY,GAAG,eAAe,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBACxD,IAAI,CAAC,eAAe,GAAG,kBAAkB,EAAE,CAAC;gBAC5C,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBAExB,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC,IAAI,CAAC;aAC5C;YAED,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC3B;QAED,yCAAW,GAAX,UAAY,EAAkB;gBAAjB,GAAG,SAAA;YACZ,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAM,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;YAChD,IAAG,IAAI,CAAC,cAAc,KAAK,aAAa,CAAC,IAAI,EAAC;gBAC1C,IAAG,YAAY,CAAC,CAAC,KAAK,CAAC,IAAI,YAAY,CAAC,CAAC,KAAI,CAAC,EAAC;oBAC3C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;iBAClD;aACJ;YACD,IAAG,IAAI,CAAC,cAAc,KAAK,aAAa,CAAC,MAAM,EAAC;gBAC5C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,aAAqC,CAAC,CAAC;aACzI;YACD,IAAG,IAAI,CAAC,cAAc,KAAK,aAAa,CAAC,MAAM,EAAC;gBAC5C,IAAM,YAAY,GAAG,IAAI,CAAC,4BAA4B,CAAC,GAAG,CAAC,CAAC;gBAC5D,IAAI,CAAC,WAAW,GAAG,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;gBACnD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aACxD;YACD,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC3B;QAED,uCAAS,GAAT,UAAU,EAAkB;gBAAjB,GAAG,SAAA;YACV,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAM,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;YAChD,IAAG,IAAI,CAAC,cAAc,KAAK,aAAa,CAAC,IAAI,EAAC;gBAC1C,IAAG,YAAY,CAAC,CAAC,KAAK,CAAC,IAAI,YAAY,CAAC,CAAC,KAAI,CAAC,EAAC;oBAC3C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;iBAChD;aACJ;YAED,IAAG,IAAI,CAAC,cAAc,KAAK,aAAa,CAAC,MAAM,EAAC;gBAC5C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,aAAqC,CAAC,CAAC;aAC1H;YAED,IAAG,IAAI,CAAC,cAAc,KAAK,aAAa,CAAC,MAAM,EAAC;gBAC5C,IAAM,YAAY,GAAG,IAAI,CAAC,4BAA4B,CAAC,GAAG,CAAC,CAAC;gBAC5D,IAAI,CAAC,WAAW,GAAG,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC;gBACnD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;aACtD;YAED,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;QAED,6CAAe,GAAf;YACI,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC3B;QAED,0CAAY,GAAZ;YACI,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;QAED,+CAAiB,GAAjB;YACI,IAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,CAAC,EAAC;gBAC5D,IAAI,CAAC,QAAQ,EAAE,CAAC;aACnB;SACJ;QAEO,sCAAQ,GAAhB;YACI,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;gBACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACzB;YACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;QAEO,oCAAM,GAAd;YACI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YACrB,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;SACxB;QAEO,+CAAiB,GAAzB,UAA0B,GAAc;YACpC,IAAM,MAAM,GAAG,GAAG,CAAC,MAAiB,CAAC;YACrC,IAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,EAAE,GAAA,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAG,CAAC,CAAC,EAAC;gBAClE,OAAO,aAAa,CAAC,IAAI,CAAC;aAC7B;YACD,IAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,EAAE,GAAA,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,KAAG,CAAC,CAAC,EAAC;gBACnE,IAAI,CAAC,aAAa,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,WAAW,CAA0B,CAAC;gBAChF,OAAO,aAAa,CAAC,MAAM,CAAC;aAC/B;YACD,IAAG,MAAM,CAAC,OAAO,CAAC,mBAAmB,CAAC,EAAC;gBACnC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,4BAA4B,CAAC,GAAG,CAAC,CAAC;gBAC1D,OAAO,aAAa,CAAC,MAAM,CAAC;aAC/B;SACJ;QAEO,8CAAgB,GAAxB;YAAA,iBAYC;YAXG,IAAI,CAAC,SAAS,GAAE,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,cAAc,qDAC1D,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,SAChC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;gBACpC,IAAI,CAAC,eAAe;sBACtB,CAAC;YACH,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC,aAAa,EAAC,MAAM,EAAC,CAAC,CAAC;YAC5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC3D,UAAU,CAAC;gBACP,KAAI,CAAC,SAAS,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;aAC9C,EAAC,GAAG,CAAC,CAAC;SACV;QAEO,8CAAgB,GAAxB;YAAA,iBAuBC;YAtBG,IAAM,WAAW,GAAG,UAAC,CAAQ,EAAE,CAAQ;gBACnC,IAAM,EAAE,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;gBACrE,OAAO,EAAC,EAAE,EAAC,EAAE,CAAC,CAAC,EAAE,EAAE,EAAC,EAAE,CAAC,CAAC,EAAC,CAAC;aAC7B,CAAC;YACF,IAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;YAC1C,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7E,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,KAAK,GAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACvF,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3F,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC,CAAC;YACvG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAC5G,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,KAAK,GAAC,CAAC,EAAE,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YACxG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;YAC9F,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC,CAAC;YACzF,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC3C,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;gBACtB,CAAC,EAAC,MAAM,CAAC,CAAC,GAAC,EAAE,EAAE,CAAC,EAAC,MAAM,CAAC,CAAC,GAAC,MAAM,CAAC,MAAM,GAAC,CAAC,EAAE,KAAK,EAAC,EAAE,EAAE,MAAM,EAAC,EAAE;aACjE,CAAC,CAAC;YAEH,IAAM,aAAa,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,IAAE,CAAC,KAAK,IAAI,CAAC,WAAW,IAAE,CAAC,CAAC,CAAC;YAChF,IAAM,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,YAAY,CAAC;YAC7D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAC,SAAS,EAAC,aAAU,YAAY,KAAK,CAAC,GAAC,aAAa,GAAC,IAAI,CAAC,KAAK,CAAC,aAAa,GAAC,YAAY,CAAC,GAAC,YAAY,UAAI,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,CAAC,SAAI,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,CAAC,MAAG,EAAC,CAAC,CAAC;SACxM;QAEO,8CAAgB,GAAxB,UAAyB,GAAc;YACnC,IAAM,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;YACjE,OAAO,IAAI,OAAO,CAAC,EAAE,CAAC,CAAC,GAAC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;SACxE;QAEO,0DAA4B,GAApC,UAAqC,GAAc;YAC/C,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAM,YAAY,GAAG,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;YAC9D,IAAM,gBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,MAAM,EAAE,CAAC;YAC5D,IAAM,KAAK,GAAG,2BAA2B,CAAC,SAAS,CAAC,gBAAgB,EAAE,YAAY,CAAC,EAAE,EAAC,CAAC,EAAC,CAAC,EAAE,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;YACjG,OAAO,gBAAgB,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,GAAC,CAAC,KAAK,CAAC;SACjE;QACL,0BAAC;IAAD,CA/LA,CAAyC,eAAe;;IChBxD,IAAM,KAAK,GAAG,OAAO,CAAC;IACtB,IAAM,YAAY,GAAG,EAAE,CAAC;IACxB;QAAkCA,kCAAe;QAAjD;;SA0DC;QArDG,iCAAU,GAAV;YACI,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;QAED,sCAAe,GAAf;YACI,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;QAEO,6BAAM,GAAd;;YACI,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAG,CAAC,IAAI,CAAC,IAAI;gBAAE,OAAO;YACtB,IAAG,CAAA,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,IAAI,0CAAE,KAAK,MAAG,CAAC;gBAAE,OAAO;YAEjC,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC9B,IAAM,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;YACtC,IAAM,UAAU,GAAG,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAC,CAAC,CAAC;YACrE,IAAM,UAAU,GAAG,SAAS,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAE,IAAI,CAAC,IAAI,CAAC,MAAM,GAAC,CAAC,CAAC;YACtE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAC,SAAS,EAAC,WAAS,KAAK,oBAAe,UAAU,WAAM,UAAU,QAAK,EAAC,CAAC,CAAC;SACnG;QAEO,kCAAW,GAAnB;YACI,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAI,OAAiB,CAAC;YACtB,IAAG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAC;gBACvB,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aACnD;iBAAK;gBACF,OAAO,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;aACnC;YACD,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;SAClC;QAEO,wCAAiB,GAAzB;YACI,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;gBACrC,KAAK,EAAC,iBAAiB,EAAE,KAAK,EAAC,MAAM,EAAE,MAAM,EAAC,MAAM;aACvD,CAAC,CAAC,WAAW,CACV,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;gBACtB,IAAI,EAAC,UAAQ,KAAK,MAAG,EAAE,KAAK,EAAC,MAAM,EAAE,MAAM,EAAC,MAAM;aACrD,CAAC,CACL,CAAC;YACF,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC1C;QAEO,qCAAc,GAAtB;YACI,OAAO,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC;gBAChC,KAAK,EAAC,YAAY,GAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAC,YAAY,GAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,EAAE,EAAC,KAAK,EAAE,YAAY,EAAC,gBAAgB;aAC7I,EAAE,KAAK,CAAC,CAAC,WAAW,CACjB,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;gBACtB,CAAC,EAAC,CAAC,EAAE,CAAC,EAAC,CAAC,EAAE,KAAK,EAAC,YAAY,GAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,MAAM,EAAC,YAAY,GAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAC,MAAM,EAAE,MAAM,EAAC,SAAS,EAAE,WAAW,EAAC,CAAC;aAC5J,CAAC,CACL,CAAC;SACL;QACL,mBAAC;IAAD,CA1DA,CAAkC,eAAe;;ICDjD,IAAY,WAYX;IAZD,WAAY,WAAW;QACnB,6CAAW,CAAA;QACX,2CAAU,CAAA;QACV,8CAAW,CAAA;QACX,iDAAY,CAAA;QACZ,sDAAc,CAAA;QACd,oDAAc,CAAA;QACd,uDAAe,CAAA;QACf,4DAAiB,CAAA;QACjB,yDAAgB,CAAA;QAChB,8DAAkB,CAAA;QAClB,gEAAmB,CAAA;IACvB,CAAC,EAZW,WAAW,KAAX,WAAW,QAYtB;IAED,IAAY,GAOX;IAPD,WAAY,GAAG;QACX,cAAO,CAAA;QACP,8BAAuB,CAAA;QACvB,+BAAwB,CAAA;QACxB,2BAAoB,CAAA;QACpB,+BAAwB,CAAA;QACxB,iCAA0B,CAAA;IAC9B,CAAC,EAPW,GAAG,KAAH,GAAG,QAOd;IAoBD;;;IAGA;QAAA;YACI,aAAQ,GAAmB,EAAE,CAAC;SAgDjC;;;;;;;QAxCG,sCAAc,GAAd,UAAe,WAAuB,EAAE,GAAO,EAAE,OAAsB;YACnE,IAAG,WAAW,IAAI,WAAW,EAAC;gBAC1B,IAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;oBAAE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;gBAChE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,GAAE,OAAO,CAAC;aAC5C;iBAAK;gBACS;oBACP,OAAO,CAAC,KAAK,CAAC,mDAAiD,WAAW,kBAAe,CAAC,CAAC;iBAC9F;aACJ;SACJ;;;;;;QAOD,wCAAgB,GAAhB,UAAiB,WAAuB,EAAE,IAAW;;YACjD,IAAG,WAAW,IAAI,WAAW,EAAC;gBAC1B,IAAG,MAAA,MAAA,IAAI,CAAC,QAAQ,0CAAG,WAAW,CAAC,0CAAG,IAAI,CAAC,EAAC;oBACpC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;iBAC3C;aACJ;iBAAK;gBACS;oBACP,OAAO,CAAC,KAAK,CAAC,mDAAiD,WAAW,kBAAe,CAAC,CAAC;iBAC9F;aACJ;SACJ;QAED,sCAAc,GAAd,UAAe,KAAmB;;YAC9B,IAAM,GAAG,GAAE,KAAK,CAAC,MAAM,GAAG,WAAW,CAAC,GAAG,GAAC,WAAW,CAAC,IAAI,CAAC;YAC3D,IAAM,IAAI,GAAC,KAAK,CAAC,OAAO,GAAG,WAAW,CAAC,IAAI,GAAC,WAAW,CAAC,IAAI,CAAC;YAC7D,IAAM,KAAK,GAAC,KAAK,CAAC,QAAQ,GAAG,WAAW,CAAC,KAAK,GAAC,WAAW,CAAC,IAAI,CAAC;YAChE,IAAM,IAAI,GAAE,KAAK,CAAC,OAAO,GAAG,WAAW,CAAC,OAAO,GAAC,WAAW,CAAC,IAAI,CAAC;YACjE,IAAM,WAAW,GAAG,GAAG,GAAG,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC;YAC9C,IAAM,OAAO,GAAG,KAAK,CAAC,GAAG,CAAC;YAC1B,IAAM,OAAO,GAAG,MAAA,MAAA,IAAI,CAAC,QAAQ,0CAAG,WAAW,CAAC,0CAAG,OAAO,CAAC,CAAC;YACxD,IAAG,OAAO,EAAC;gBACP,OAAO,EAAE,CAAC;aACb;SACJ;QACL,oBAAC;IAAD,CAAC;;ICjGM,IAAM,cAAc,GAAG;QAC1B,UAAU,EAAC,YAAY;QACvB,cAAc,EAAC,gBAAgB;QAC/B,cAAc,EAAC,gBAAgB;QAC/B,OAAO,EAAC,SAAS;QACjB,MAAM,EAAC,QAAQ;QACf,mBAAmB,EAAC,qBAAqB;QACzC,qBAAqB,EAAC,uBAAuB;QAC7C,kBAAkB,EAAC,oBAAoB;KAC1C;;;;;;;;;;;;;;;;ICTM,IAAM,cAAc,GAAG;QAC1B,YAAY,EAAC,cAAc;QAC3B,WAAW,EAAC,aAAa;QACzB,cAAc,EAAC,gBAAgB;KAClC;;ICFD;QAAA;YACI,YAAO,GAA2B,IAAI,GAAG,EAAE,CAAC;SAyB/C;;;;;;;QAjBG,6BAAG,GAAH,UAAI,UAAiB,EAAE,MAAiB;YACpC,IAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,EAAC;gBACjB;oBACP,OAAO,CAAC,KAAK,CAAC,YAAU,UAAU,sBAAmB,CAAC,CAAC;iBAC1D;gBACD,OAAO;aACV;YACD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;SACxC;;;;;QAMD,6BAAG,GAAH,UAAI,UAAiB;YACjB,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;SACvC;QACL,sBAAC;IAAD,CAAC;;ICxBD;QAAyCA,gCAAe;QAAxD;YAAA,qEAmCC;YAhCG,iBAAW,GAAmB,EAAE,CAAC;;SAgCpC;QA9BG,4BAAO,GAAP,UAAQ,IAAa;YACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,gBAAgB,EAAE,CAAC;SAC3B;QAEO,oCAAe,GAAvB;YAAA,iBAcC;YAbG,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;YAC5B,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACvC,IAAM,KAAK,GAAG,UAAC,UAAmB;;gBAC9B,IAAM,QAAQ,GAAG,UAAU,CAAC,cAAc,CAAC;gBAC3C,MAAA,UAAU,CAAC,KAAK,0CAAE,OAAO,CAAC,UAAA,CAAC;oBACvB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBAC5B,CAAC,CAAC;gBACH,QAAQ,CAAC,OAAO,CAAC,UAAA,CAAC;oBACd,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBACzB,KAAK,CAAC,CAAC,CAAC,CAAC;iBACZ,CAAC,CAAC;aACN,CAAC;YACF,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC1B;QAED,gCAAW,GAAX;YACI,OAAO,IAAI,CAAC;SACf;QAKL,iBAAC;IAAD,CAnCA,CAAyC,eAAe;;ICOxD;QAAgCA,gCAAU;QAA1C;YAAA,qEAoJC;YAnJW,gBAAU,GAAGE,mBAAW,CAAC,MAAM,CAAC;YAEhC,aAAO,GAAoB,EAAC,WAAW,EAAC,EAAE,EAAE,YAAY,EAAC,EAAE,EAAC,CAAC;;SAiJxE;QA/IG,sBAAY,mCAAW;iBAAvB;gBACI,OAAO,IAAI,CAAC,UAAU,KAAKA,mBAAW,CAAC,GAAG,IAAI,IAAI,CAAC,UAAU,KAAGA,mBAAW,CAAC,MAAM,CAAC;aACtF;;;WAAA;QAGD,sCAAiB,GAAjB;YAAA,iBA2GC;YA1GG,IAAM,cAAc,GAAG,UAAC,MAAe,EAAE,KAAY;gBACjD,IAAM,QAAQ,GAAE,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,eAAe,KAAK,KAAI,CAAC,UAAU,GAAA,CAAC,CAAC;gBACvF,IAAG,CAAC,QAAQ,CAAC,MAAM;oBAAE,OAAO;gBAC5B,IAAM,cAAc,GAAG;oBACnB,IAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,KAAI,CAAC,WAAW,GAAC,GAAG,GAAC,GAAG,CAAC,CAAC;oBAChE,IAAM,WAAW,GAAG,QAAQ,CAAC,MAAM,CAAC,UAAC,KAAY,EAAE,KAAc;wBAC7D,OAAO,KAAK,GAAG,KAAK,CAAC,cAAc,CAAC,CAAC;qBACxC,EAAE,CAAC,QAAQ,CAAC,MAAM,GAAC,CAAC,IAAI,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;oBACnD,OAAO,MAAM,GAAG,WAAW,GAAG,CAAC,CAAC;iBACnC,CAAC;gBAEF,IAAM,KAAK,GAAG,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC;gBACjC,IAAI,IAAW,CAAC;gBAChB,IAAI,IAAW,CAAC;gBAChB,IAAI,SAAgB,CAAC;gBACrB,QAAO,KAAI,CAAC,UAAU;oBACtB,KAAKA,mBAAW,CAAC,IAAI;wBACjB,IAAI,GAAG,cAAc,EAAE,CAAC;wBACxB,SAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,QAAQ,CAAC,GAAG,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,MAAM,CAAC,KAAK,GAAA,CAAC,CAAC,GAAG,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC7F,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK;;4BACnB,KAAK,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,WAAW,CAAC,KAAK,GAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,GAAC,CAAC,KAAK,CAAC,cAAc,CAAC,GAAC,KAAK,CAAC,MAAM,CAAC,MAAM,IAAE,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;4BAClK,IAAI,KAAK,KAAK,CAAC,cAAc,CAAC,GAAG,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;4BAC3D,IAAG,MAAA,KAAK,CAAC,cAAc,0CAAE,MAAM,EAAC;gCAC5B,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;6BACpC;yBACJ,CAAC,CAAC;wBACH,MAAM;oBACV,KAAKA,mBAAW,CAAC,GAAG;wBAChB,IAAI,GAAG,cAAc,EAAE,CAAC;wBACxB,SAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,QAAQ,CAAC,GAAG,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,MAAM,CAAC,MAAM,GAAA,CAAC,CAAC,GAAG,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC9F,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK;;4BACnB,KAAK,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,WAAW,CAAC,IAAI,GAAC,CAAC,KAAK,CAAC,cAAc,CAAC,GAAC,KAAK,CAAC,MAAM,CAAC,KAAK,IAAE,CAAC,EAAE,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;4BACpK,IAAI,KAAK,KAAK,CAAC,cAAc,CAAC,GAAG,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;4BAC3D,IAAG,MAAA,KAAK,CAAC,cAAc,0CAAE,MAAM,EAAC;gCAC5B,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;6BACpC;yBACJ,CAAC,CAAC;wBAEH,MAAM;oBACV,KAAKA,mBAAW,CAAC,KAAK;wBAClB,IAAI,GAAG,cAAc,EAAE,CAAC;wBACxB,SAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,QAAQ,CAAC,GAAG,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,MAAM,CAAC,KAAK,GAAA,CAAC,CAAC,GAAG,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC7F,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK;;4BACnB,KAAK,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,WAAW,CAAC,KAAK,EAAE,IAAI,GAAC,CAAC,KAAK,CAAC,cAAc,CAAC,GAAC,KAAK,CAAC,MAAM,CAAC,MAAM,IAAE,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;4BAC/I,IAAI,KAAK,KAAK,CAAC,cAAc,CAAC,GAAG,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;4BAC3D,IAAG,MAAA,KAAK,CAAC,cAAc,0CAAE,MAAM,EAAC;gCAC5B,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;6BACpC;yBACJ,CAAC,CAAC;wBACH,MAAM;oBACV,KAAKA,mBAAW,CAAC,MAAM;wBACnB,IAAI,GAAG,cAAc,EAAE,CAAC;wBACxB,SAAS,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,QAAQ,CAAC,GAAG,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,MAAM,CAAC,MAAM,GAAA,CAAC,CAAC,GAAG,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC;wBAC9F,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK;;4BACnB,KAAK,CAAC,YAAY,CAAC,KAAK,EAAE,IAAI,WAAW,CAAC,IAAI,GAAC,CAAC,KAAK,CAAC,cAAc,CAAC,GAAC,KAAK,CAAC,MAAM,CAAC,KAAK,IAAE,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;4BAC9I,IAAI,KAAK,KAAK,CAAC,cAAc,CAAC,GAAG,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;4BAC3D,IAAG,MAAA,KAAK,CAAC,cAAc,0CAAE,MAAM,EAAC;gCAC5B,cAAc,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;6BACpC;yBACJ,CAAC,CAAC;wBACH,MAAM;iBACT;gBAED,QAAQ,CAAC,OAAO,CAAC,UAAA,KAAK;oBAClB,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,UAAA,IAAI,IAAE,OAAA,IAAI,CAAC,MAAM,KAAG,KAAK,GAAA,CAAC,CAAC;oBAC5D,KAAK,CAAC,OAAO,CAAC,UAAA,IAAI;wBACd,QAAO,KAAI,CAAC,UAAU;4BACtB,KAAKA,mBAAW,CAAC,IAAI;gCACjB,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAEA,mBAAW,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gCAClE,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAEA,mBAAW,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;gCACpE,MAAM;4BACV,KAAKA,mBAAW,CAAC,GAAG;gCAChB,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAEA,mBAAW,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;gCACjE,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAEA,mBAAW,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;gCACrE,MAAM;4BACV,KAAKA,mBAAW,CAAC,KAAK;gCAClB,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAEA,mBAAW,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gCACnE,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAEA,mBAAW,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;gCACnE,MAAM;4BACV,KAAKA,mBAAW,CAAC,MAAM;gCACnB,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAEA,mBAAW,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gCACpE,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAEA,mBAAW,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;gCAClE,MAAM;yBACT;qBACJ,CAAC,CAAC;iBACN,CAAC,CAAC;aACN,CAAC;YAEF,IAAI,UAAiB,CAAC;YACtB,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YAC1C,QAAO,IAAI,CAAC,UAAU;gBACtB,KAAKA,mBAAW,CAAC,GAAG;oBAChB,UAAU,GAAG,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;oBACtD,MAAM;gBACV,KAAKA,mBAAW,CAAC,MAAM;oBACnB,UAAU,GAAG,UAAU,CAAC,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;oBAC1E,MAAM;gBACV,KAAKA,mBAAW,CAAC,IAAI;oBACjB,UAAU,GAAG,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;oBACtD,MAAM;gBACV,KAAKA,mBAAW,CAAC,KAAK;oBAClB,UAAU,GAAG,UAAU,CAAC,CAAC,GAAC,UAAU,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;oBACvE,MAAM;aACT;YACD,cAAc,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;SAE/C;QAGD,kCAAa,GAAb;YAAA,iBAoBC;YAnBG,CAACA,mBAAW,CAAC,GAAG,EAAEA,mBAAW,CAAC,MAAM,EAAEA,mBAAW,CAAC,IAAI,EAAEA,mBAAW,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAA,SAAS;gBACxF,KAAI,CAAC,UAAU,GAAG,SAAS,CAAC;gBAC5B,IAAM,gBAAgB,GAAG,UAAC,MAAe;oBACrC,IAAM,QAAQ,GAAE,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,CAAC,eAAe,KAAK,KAAI,CAAC,UAAU,GAAA,CAAC,CAAC;oBACvF,IAAM,OAAO,GAAG,KAAI,CAAC,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,GAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC;oBAE5E,IAAG,CAAC,QAAQ,CAAC,MAAM;wBAAE,CAAQ;oBAE7B,IAAM,OAAO,GAAG,QAAQ,CAAC,MAAM,CAAC,UAAC,IAAI,EAAE,GAAG;wBACtC,OAAO,IAAI,GAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;qBACrC,EAAE,CAAC,QAAQ,CAAC,MAAM,GAAC,CAAC,IAAI,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;oBACnD,IAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;oBACvC,MAAM,CAAC,cAAc,CAAC,GAAG,GAAG,CAAC;oBAC7B,OAAO,GAAG,CAAC;iBACd,CAAC;gBAEF,gBAAgB,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC;gBAClC,KAAI,CAAC,iBAAiB,EAAE,CAAC;aAC5B,CAAC,CAAC;SACN;QAED,qCAAgB,GAAhB;YAAA,iBAKC;YAJG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,UAAA,IAAI;gBACzB,IAAM,KAAK,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBAC1D,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,iBAAiB,CAAC;aACxD,CAAC,CAAC;SACN;QACL,iBAAC;IAAD,CApJA,CAAgC,UAAU;;;;;;;;;;ICN1C;;;;;;;;;;;QAWa,eAAe,GAAG;QAC3B,eAAe,EAAC,iBAAiB;QACjC,OAAO,EAAC,SAAS;QACjB,SAAS,EAAC,WAAW;QACrB,SAAS,EAAC,WAAW;QACrB,UAAU,EAAC,YAAY;MACzB;IAQF;;;;QAQI,0BAAY,OAAiB;YAA7B,iBAGC;YALD,YAAO,GAAG,IAAI,GAAG,EAAyB,CAAC;;;;;YAkDnC,oBAAe,GAAiB,UAAC,OAAiB;gBACtD,IAAG,CAAC,KAAI,CAAC,SAAS,CAAC,MAAM;oBAAE,OAAO,KAAK,CAAC;gBAExC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;gBAC1C,OAAO,IAAI,CAAC;aACf,CAAA;;;;;YAMO,oBAAe,GAAiB,UAAC,OAAiB;gBACtD,IAAG,CAAC,KAAI,CAAC,SAAS,CAAC,MAAM;oBAAE,OAAO,KAAK,CAAC;gBAExC,IAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;gBAC1B,IAAM,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBACrC,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAA,KAAK;oBACxB,IAAG,KAAK,YAAY,iBAAiB,EAAC;wBAClC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;qBACpC;yBAAK;wBACF,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;qBAClC;iBACJ,CAAC,CAAC;gBACH,OAAO,IAAI,CAAC;aACf,CAAA;;;;;YAMO,sBAAiB,GAAiB,UAAC,OAAiB;gBACxD,IAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;gBAC1B,IAAM,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;gBACpC,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAA,KAAK;oBACxB,IAAG,KAAK,YAAY,iBAAiB,EAAC;wBAClC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;qBACpC;yBAAK;wBACF,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;qBAClC;iBACJ,CAAC,CAAC;gBACH,OAAO,IAAI,CAAC;aACf,CAAA;;;;;YAMO,sBAAiB,GAAiB,UAAC,OAAiB;gBACxD,IAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;gBAC1B,IAAM,QAAQ,GAAG,IAAI,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBACrC,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAA,KAAK;oBACxB,IAAG,KAAK,YAAY,iBAAiB,EAAC;wBAClC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;qBACpC;yBAAK;wBACF,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;qBAClC;iBACJ,CAAC,CAAC;gBACH,OAAO,IAAI,CAAC;aACf,CAAA;;;;;YAMO,uBAAkB,GAAiB,UAAC,OAAiB;gBACzD,IAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;gBAC1B,IAAM,QAAQ,GAAG,IAAI,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBACpC,KAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAA,KAAK;oBACxB,IAAG,KAAK,YAAY,iBAAiB,EAAC;wBAClC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;qBACpC;yBAAK;wBACF,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;qBAClC;iBACJ,CAAC,CAAC;gBACH,OAAO,IAAI,CAAC;aACf,CAAA;YA1HG,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;YACvB,IAAI,CAAC,uBAAuB,EAAE,CAAC;SAClC;;;;;;QAOM,kCAAO,GAAd,UAAe,UAAiB;YAC5B,IAAM,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACnD,IAAG,CAAC,aAAa,EAAC;gBACH;oBACP,OAAO,CAAC,KAAK,CAAC,mFAAiF,UAAY,CAAC,CAAC;iBAChH;gBACD,OAAO,KAAK,CAAC;aAChB;YAED,IAAM,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAC3C,OAAO,MAAM,CAAC;SACjB;;;;;;QAOM,mCAAQ,GAAf,UAAgB,UAAiB,EAAE,OAAqB;YACpD,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;SACzC;QAED,sBAAY,uCAAS;iBAArB;;gBACI,OAAO,MAAA,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,UAAU,EAAE,0CAAE,kBAAkB,CAAC;aACtE;;;WAAA;QAEO,kDAAuB,GAA/B;YACI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YACxE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;YACpE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAChE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,UAAU,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC;YACtE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,SAAS,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;SACvE;QAkFL,uBAAC;IAAD,CAAC;;IClKD;IACA;AACA;IACA;IACA;AACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACA;IACA,IAAI,aAAa,GAAG,SAAS,CAAC,EAAE,CAAC,EAAE;IACnC,IAAI,aAAa,GAAG,MAAM,CAAC,cAAc;IACzC,SAAS,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;IACpF,QAAQ,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC1G,IAAI,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/B,CAAC,CAAC;AACF;IACO,SAAS,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE;IAChC,IAAI,IAAI,OAAO,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,IAAI;IAC7C,QAAQ,MAAM,IAAI,SAAS,CAAC,sBAAsB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,+BAA+B,CAAC,CAAC;IAClG,IAAI,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxB,IAAI,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;IAC3C,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACzF,CAAC;AAuCD;IACO,SAAS,SAAS,CAAC,OAAO,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE;IAC7D,IAAI,SAAS,KAAK,CAAC,KAAK,EAAE,EAAE,OAAO,KAAK,YAAY,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,UAAU,OAAO,EAAE,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;IAChH,IAAI,OAAO,KAAK,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,EAAE,UAAU,OAAO,EAAE,MAAM,EAAE;IAC/D,QAAQ,SAAS,SAAS,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;IACnG,QAAQ,SAAS,QAAQ,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE;IACtG,QAAQ,SAAS,IAAI,CAAC,MAAM,EAAE,EAAE,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,EAAE;IACtH,QAAQ,IAAI,CAAC,CAAC,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;IAC9E,KAAK,CAAC,CAAC;IACP,CAAC;AACD;IACO,SAAS,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE;IAC3C,IAAI,IAAI,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACrH,IAAI,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,MAAM,KAAK,UAAU,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,WAAW,EAAE,OAAO,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC7J,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,OAAO,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IACtE,IAAI,SAAS,IAAI,CAAC,EAAE,EAAE;IACtB,QAAQ,IAAI,CAAC,EAAE,MAAM,IAAI,SAAS,CAAC,iCAAiC,CAAC,CAAC;IACtE,QAAQ,OAAO,CAAC,EAAE,IAAI;IACtB,YAAY,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IACzK,YAAY,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;IACpD,YAAY,QAAQ,EAAE,CAAC,CAAC,CAAC;IACzB,gBAAgB,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM;IAC9C,gBAAgB,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;IACxE,gBAAgB,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;IACjE,gBAAgB,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;IACjE,gBAAgB;IAChB,oBAAoB,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE;IAChI,oBAAoB,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE;IAC1G,oBAAoB,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,MAAM,EAAE;IACzF,oBAAoB,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;IACvF,oBAAoB,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;IAC1C,oBAAoB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,SAAS;IAC3C,aAAa;IACb,YAAY,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IACvC,SAAS,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;IAClE,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;IACzF,KAAK;IACL,CAAC;AAaD;IACO,SAAS,QAAQ,CAAC,CAAC,EAAE;IAC5B,IAAI,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;IAClF,IAAI,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC5B,IAAI,IAAI,CAAC,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,QAAQ,EAAE,OAAO;IAClD,QAAQ,IAAI,EAAE,YAAY;IAC1B,YAAY,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC;IAC/C,YAAY,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC;IACpD,SAAS;IACT,KAAK,CAAC;IACN,IAAI,MAAM,IAAI,SAAS,CAAC,CAAC,GAAG,yBAAyB,GAAG,iCAAiC,CAAC,CAAC;IAC3F,CAAC;AACD;IACO,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;IAC7B,IAAI,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAC/D,IAAI,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACrB,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;IACrC,IAAI,IAAI;IACR,QAAQ,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACnF,KAAK;IACL,IAAI,OAAO,KAAK,EAAE,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE;IAC3C,YAAY;IACZ,QAAQ,IAAI;IACZ,YAAY,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC7D,SAAS;IACT,gBAAgB,EAAE,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE;IACzC,KAAK;IACL,IAAI,OAAO,EAAE,CAAC;IACd,CAAC;AAiBD;IACO,SAAS,aAAa,CAAC,EAAE,EAAE,IAAI,EAAE;IACxC,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE;IACrE,QAAQ,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IACxB,IAAI,OAAO,EAAE,CAAC;IACd,CAAC;AACD;IACO,SAAS,OAAO,CAAC,CAAC,EAAE;IAC3B,IAAI,OAAO,IAAI,YAAY,OAAO,IAAI,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC;AACD;IACO,SAAS,gBAAgB,CAAC,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE;IACjE,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;IAC3F,IAAI,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,UAAU,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;IAClE,IAAI,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC;IAC1H,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;IAC9I,IAAI,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE;IACtF,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,YAAY,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;IAC5H,IAAI,SAAS,OAAO,CAAC,KAAK,EAAE,EAAE,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,EAAE;IACtD,IAAI,SAAS,MAAM,CAAC,KAAK,EAAE,EAAE,MAAM,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,EAAE;IACtD,IAAI,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACtF,CAAC;AAOD;IACO,SAAS,aAAa,CAAC,CAAC,EAAE;IACjC,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,MAAM,IAAI,SAAS,CAAC,sCAAsC,CAAC,CAAC;IAC3F,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;IACvC,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,OAAO,QAAQ,KAAK,UAAU,GAAG,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,YAAY,EAAE,OAAO,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IACrN,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,UAAU,CAAC,EAAE,EAAE,OAAO,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;IACpK,IAAI,SAAS,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,OAAO,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,EAAE;IAChI;;ICtMO,SAAS,UAAU,CAAC,KAAK,EAAE;IAClC,IAAI,OAAO,OAAO,KAAK,KAAK,UAAU,CAAC;IACvC;;ICFO,SAAS,gBAAgB,CAAC,UAAU,EAAE;IAC7C,IAAI,IAAI,MAAM,GAAG,UAAU,QAAQ,EAAE;IACrC,QAAQ,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC7B,QAAQ,QAAQ,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC,KAAK,CAAC;IAC3C,KAAK,CAAC;IACN,IAAI,IAAI,QAAQ,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;IACtC,IAAI,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IACxD,IAAI,QAAQ,CAAC,SAAS,CAAC,WAAW,GAAG,QAAQ,CAAC;IAC9C,IAAI,OAAO,QAAQ,CAAC;IACpB;;ICRO,IAAI,mBAAmB,GAAG,gBAAgB,CAAC,UAAU,MAAM,EAAE;IACpE,IAAI,OAAO,SAAS,uBAAuB,CAAC,MAAM,EAAE;IACpD,QAAQ,MAAM,CAAC,IAAI,CAAC,CAAC;IACrB,QAAQ,IAAI,CAAC,OAAO,GAAG,MAAM;IAC7B,cAAc,MAAM,CAAC,MAAM,GAAG,2CAA2C,GAAG,MAAM,CAAC,GAAG,CAAC,UAAU,GAAG,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;IAChK,cAAc,EAAE,CAAC;IACjB,QAAQ,IAAI,CAAC,IAAI,GAAG,qBAAqB,CAAC;IAC1C,QAAQ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IAC7B,KAAK,CAAC;IACN,CAAC,CAAC;;ICVK,SAAS,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE;IACrC,IAAI,IAAI,GAAG,EAAE;IACb,QAAQ,IAAI,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACtC,QAAQ,CAAC,IAAI,KAAK,IAAI,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IAC3C,KAAK;IACL;;ICDA,IAAI,YAAY,IAAI,YAAY;IAChC,IAAI,SAAS,YAAY,CAAC,eAAe,EAAE;IAC3C,QAAQ,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;IAC/C,QAAQ,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAC5B,QAAQ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC/B,QAAQ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC/B,KAAK;IACL,IAAI,YAAY,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;IACrD,QAAQ,IAAI,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC;IAC7B,QAAQ,IAAI,MAAM,CAAC;IACnB,QAAQ,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;IAC1B,YAAY,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IAC/B,YAAY,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;IAC7C,YAAY,IAAI,UAAU,EAAE;IAC5B,gBAAgB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IACvC,gBAAgB,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;IAC/C,oBAAoB,IAAI;IACxB,wBAAwB,KAAK,IAAI,YAAY,GAAG,QAAQ,CAAC,UAAU,CAAC,EAAE,cAAc,GAAG,YAAY,CAAC,IAAI,EAAE,EAAE,CAAC,cAAc,CAAC,IAAI,EAAE,cAAc,GAAG,YAAY,CAAC,IAAI,EAAE,EAAE;IACxK,4BAA4B,IAAI,QAAQ,GAAG,cAAc,CAAC,KAAK,CAAC;IAChE,4BAA4B,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAClD,yBAAyB;IACzB,qBAAqB;IACrB,oBAAoB,OAAO,KAAK,EAAE,EAAE,GAAG,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE;IAC7D,4BAA4B;IAC5B,wBAAwB,IAAI;IAC5B,4BAA4B,IAAI,cAAc,IAAI,CAAC,cAAc,CAAC,IAAI,KAAK,EAAE,GAAG,YAAY,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC5H,yBAAyB;IACzB,gCAAgC,EAAE,IAAI,GAAG,EAAE,MAAM,GAAG,CAAC,KAAK,CAAC,EAAE;IAC7D,qBAAqB;IACrB,iBAAiB;IACjB,qBAAqB;IACrB,oBAAoB,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC5C,iBAAiB;IACjB,aAAa;IACb,YAAY,IAAI,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;IACvD,YAAY,IAAI,UAAU,CAAC,eAAe,CAAC,EAAE;IAC7C,gBAAgB,IAAI;IACpB,oBAAoB,eAAe,EAAE,CAAC;IACtC,iBAAiB;IACjB,gBAAgB,OAAO,CAAC,EAAE;IAC1B,oBAAoB,MAAM,GAAG,CAAC,YAAY,mBAAmB,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;IAC/E,iBAAiB;IACjB,aAAa;IACb,YAAY,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;IAC7C,YAAY,IAAI,UAAU,EAAE;IAC5B,gBAAgB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IACvC,gBAAgB,IAAI;IACpB,oBAAoB,KAAK,IAAI,YAAY,GAAG,QAAQ,CAAC,UAAU,CAAC,EAAE,cAAc,GAAG,YAAY,CAAC,IAAI,EAAE,EAAE,CAAC,cAAc,CAAC,IAAI,EAAE,cAAc,GAAG,YAAY,CAAC,IAAI,EAAE,EAAE;IACpK,wBAAwB,IAAI,UAAU,GAAG,cAAc,CAAC,KAAK,CAAC;IAC9D,wBAAwB,IAAI;IAC5B,4BAA4B,YAAY,CAAC,UAAU,CAAC,CAAC;IACrD,yBAAyB;IACzB,wBAAwB,OAAO,GAAG,EAAE;IACpC,4BAA4B,MAAM,GAAG,MAAM,KAAK,IAAI,IAAI,MAAM,KAAK,KAAK,CAAC,GAAG,MAAM,GAAG,EAAE,CAAC;IACxF,4BAA4B,IAAI,GAAG,YAAY,mBAAmB,EAAE;IACpE,gCAAgC,MAAM,GAAG,aAAa,CAAC,aAAa,CAAC,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;IAC9G,6BAA6B;IAC7B,iCAAiC;IACjC,gCAAgC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACjD,6BAA6B;IAC7B,yBAAyB;IACzB,qBAAqB;IACrB,iBAAiB;IACjB,gBAAgB,OAAO,KAAK,EAAE,EAAE,GAAG,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE;IACzD,wBAAwB;IACxB,oBAAoB,IAAI;IACxB,wBAAwB,IAAI,cAAc,IAAI,CAAC,cAAc,CAAC,IAAI,KAAK,EAAE,GAAG,YAAY,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACxH,qBAAqB;IACrB,4BAA4B,EAAE,IAAI,GAAG,EAAE,MAAM,GAAG,CAAC,KAAK,CAAC,EAAE;IACzD,iBAAiB;IACjB,aAAa;IACb,YAAY,IAAI,MAAM,EAAE;IACxB,gBAAgB,MAAM,IAAI,mBAAmB,CAAC,MAAM,CAAC,CAAC;IACtD,aAAa;IACb,SAAS;IACT,KAAK,CAAC;IACN,IAAI,YAAY,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE;IACrD,QAAQ,IAAI,EAAE,CAAC;IACf,QAAQ,IAAI,QAAQ,IAAI,QAAQ,KAAK,IAAI,EAAE;IAC3C,YAAY,IAAI,IAAI,CAAC,MAAM,EAAE;IAC7B,gBAAgB,YAAY,CAAC,QAAQ,CAAC,CAAC;IACvC,aAAa;IACb,iBAAiB;IACjB,gBAAgB,IAAI,QAAQ,YAAY,YAAY,EAAE;IACtD,oBAAoB,IAAI,QAAQ,CAAC,MAAM,IAAI,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;IACtE,wBAAwB,OAAO;IAC/B,qBAAqB;IACrB,oBAAoB,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IAC9C,iBAAiB;IACjB,gBAAgB,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,UAAU,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC9G,aAAa;IACb,SAAS;IACT,KAAK,CAAC;IACN,IAAI,YAAY,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,MAAM,EAAE;IAC1D,QAAQ,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;IACzC,QAAQ,OAAO,UAAU,KAAK,MAAM,KAAK,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;IACnG,KAAK,CAAC;IACN,IAAI,YAAY,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,MAAM,EAAE;IAC1D,QAAQ,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;IACzC,QAAQ,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,UAAU,IAAI,UAAU,GAAG,CAAC,UAAU,EAAE,MAAM,CAAC,GAAG,MAAM,CAAC;IACzI,KAAK,CAAC;IACN,IAAI,YAAY,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,MAAM,EAAE;IAC7D,QAAQ,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;IACzC,QAAQ,IAAI,UAAU,KAAK,MAAM,EAAE;IACnC,YAAY,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IACnC,SAAS;IACT,aAAa,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;IAC5C,YAAY,SAAS,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;IAC1C,SAAS;IACT,KAAK,CAAC;IACN,IAAI,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,QAAQ,EAAE;IACxD,QAAQ,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;IACzC,QAAQ,UAAU,IAAI,SAAS,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;IACtD,QAAQ,IAAI,QAAQ,YAAY,YAAY,EAAE;IAC9C,YAAY,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IACzC,SAAS;IACT,KAAK,CAAC;IACN,IAAI,YAAY,CAAC,KAAK,GAAG,CAAC,YAAY;IACtC,QAAQ,IAAI,KAAK,GAAG,IAAI,YAAY,EAAE,CAAC;IACvC,QAAQ,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC;IAC5B,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK,GAAG,CAAC;IACT,IAAI,OAAO,YAAY,CAAC;IACxB,CAAC,EAAE,CAAC,CAAC;IAGE,SAAS,cAAc,CAAC,KAAK,EAAE;IACtC,IAAI,QAAQ,KAAK,YAAY,YAAY;IACzC,SAAS,KAAK,IAAI,QAAQ,IAAI,KAAK,IAAI,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,EAAE;IAC5H,CAAC;IACD,SAAS,YAAY,CAAC,QAAQ,EAAE;IAChC,IAAI,IAAI,UAAU,CAAC,QAAQ,CAAC,EAAE;IAC9B,QAAQ,QAAQ,EAAE,CAAC;IACnB,KAAK;IACL,SAAS;IACT,QAAQ,QAAQ,CAAC,WAAW,EAAE,CAAC;IAC/B,KAAK;IACL;;IC7IO,IAAI,MAAM,GAAG;IACpB,IAAI,gBAAgB,EAAE,IAAI;IAC1B,IAAI,qBAAqB,EAAE,IAAI;IAC/B,IAAI,OAAO,EAAE,SAAS;IACtB,IAAI,qCAAqC,EAAE,KAAK;IAChD,IAAI,wBAAwB,EAAE,KAAK;IACnC,CAAC;;ICLM,IAAI,eAAe,GAAG;IAC7B,IAAI,UAAU,EAAE,YAAY;IAC5B,QAAQ,IAAI,IAAI,GAAG,EAAE,CAAC;IACtB,QAAQ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IACtD,YAAY,IAAI,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;IACrC,SAAS;IACT,QAAQ,IAAI,QAAQ,GAAG,eAAe,CAAC,QAAQ,CAAC;IAChD,QAAQ,OAAO,CAAC,CAAC,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,QAAQ,CAAC,UAAU,KAAK,UAAU,EAAE,KAAK,CAAC,KAAK,CAAC,EAAE,aAAa,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACxJ,KAAK;IACL,IAAI,YAAY,EAAE,UAAU,MAAM,EAAE;IACpC,QAAQ,IAAI,QAAQ,GAAG,eAAe,CAAC,QAAQ,CAAC;IAChD,QAAQ,OAAO,CAAC,CAAC,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,QAAQ,CAAC,YAAY,KAAK,YAAY,EAAE,MAAM,CAAC,CAAC;IACrH,KAAK;IACL,IAAI,QAAQ,EAAE,SAAS;IACvB,CAAC;;ICbM,SAAS,oBAAoB,CAAC,GAAG,EAAE;IAC1C,IAAI,eAAe,CAAC,UAAU,CAAC,YAAY;IAC3C,QAAQ,IAAI,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;IACvD,QAAQ,IAAI,gBAAgB,EAAE;IAC9B,YAAY,gBAAgB,CAAC,GAAG,CAAC,CAAC;IAClC,SAAS;IACT,aAAa;IACb,YAAY,MAAM,GAAG,CAAC;IACtB,SAAS;IACT,KAAK,CAAC,CAAC;IACP;;ICZO,SAAS,IAAI,GAAG;;ICAhB,IAAI,qBAAqB,GAAG,CAAC,YAAY,EAAE,OAAO,kBAAkB,CAAC,GAAG,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC;IACtG,SAAS,iBAAiB,CAAC,KAAK,EAAE;IACzC,IAAI,OAAO,kBAAkB,CAAC,GAAG,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;IACrD,CAAC;IACM,SAAS,gBAAgB,CAAC,KAAK,EAAE;IACxC,IAAI,OAAO,kBAAkB,CAAC,GAAG,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;IACrD,CAAC;IACM,SAAS,kBAAkB,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE;IACvD,IAAI,OAAO;IACX,QAAQ,IAAI,EAAE,IAAI;IAClB,QAAQ,KAAK,EAAE,KAAK;IACpB,QAAQ,KAAK,EAAE,KAAK;IACpB,KAAK,CAAC;IACN;;ICZA,IAAI,OAAO,GAAG,IAAI,CAAC;IACZ,SAAS,YAAY,CAAC,EAAE,EAAE;IACjC,IAcS;IACT,QAAQ,EAAE,EAAE,CAAC;IACb,KAAK;IACL,CAAC;IACM,SAAS,YAAY,CAAC,GAAG,EAAE;IAClC,IAAI,IAAI,MAAM,CAAC,qCAAqC,IAAI,OAAO,EAAE;IACjE,QAAQ,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC;IACnC,QAAQ,OAAO,CAAC,KAAK,GAAG,GAAG,CAAC;IAC5B,KAAK;IACL;;ICjBA,IAAI,UAAU,IAAI,UAAU,MAAM,EAAE;IACpC,IAAI,SAAS,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;IAClC,IAAI,SAAS,UAAU,CAAC,WAAW,EAAE;IACrC,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;IAC9C,QAAQ,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;IAChC,QAAQ,IAAI,WAAW,EAAE;IACzB,YAAY,KAAK,CAAC,WAAW,GAAG,WAAW,CAAC;IAC5C,YAAY,IAAI,cAAc,CAAC,WAAW,CAAC,EAAE;IAC7C,gBAAgB,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACvC,aAAa;IACb,SAAS;IACT,aAAa;IACb,YAAY,KAAK,CAAC,WAAW,GAAG,cAAc,CAAC;IAC/C,SAAS;IACT,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK;IACL,IAAI,UAAU,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE;IACzD,QAAQ,OAAO,IAAI,cAAc,CAAC,IAAI,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;IACzD,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;IACjD,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;IAC5B,YAAY,yBAAyB,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC;IACrE,SAAS;IACT,aAAa;IACb,YAAY,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IAC9B,SAAS;IACT,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,GAAG,EAAE;IAChD,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;IAC5B,YAAY,yBAAyB,CAAC,iBAAiB,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;IACpE,SAAS;IACT,aAAa;IACb,YAAY,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAClC,YAAY,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAC7B,SAAS;IACT,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;IAChD,QAAQ,IAAI,IAAI,CAAC,SAAS,EAAE;IAC5B,YAAY,yBAAyB,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC;IACnE,SAAS;IACT,aAAa;IACb,YAAY,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAClC,YAAY,IAAI,CAAC,SAAS,EAAE,CAAC;IAC7B,SAAS;IACT,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;IACnD,QAAQ,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;IAC1B,YAAY,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAClC,YAAY,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpD,YAAY,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;IACpC,SAAS;IACT,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE;IAClD,QAAQ,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACrC,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,GAAG,EAAE;IACjD,QAAQ,IAAI;IACZ,YAAY,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACxC,SAAS;IACT,gBAAgB;IAChB,YAAY,IAAI,CAAC,WAAW,EAAE,CAAC;IAC/B,SAAS;IACT,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY;IACjD,QAAQ,IAAI;IACZ,YAAY,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC;IACxC,SAAS;IACT,gBAAgB;IAChB,YAAY,IAAI,CAAC,WAAW,EAAE,CAAC;IAC/B,SAAS;IACT,KAAK,CAAC;IACN,IAAI,OAAO,UAAU,CAAC;IACtB,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;IAEjB,IAAI,cAAc,IAAI,UAAU,MAAM,EAAE;IACxC,IAAI,SAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IACtC,IAAI,SAAS,cAAc,CAAC,cAAc,EAAE,KAAK,EAAE,QAAQ,EAAE;IAC7D,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;IAC9C,QAAQ,IAAI,IAAI,CAAC;IACjB,QAAQ,IAAI,UAAU,CAAC,cAAc,CAAC,EAAE;IACxC,YAAY,IAAI,GAAG,cAAc,CAAC;IAClC,SAAS;IACT,aAAa,IAAI,cAAc,EAAE;IACjC,YAAY,CAAC,IAAI,GAAG,cAAc,CAAC,IAAI,EAAE,KAAK,GAAG,cAAc,CAAC,KAAK,EAAE,QAAQ,GAAG,cAAc,CAAC,QAAQ,EAAE;IAC3G,YAAY,IAAI,SAAS,CAAC;IAC1B,YAAY,IAAI,KAAK,IAAI,MAAM,CAAC,wBAAwB,EAAE;IAC1D,gBAAgB,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;IAC1D,gBAAgB,SAAS,CAAC,WAAW,GAAG,YAAY,EAAE,OAAO,KAAK,CAAC,WAAW,EAAE,CAAC,EAAE,CAAC;IACpF,aAAa;IACb,iBAAiB;IACjB,gBAAgB,SAAS,GAAG,cAAc,CAAC;IAC3C,aAAa;IACb,YAAY,IAAI,GAAG,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACpF,YAAY,KAAK,GAAG,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACxF,YAAY,QAAQ,GAAG,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACpG,SAAS;IACT,QAAQ,KAAK,CAAC,WAAW,GAAG;IAC5B,YAAY,IAAI,EAAE,IAAI,GAAG,oBAAoB,CAAC,IAAW,CAAC,GAAG,IAAI;IACjE,YAAY,KAAK,EAAE,oBAAoB,CAAC,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,CAAC,GAAG,KAAK,GAAG,mBAA0B,CAAC;IAChH,YAAY,QAAQ,EAAE,QAAQ,GAAG,oBAAoB,CAAC,QAAe,CAAC,GAAG,IAAI;IAC7E,SAAS,CAAC;IACV,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK;IACL,IAAI,OAAO,cAAc,CAAC;IAC1B,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;IAEf,SAAS,oBAAoB,CAAC,OAAO,EAAE,QAAQ,EAAE;IACjD,IAAI,OAAO,YAAY;IACvB,QAAQ,IAAI,IAAI,GAAG,EAAE,CAAC;IACtB,QAAQ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IACtD,YAAY,IAAI,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;IACrC,SAAS;IACT,QAAQ,IAAI;IACZ,YAAY,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,aAAa,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACnE,SAAS;IACT,QAAQ,OAAO,GAAG,EAAE;IACpB,YAAY,IAAI,MAAM,CAAC,qCAAqC,EAAE;IAC9D,gBAAgB,YAAY,CAAC,GAAG,CAAC,CAAC;IAClC,aAAa;IACb,iBAAiB;IACjB,gBAAgB,oBAAoB,CAAC,GAAG,CAAC,CAAC;IAC1C,aAAa;IACb,SAAS;IACT,KAAK,CAAC;IACN,CAAC;IACD,SAAS,mBAAmB,CAAC,GAAG,EAAE;IAClC,IAAI,MAAM,GAAG,CAAC;IACd,CAAC;IACD,SAAS,yBAAyB,CAAC,YAAY,EAAE,UAAU,EAAE;IAC7D,IAAI,IAAI,qBAAqB,GAAG,MAAM,CAAC,qBAAqB,CAAC;IAC7D,IAAI,qBAAqB,IAAI,eAAe,CAAC,UAAU,CAAC,YAAY,EAAE,OAAO,qBAAqB,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;IACjI,CAAC;IACM,IAAI,cAAc,GAAG;IAC5B,IAAI,MAAM,EAAE,IAAI;IAChB,IAAI,IAAI,EAAE,IAAI;IACd,IAAI,KAAK,EAAE,mBAAmB;IAC9B,IAAI,QAAQ,EAAE,IAAI;IAClB,CAAC;;IClJM,IAAI,UAAU,GAAG,CAAC,YAAY,EAAE,OAAO,CAAC,OAAO,MAAM,KAAK,UAAU,IAAI,MAAM,CAAC,UAAU,KAAK,cAAc,CAAC,EAAE,GAAG;;ICAlH,SAAS,QAAQ,CAAC,CAAC,EAAE;IAC5B,IAAI,OAAO,CAAC,CAAC;IACb;;ICMO,SAAS,aAAa,CAAC,GAAG,EAAE;IACnC,IAAI,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;IAC1B,QAAQ,OAAO,QAAQ,CAAC;IACxB,KAAK;IACL,IAAI,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE;IAC1B,QAAQ,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;IACtB,KAAK;IACL,IAAI,OAAO,SAAS,KAAK,CAAC,KAAK,EAAE;IACjC,QAAQ,OAAO,GAAG,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;IAC3E,KAAK,CAAC;IACN;;ICXA,IAAI,UAAU,IAAI,YAAY;IAC9B,IAAI,SAAS,UAAU,CAAC,SAAS,EAAE;IACnC,QAAQ,IAAI,SAAS,EAAE;IACvB,YAAY,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;IACxC,SAAS;IACT,KAAK;IACL,IAAI,UAAU,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,QAAQ,EAAE;IACpD,QAAQ,IAAI,UAAU,GAAG,IAAI,UAAU,EAAE,CAAC;IAC1C,QAAQ,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC;IACjC,QAAQ,UAAU,CAAC,QAAQ,GAAG,QAAQ,CAAC;IACvC,QAAQ,OAAO,UAAU,CAAC;IAC1B,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,cAAc,EAAE,KAAK,EAAE,QAAQ,EAAE;IAChF,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;IACzB,QAAQ,IAAI,UAAU,GAAG,YAAY,CAAC,cAAc,CAAC,GAAG,cAAc,GAAG,IAAI,cAAc,CAAC,cAAc,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC7H,QAAQ,YAAY,CAAC,YAAY;IACjC,YAAY,IAAI,EAAE,GAAG,KAAK,EAAE,QAAQ,GAAG,EAAE,CAAC,QAAQ,EAAE,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC;IACvE,YAAY,UAAU,CAAC,GAAG,CAAC,QAAQ;IACnC;IACA,oBAAoB,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC;IACrD,kBAAkB,MAAM;IACxB;IACA,wBAAwB,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC;IACpD;IACA,wBAAwB,KAAK,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC;IACzD,SAAS,CAAC,CAAC;IACX,QAAQ,OAAO,UAAU,CAAC;IAC1B,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE;IACzD,QAAQ,IAAI;IACZ,YAAY,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IACzC,SAAS;IACT,QAAQ,OAAO,GAAG,EAAE;IACpB,YAAY,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC5B,SAAS;IACT,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE,WAAW,EAAE;IAChE,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;IACzB,QAAQ,WAAW,GAAG,cAAc,CAAC,WAAW,CAAC,CAAC;IAClD,QAAQ,OAAO,IAAI,WAAW,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;IAC1D,YAAY,IAAI,YAAY,CAAC;IAC7B,YAAY,YAAY,GAAG,KAAK,CAAC,SAAS,CAAC,UAAU,KAAK,EAAE;IAC5D,gBAAgB,IAAI;IACpB,oBAAoB,IAAI,CAAC,KAAK,CAAC,CAAC;IAChC,iBAAiB;IACjB,gBAAgB,OAAO,GAAG,EAAE;IAC5B,oBAAoB,MAAM,CAAC,GAAG,CAAC,CAAC;IAChC,oBAAoB,YAAY,KAAK,IAAI,IAAI,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,YAAY,CAAC,WAAW,EAAE,CAAC;IAC3G,iBAAiB;IACjB,aAAa,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;IAChC,SAAS,CAAC,CAAC;IACX,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,UAAU,EAAE;IAC5D,QAAQ,IAAI,EAAE,CAAC;IACf,QAAQ,OAAO,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;IAChG,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAACE,UAAiB,CAAC,GAAG,YAAY;IAC1D,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;IAC5C,QAAQ,IAAI,UAAU,GAAG,EAAE,CAAC;IAC5B,QAAQ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IACtD,YAAY,UAAU,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;IAC3C,SAAS;IACT,QAAQ,OAAO,aAAa,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC;IAC/C,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,WAAW,EAAE;IAC5D,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;IACzB,QAAQ,WAAW,GAAG,cAAc,CAAC,WAAW,CAAC,CAAC;IAClD,QAAQ,OAAO,IAAI,WAAW,CAAC,UAAU,OAAO,EAAE,MAAM,EAAE;IAC1D,YAAY,IAAI,KAAK,CAAC;IACtB,YAAY,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,QAAQ,KAAK,GAAG,CAAC,EAAE,EAAE,EAAE,UAAU,GAAG,EAAE,EAAE,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,YAAY,EAAE,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;IAClJ,SAAS,CAAC,CAAC;IACX,KAAK,CAAC;IACN,IAAI,UAAU,CAAC,MAAM,GAAG,UAAU,SAAS,EAAE;IAC7C,QAAQ,OAAO,IAAI,UAAU,CAAC,SAAS,CAAC,CAAC;IACzC,KAAK,CAAC;IACN,IAAI,OAAO,UAAU,CAAC;IACtB,CAAC,EAAE,CAAC,CAAC;IAEL,SAAS,cAAc,CAAC,WAAW,EAAE;IACrC,IAAI,IAAI,EAAE,CAAC;IACX,IAAI,OAAO,CAAC,EAAE,GAAG,WAAW,KAAK,IAAI,IAAI,WAAW,KAAK,KAAK,CAAC,GAAG,WAAW,GAAG,MAAM,CAAC,OAAO,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,OAAO,CAAC;IACzI,CAAC;IACD,SAAS,UAAU,CAAC,KAAK,EAAE;IAC3B,IAAI,OAAO,KAAK,IAAI,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IACpG,CAAC;IACD,SAAS,YAAY,CAAC,KAAK,EAAE;IAC7B,IAAI,OAAO,CAAC,KAAK,IAAI,KAAK,YAAY,UAAU,MAAM,UAAU,CAAC,KAAK,CAAC,IAAI,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;IAClG;;IC/FO,SAAS,OAAO,CAAC,MAAM,EAAE;IAChC,IAAI,OAAO,UAAU,CAAC,MAAM,KAAK,IAAI,IAAI,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;IACnF,CAAC;IACM,SAAS,OAAO,CAAC,IAAI,EAAE;IAC9B,IAAI,OAAO,UAAU,MAAM,EAAE;IAC7B,QAAQ,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE;IAC7B,YAAY,OAAO,MAAM,CAAC,IAAI,CAAC,UAAU,YAAY,EAAE;IACvD,gBAAgB,IAAI;IACpB,oBAAoB,OAAO,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;IACpD,iBAAiB;IACjB,gBAAgB,OAAO,GAAG,EAAE;IAC5B,oBAAoB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACpC,iBAAiB;IACjB,aAAa,CAAC,CAAC;IACf,SAAS;IACT,QAAQ,MAAM,IAAI,SAAS,CAAC,wCAAwC,CAAC,CAAC;IACtE,KAAK,CAAC;IACN;;IChBA,IAAI,kBAAkB,IAAI,UAAU,MAAM,EAAE;IAC5C,IAAI,SAAS,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;IAC1C,IAAI,SAAS,kBAAkB,CAAC,WAAW,EAAE,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE;IACtF,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,WAAW,CAAC,IAAI,IAAI,CAAC;IAC3D,QAAQ,KAAK,CAAC,UAAU,GAAG,UAAU,CAAC;IACtC,QAAQ,KAAK,CAAC,KAAK,GAAG,MAAM;IAC5B,cAAc,UAAU,KAAK,EAAE;IAC/B,gBAAgB,IAAI;IACpB,oBAAoB,MAAM,CAAC,KAAK,CAAC,CAAC;IAClC,iBAAiB;IACjB,gBAAgB,OAAO,GAAG,EAAE;IAC5B,oBAAoB,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC3C,iBAAiB;IACjB,aAAa;IACb,cAAc,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC;IACrC,QAAQ,KAAK,CAAC,MAAM,GAAG,OAAO;IAC9B,cAAc,UAAU,GAAG,EAAE;IAC7B,gBAAgB,IAAI;IACpB,oBAAoB,OAAO,CAAC,GAAG,CAAC,CAAC;IACjC,iBAAiB;IACjB,gBAAgB,OAAO,GAAG,EAAE;IAC5B,oBAAoB,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC3C,iBAAiB;IACjB,wBAAwB;IACxB,oBAAoB,IAAI,CAAC,WAAW,EAAE,CAAC;IACvC,iBAAiB;IACjB,aAAa;IACb,cAAc,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC;IACtC,QAAQ,KAAK,CAAC,SAAS,GAAG,UAAU;IACpC,cAAc,YAAY;IAC1B,gBAAgB,IAAI;IACpB,oBAAoB,UAAU,EAAE,CAAC;IACjC,iBAAiB;IACjB,gBAAgB,OAAO,GAAG,EAAE;IAC5B,oBAAoB,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC3C,iBAAiB;IACjB,wBAAwB;IACxB,oBAAoB,IAAI,CAAC,WAAW,EAAE,CAAC;IACvC,iBAAiB;IACjB,aAAa;IACb,cAAc,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC;IACzC,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK;IACL,IAAI,kBAAkB,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;IAC3D,QAAQ,IAAI,EAAE,CAAC;IACf,QAAQ,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;IACjC,QAAQ,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChD,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,UAAU,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC/F,KAAK,CAAC;IACN,IAAI,OAAO,kBAAkB,CAAC;IAC9B,CAAC,CAAC,UAAU,CAAC,CAAC;;ICpDP,IAAI,qBAAqB,GAAG;IACnC,IAAI,GAAG,EAAE,YAAY;IACrB,QAAQ,OAAO,CAAC,qBAAqB,CAAC,QAAQ,IAAI,IAAI,EAAE,GAAG,EAAE,CAAC;IAC9D,KAAK;IACL,IAAI,QAAQ,EAAE,SAAS;IACvB,CAAC;;ICHD,IAAI,MAAM,IAAI,UAAU,MAAM,EAAE;IAChC,IAAI,SAAS,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;IAC9B,IAAI,SAAS,MAAM,CAAC,SAAS,EAAE,IAAI,EAAE;IACrC,QAAQ,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;IACzC,KAAK;IACL,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE;IAExD,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,OAAO,MAAM,CAAC;IAClB,CAAC,CAAC,YAAY,CAAC,CAAC;;ICXT,IAAI,gBAAgB,GAAG;IAC9B,IAAI,WAAW,EAAE,YAAY;IAC7B,QAAQ,IAAI,IAAI,GAAG,EAAE,CAAC;IACtB,QAAQ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IACtD,YAAY,IAAI,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;IACrC,SAAS;IACT,QAAQ,IAAI,QAAQ,GAAG,gBAAgB,CAAC,QAAQ,CAAC;IACjD,QAAQ,OAAO,CAAC,CAAC,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,QAAQ,CAAC,WAAW,KAAK,WAAW,EAAE,KAAK,CAAC,KAAK,CAAC,EAAE,aAAa,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC1J,KAAK;IACL,IAAI,aAAa,EAAE,UAAU,MAAM,EAAE;IACrC,QAAQ,IAAI,QAAQ,GAAG,gBAAgB,CAAC,QAAQ,CAAC;IACjD,QAAQ,OAAO,CAAC,CAAC,QAAQ,KAAK,IAAI,IAAI,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,QAAQ,CAAC,aAAa,KAAK,aAAa,EAAE,MAAM,CAAC,CAAC;IACvH,KAAK;IACL,IAAI,QAAQ,EAAE,SAAS;IACvB,CAAC;;ICXD,IAAI,WAAW,IAAI,UAAU,MAAM,EAAE;IACrC,IAAI,SAAS,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;IACnC,IAAI,SAAS,WAAW,CAAC,SAAS,EAAE,IAAI,EAAE;IAC1C,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,IAAI,IAAI,CAAC;IAC/D,QAAQ,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;IACpC,QAAQ,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC;IAC1B,QAAQ,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;IAC9B,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK;IACL,IAAI,WAAW,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE;IAC7D,QAAQ,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE;IAC5C,QAAQ,IAAI,IAAI,CAAC,MAAM,EAAE;IACzB,YAAY,OAAO,IAAI,CAAC;IACxB,SAAS;IACT,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IAC3B,QAAQ,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;IACzB,QAAQ,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;IACvC,QAAQ,IAAI,EAAE,IAAI,IAAI,EAAE;IACxB,YAAY,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;IAChE,SAAS;IACT,QAAQ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IAC5B,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IAC3B,QAAQ,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;IAC5E,QAAQ,OAAO,IAAI,CAAC;IACpB,KAAK,CAAC;IACN,IAAI,WAAW,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,SAAS,EAAE,GAAG,EAAE,KAAK,EAAE;IAC5E,QAAQ,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE;IAC5C,QAAQ,OAAO,gBAAgB,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;IAC1F,KAAK,CAAC;IACN,IAAI,WAAW,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,UAAU,EAAE,EAAE,EAAE,KAAK,EAAE;IAC5E,QAAQ,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE;IAC5C,QAAQ,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,EAAE;IAC7E,YAAY,OAAO,EAAE,CAAC;IACtB,SAAS;IACT,QAAQ,gBAAgB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;IAC3C,QAAQ,OAAO,SAAS,CAAC;IACzB,KAAK,CAAC;IACN,IAAI,WAAW,CAAC,SAAS,CAAC,OAAO,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE;IAC5D,QAAQ,IAAI,IAAI,CAAC,MAAM,EAAE;IACzB,YAAY,OAAO,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;IAC7D,SAAS;IACT,QAAQ,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IAC7B,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAChD,QAAQ,IAAI,KAAK,EAAE;IACnB,YAAY,OAAO,KAAK,CAAC;IACzB,SAAS;IACT,aAAa,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,IAAI,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE;IAC5D,YAAY,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;IACzE,SAAS;IACT,KAAK,CAAC;IACN,IAAI,WAAW,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;IAC9D,QAAQ,IAAI,OAAO,GAAG,KAAK,CAAC;IAC5B,QAAQ,IAAI,UAAU,CAAC;IACvB,QAAQ,IAAI;IACZ,YAAY,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7B,SAAS;IACT,QAAQ,OAAO,CAAC,EAAE;IAClB,YAAY,OAAO,GAAG,IAAI,CAAC;IAC3B,YAAY,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;IACpD,SAAS;IACT,QAAQ,IAAI,OAAO,EAAE;IACrB,YAAY,IAAI,CAAC,WAAW,EAAE,CAAC;IAC/B,YAAY,OAAO,UAAU,CAAC;IAC9B,SAAS;IACT,KAAK,CAAC;IACN,IAAI,WAAW,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;IACpD,QAAQ,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;IAC1B,YAAY,IAAI,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC;IAChE,YAAY,IAAI,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;IAC5C,YAAY,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC3D,YAAY,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACjC,YAAY,SAAS,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACrC,YAAY,IAAI,EAAE,IAAI,IAAI,EAAE;IAC5B,gBAAgB,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;IACnE,aAAa;IACb,YAAY,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;IAC9B,YAAY,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpD,SAAS;IACT,KAAK,CAAC;IACN,IAAI,OAAO,WAAW,CAAC;IACvB,CAAC,CAAC,MAAM,CAAC,CAAC;;ICnFV,IAAI,SAAS,IAAI,YAAY;IAC7B,IAAI,SAAS,SAAS,CAAC,mBAAmB,EAAE,GAAG,EAAE;IACjD,QAAQ,IAAI,GAAG,KAAK,KAAK,CAAC,EAAE,EAAE,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,EAAE;IACpD,QAAQ,IAAI,CAAC,mBAAmB,GAAG,mBAAmB,CAAC;IACvD,QAAQ,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACvB,KAAK;IACL,IAAI,SAAS,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE;IACjE,QAAQ,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,GAAG,CAAC,CAAC,EAAE;IAC5C,QAAQ,OAAO,IAAI,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAC/E,KAAK,CAAC;IACN,IAAI,SAAS,CAAC,GAAG,GAAG,qBAAqB,CAAC,GAAG,CAAC;IAC9C,IAAI,OAAO,SAAS,CAAC;IACrB,CAAC,EAAE,CAAC;;ICXJ,IAAI,cAAc,IAAI,UAAU,MAAM,EAAE;IACxC,IAAI,SAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;IACtC,IAAI,SAAS,cAAc,CAAC,eAAe,EAAE,GAAG,EAAE;IAClD,QAAQ,IAAI,GAAG,KAAK,KAAK,CAAC,EAAE,EAAE,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,EAAE;IACpD,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,eAAe,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC;IACpE,QAAQ,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;IAC3B,QAAQ,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;IAC9B,QAAQ,KAAK,CAAC,UAAU,GAAG,SAAS,CAAC;IACrC,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK;IACL,IAAI,cAAc,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,MAAM,EAAE;IACvD,QAAQ,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;IACnC,QAAQ,IAAI,IAAI,CAAC,OAAO,EAAE;IAC1B,YAAY,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACjC,YAAY,OAAO;IACnB,SAAS;IACT,QAAQ,IAAI,KAAK,CAAC;IAClB,QAAQ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IAC5B,QAAQ,GAAG;IACX,YAAY,KAAK,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,GAAG;IACtE,gBAAgB,MAAM;IACtB,aAAa;IACb,SAAS,SAAS,MAAM,GAAG,OAAO,CAAC,KAAK,EAAE,GAAG;IAC7C,QAAQ,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IAC7B,QAAQ,IAAI,KAAK,EAAE;IACnB,YAAY,QAAQ,MAAM,GAAG,OAAO,CAAC,KAAK,EAAE,GAAG;IAC/C,gBAAgB,MAAM,CAAC,WAAW,EAAE,CAAC;IACrC,aAAa;IACb,YAAY,MAAM,KAAK,CAAC;IACxB,SAAS;IACT,KAAK,CAAC;IACN,IAAI,OAAO,cAAc,CAAC;IAC1B,CAAC,CAAC,SAAS,CAAC,CAAC;;IChCN,IAAI,cAAc,GAAG,IAAI,cAAc,CAAC,WAAW,CAAC,CAAC;IACrD,IAAI,KAAK,GAAG,cAAc;;ICF1B,SAAS,aAAa,CAAC,KAAK,EAAE,SAAS,EAAE;IAChD,IAAI,OAAO,IAAI,UAAU,CAAC,UAAU,UAAU,EAAE;IAChD,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC;IAClB,QAAQ,OAAO,SAAS,CAAC,QAAQ,CAAC,YAAY;IAC9C,YAAY,IAAI,CAAC,KAAK,KAAK,CAAC,MAAM,EAAE;IACpC,gBAAgB,UAAU,CAAC,QAAQ,EAAE,CAAC;IACtC,aAAa;IACb,iBAAiB;IACjB,gBAAgB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC5C,gBAAgB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;IACxC,oBAAoB,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpC,iBAAiB;IACjB,aAAa;IACb,SAAS,CAAC,CAAC;IACX,KAAK,CAAC,CAAC;IACP;;IChBO,IAAI,WAAW,IAAI,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,IAAI,OAAO,CAAC,CAAC,MAAM,KAAK,QAAQ,IAAI,OAAO,CAAC,KAAK,UAAU,CAAC,EAAE,CAAC;;ICCzG,SAAS,SAAS,CAAC,KAAK,EAAE;IACjC,IAAI,OAAO,UAAU,CAAC,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;IAChF;;ICHO,SAAS,iBAAiB,GAAG;IACpC,IAAI,IAAI,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;IAC1D,QAAQ,OAAO,YAAY,CAAC;IAC5B,KAAK;IACL,IAAI,OAAO,MAAM,CAAC,QAAQ,CAAC;IAC3B,CAAC;IACM,IAAI,QAAQ,GAAG,iBAAiB,EAAE;;ICJlC,SAAS,mBAAmB,CAAC,KAAK,EAAE;IAC3C,IAAI,OAAO,UAAU,CAAC,KAAK,CAACA,UAAiB,CAAC,CAAC,CAAC;IAChD;;ICFO,SAAS,UAAU,CAAC,KAAK,EAAE;IAClC,IAAI,OAAO,UAAU,CAAC,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,KAAK,CAACC,QAAe,CAAC,CAAC,CAAC;IAC5F;;ICHO,SAAS,eAAe,CAAC,GAAG,EAAE;IACrC,IAAI,OAAO,MAAM,CAAC,aAAa,IAAI,UAAU,CAAC,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAAC;IACnH;;ICHO,SAAS,gCAAgC,CAAC,KAAK,EAAE;IACxD,IAAI,OAAO,IAAI,SAAS,CAAC,eAAe,IAAI,KAAK,KAAK,IAAI,IAAI,OAAO,KAAK,KAAK,QAAQ,GAAG,mBAAmB,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC,GAAG,0HAA0H,CAAC,CAAC;IACjQ;;ICAO,SAAS,kCAAkC,CAAC,cAAc,EAAE;IACnE,IAAI,OAAO,gBAAgB,CAAC,IAAI,EAAE,SAAS,EAAE,SAAS,oCAAoC,GAAG;IAC7F,QAAQ,IAAI,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC;IACpC,QAAQ,OAAO,WAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;IAC/C,YAAY,QAAQ,EAAE,CAAC,KAAK;IAC5B,gBAAgB,KAAK,CAAC;IACtB,oBAAoB,MAAM,GAAG,cAAc,CAAC,SAAS,EAAE,CAAC;IACxD,oBAAoB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;IACjC,gBAAgB,KAAK,CAAC;IACtB,oBAAoB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IAC/C,oBAAoB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;IACjC,gBAAgB,KAAK,CAAC;IAEtB,oBAAoB,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IACvD,gBAAgB,KAAK,CAAC;IACtB,oBAAoB,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;IACrE,oBAAoB,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7C,oBAAoB,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAChD,gBAAgB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;IAC9C,gBAAgB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;IACnD,gBAAgB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;IAC9C,gBAAgB,KAAK,CAAC;IACtB,oBAAoB,EAAE,CAAC,IAAI,EAAE,CAAC;IAC9B,oBAAoB,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClC,gBAAgB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACvC,gBAAgB,KAAK,CAAC;IACtB,oBAAoB,MAAM,CAAC,WAAW,EAAE,CAAC;IACzC,oBAAoB,OAAO,CAAC,CAAC,CAAC,CAAC;IAC/B,gBAAgB,KAAK,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;IACpC,aAAa;IACb,SAAS,CAAC,CAAC;IACX,KAAK,CAAC,CAAC;IACP,CAAC;IACM,SAAS,oBAAoB,CAAC,GAAG,EAAE;IAC1C,IAAI,OAAO,UAAU,CAAC,GAAG,KAAK,IAAI,IAAI,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC;IAC/E;;ICrBO,SAAS,SAAS,CAAC,KAAK,EAAE;IACjC,IAAI,IAAI,KAAK,YAAY,UAAU,EAAE;IACrC,QAAQ,OAAO,KAAK,CAAC;IACrB,KAAK;IACL,IAAI,IAAI,KAAK,IAAI,IAAI,EAAE;IACvB,QAAQ,IAAI,mBAAmB,CAAC,KAAK,CAAC,EAAE;IACxC,YAAY,OAAO,qBAAqB,CAAC,KAAK,CAAC,CAAC;IAChD,SAAS;IACT,QAAQ,IAAI,WAAW,CAAC,KAAK,CAAC,EAAE;IAChC,YAAY,OAAO,aAAa,CAAC,KAAK,CAAC,CAAC;IACxC,SAAS;IACT,QAAQ,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;IAC9B,YAAY,OAAO,WAAW,CAAC,KAAK,CAAC,CAAC;IACtC,SAAS;IACT,QAAQ,IAAI,eAAe,CAAC,KAAK,CAAC,EAAE;IACpC,YAAY,OAAO,iBAAiB,CAAC,KAAK,CAAC,CAAC;IAC5C,SAAS;IACT,QAAQ,IAAI,UAAU,CAAC,KAAK,CAAC,EAAE;IAC/B,YAAY,OAAO,YAAY,CAAC,KAAK,CAAC,CAAC;IACvC,SAAS;IACT,QAAQ,IAAI,oBAAoB,CAAC,KAAK,CAAC,EAAE;IACzC,YAAY,OAAO,sBAAsB,CAAC,KAAK,CAAC,CAAC;IACjD,SAAS;IACT,KAAK;IACL,IAAI,MAAM,gCAAgC,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IACD,SAAS,qBAAqB,CAAC,GAAG,EAAE;IACpC,IAAI,OAAO,IAAI,UAAU,CAAC,UAAU,UAAU,EAAE;IAChD,QAAQ,IAAI,GAAG,GAAG,GAAG,CAACD,UAAiB,CAAC,EAAE,CAAC;IAC3C,QAAQ,IAAI,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;IACvC,YAAY,OAAO,GAAG,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;IAC7C,SAAS;IACT,QAAQ,MAAM,IAAI,SAAS,CAAC,gEAAgE,CAAC,CAAC;IAC9F,KAAK,CAAC,CAAC;IACP,CAAC;IACM,SAAS,aAAa,CAAC,KAAK,EAAE;IACrC,IAAI,OAAO,IAAI,UAAU,CAAC,UAAU,UAAU,EAAE;IAChD,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IACrE,YAAY,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACtC,SAAS;IACT,QAAQ,UAAU,CAAC,QAAQ,EAAE,CAAC;IAC9B,KAAK,CAAC,CAAC;IACP,CAAC;IACD,SAAS,WAAW,CAAC,OAAO,EAAE;IAC9B,IAAI,OAAO,IAAI,UAAU,CAAC,UAAU,UAAU,EAAE;IAChD,QAAQ,OAAO;IACf,aAAa,IAAI,CAAC,UAAU,KAAK,EAAE;IACnC,YAAY,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;IACpC,gBAAgB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACvC,gBAAgB,UAAU,CAAC,QAAQ,EAAE,CAAC;IACtC,aAAa;IACb,SAAS,EAAE,UAAU,GAAG,EAAE,EAAE,OAAO,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;IAC5D,aAAa,IAAI,CAAC,IAAI,EAAE,oBAAoB,CAAC,CAAC;IAC9C,KAAK,CAAC,CAAC;IACP,CAAC;IACD,SAAS,YAAY,CAAC,QAAQ,EAAE;IAChC,IAAI,OAAO,IAAI,UAAU,CAAC,UAAU,UAAU,EAAE;IAChD,QAAQ,IAAI,GAAG,EAAE,EAAE,CAAC;IACpB,QAAQ,IAAI;IACZ,YAAY,KAAK,IAAI,UAAU,GAAG,QAAQ,CAAC,QAAQ,CAAC,EAAE,YAAY,GAAG,UAAU,CAAC,IAAI,EAAE,EAAE,CAAC,YAAY,CAAC,IAAI,EAAE,YAAY,GAAG,UAAU,CAAC,IAAI,EAAE,EAAE;IAC9I,gBAAgB,IAAI,KAAK,GAAG,YAAY,CAAC,KAAK,CAAC;IAC/C,gBAAgB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACvC,gBAAgB,IAAI,UAAU,CAAC,MAAM,EAAE;IACvC,oBAAoB,OAAO;IAC3B,iBAAiB;IACjB,aAAa;IACb,SAAS;IACT,QAAQ,OAAO,KAAK,EAAE,EAAE,GAAG,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE;IACjD,gBAAgB;IAChB,YAAY,IAAI;IAChB,gBAAgB,IAAI,YAAY,IAAI,CAAC,YAAY,CAAC,IAAI,KAAK,EAAE,GAAG,UAAU,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACxG,aAAa;IACb,oBAAoB,EAAE,IAAI,GAAG,EAAE,MAAM,GAAG,CAAC,KAAK,CAAC,EAAE;IACjD,SAAS;IACT,QAAQ,UAAU,CAAC,QAAQ,EAAE,CAAC;IAC9B,KAAK,CAAC,CAAC;IACP,CAAC;IACD,SAAS,iBAAiB,CAAC,aAAa,EAAE;IAC1C,IAAI,OAAO,IAAI,UAAU,CAAC,UAAU,UAAU,EAAE;IAChD,QAAQ,OAAO,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC,KAAK,CAAC,UAAU,GAAG,EAAE,EAAE,OAAO,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACnG,KAAK,CAAC,CAAC;IACP,CAAC;IACD,SAAS,sBAAsB,CAAC,cAAc,EAAE;IAChD,IAAI,OAAO,iBAAiB,CAAC,kCAAkC,CAAC,cAAc,CAAC,CAAC,CAAC;IACjF,CAAC;IACD,SAAS,OAAO,CAAC,aAAa,EAAE,UAAU,EAAE;IAC5C,IAAI,IAAI,eAAe,EAAE,iBAAiB,CAAC;IAC3C,IAAI,IAAI,GAAG,EAAE,EAAE,CAAC;IAChB,IAAI,OAAO,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;IACvD,QAAQ,IAAI,KAAK,EAAE,KAAK,CAAC;IACzB,QAAQ,OAAO,WAAW,CAAC,IAAI,EAAE,UAAU,EAAE,EAAE;IAC/C,YAAY,QAAQ,EAAE,CAAC,KAAK;IAC5B,gBAAgB,KAAK,CAAC;IACtB,oBAAoB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IAChD,oBAAoB,eAAe,GAAG,aAAa,CAAC,aAAa,CAAC,CAAC;IACnE,oBAAoB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;IACjC,gBAAgB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC;IAC3D,gBAAgB,KAAK,CAAC;IACtB,oBAAoB,IAAI,EAAE,iBAAiB,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACjG,oBAAoB,KAAK,GAAG,iBAAiB,CAAC,KAAK,CAAC;IACpD,oBAAoB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC3C,oBAAoB,IAAI,UAAU,CAAC,MAAM,EAAE;IAC3C,wBAAwB,OAAO,CAAC,CAAC,CAAC,CAAC;IACnC,qBAAqB;IACrB,oBAAoB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;IACjC,gBAAgB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACtC,gBAAgB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACvC,gBAAgB,KAAK,CAAC;IACtB,oBAAoB,KAAK,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC;IACtC,oBAAoB,GAAG,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;IAC3C,oBAAoB,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACnC,gBAAgB,KAAK,CAAC;IACtB,oBAAoB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IAC/C,oBAAoB,IAAI,EAAE,iBAAiB,IAAI,CAAC,iBAAiB,CAAC,IAAI,KAAK,EAAE,GAAG,eAAe,CAAC,MAAM,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACxH,oBAAoB,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;IACzD,gBAAgB,KAAK,CAAC;IACtB,oBAAoB,EAAE,CAAC,IAAI,EAAE,CAAC;IAC9B,oBAAoB,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;IACjC,gBAAgB,KAAK,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IACvC,gBAAgB,KAAK,CAAC;IACtB,oBAAoB,IAAI,GAAG,EAAE,MAAM,GAAG,CAAC,KAAK,CAAC;IAC7C,oBAAoB,OAAO,CAAC,CAAC,CAAC,CAAC;IAC/B,gBAAgB,KAAK,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;IACpC,gBAAgB,KAAK,EAAE;IACvB,oBAAoB,UAAU,CAAC,QAAQ,EAAE,CAAC;IAC1C,oBAAoB,OAAO,CAAC,CAAC,CAAC,CAAC;IAC/B,aAAa;IACb,SAAS,CAAC,CAAC;IACX,KAAK,CAAC,CAAC;IACP;;IC/IO,SAAS,iBAAiB,CAAC,KAAK,EAAE,SAAS,EAAE;IACpD,IAAI,OAAO,SAAS,GAAG,aAAa,CAAC,KAAK,EAAE,SAAS,CAAC,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC;IAC9E;;ICHO,SAAS,WAAW,CAAC,KAAK,EAAE;IACnC,IAAI,OAAO,KAAK,IAAI,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC/C;;ICHO,SAAS,WAAW,CAAC,KAAK,EAAE;IACnC,IAAI,OAAO,KAAK,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IAClD;;ICAO,SAAS,GAAG,CAAC,OAAO,EAAE,OAAO,EAAE;IACtC,IAAI,OAAO,OAAO,CAAC,UAAU,MAAM,EAAE,UAAU,EAAE;IACjD,QAAQ,IAAI,KAAK,GAAG,CAAC,CAAC;IACtB,QAAQ,MAAM,CAAC,SAAS,CAAC,IAAI,kBAAkB,CAAC,UAAU,EAAE,UAAU,KAAK,EAAE;IAC7E,YAAY,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;IACnE,SAAS,CAAC,CAAC,CAAC;IACZ,KAAK,CAAC,CAAC;IACP;;ICPA,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;IAC5B,SAAS,WAAW,CAAC,EAAE,EAAE,IAAI,EAAE;IAC/B,IAAI,OAAO,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,aAAa,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC;IACxF,CAAC;IACM,SAAS,gBAAgB,CAAC,EAAE,EAAE;IACrC,IAAI,OAAO,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,OAAO,WAAW,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;IAClE;;ICNO,SAAS,cAAc,CAAC,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,YAAY,EAAE,MAAM,EAAE,iBAAiB,EAAE,kBAAkB,EAAE;IACrI,IAAI,IAAI,MAAM,GAAG,EAAE,CAAC;IACpB,IAAI,IAAI,MAAM,GAAG,CAAC,CAAC;IACnB,IAAI,IAAI,KAAK,GAAG,CAAC,CAAC;IAClB,IAAI,IAAI,UAAU,GAAG,KAAK,CAAC;IAC3B,IAAI,IAAI,aAAa,GAAG,YAAY;IACpC,QAAQ,IAAI,UAAU,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,MAAM,EAAE;IACrD,YAAY,UAAU,CAAC,QAAQ,EAAE,CAAC;IAClC,SAAS;IACT,KAAK,CAAC;IACN,IAAI,IAAI,SAAS,GAAG,UAAU,KAAK,EAAE,EAAE,QAAQ,MAAM,GAAG,UAAU,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC;IAChH,IAAI,IAAI,UAAU,GAAG,UAAU,KAAK,EAAE;IACtC,QAAQ,MAAM,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACzC,QAAQ,MAAM,EAAE,CAAC;IACjB,QAAQ,IAAI,aAAa,GAAG,KAAK,CAAC;IAClC,QAAQ,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,kBAAkB,CAAC,UAAU,EAAE,UAAU,UAAU,EAAE;IAC9G,YAAY,YAAY,KAAK,IAAI,IAAI,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,YAAY,CAAC,UAAU,CAAC,CAAC;IACjG,YAAY,IAAI,MAAM,EAAE;IACxB,gBAAgB,SAAS,CAAC,UAAU,CAAC,CAAC;IACtC,aAAa;IACb,iBAAiB;IACjB,gBAAgB,UAAU,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC5C,aAAa;IACb,SAAS,EAAE,YAAY;IACvB,YAAY,aAAa,GAAG,IAAI,CAAC;IACjC,SAAS,EAAE,SAAS,EAAE,YAAY;IAClC,YAAY,IAAI,aAAa,EAAE;IAC/B,gBAAgB,IAAI;IACpB,oBAAoB,MAAM,EAAE,CAAC;IAC7B,oBAAoB,IAAI,OAAO,GAAG,YAAY;IAC9C,wBAAwB,IAAI,aAAa,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;IAC3D,wBAAwB,iBAAiB,GAAG,UAAU,CAAC,GAAG,CAAC,iBAAiB,CAAC,QAAQ,CAAC,YAAY,EAAE,OAAO,UAAU,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,UAAU,CAAC,aAAa,CAAC,CAAC;IACtK,qBAAqB,CAAC;IACtB,oBAAoB,OAAO,MAAM,CAAC,MAAM,IAAI,MAAM,GAAG,UAAU,EAAE;IACjE,wBAAwB,OAAO,EAAE,CAAC;IAClC,qBAAqB;IACrB,oBAAoB,aAAa,EAAE,CAAC;IACpC,iBAAiB;IACjB,gBAAgB,OAAO,GAAG,EAAE;IAC5B,oBAAoB,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC1C,iBAAiB;IACjB,aAAa;IACb,SAAS,CAAC,CAAC,CAAC;IACZ,KAAK,CAAC;IACN,IAAI,MAAM,CAAC,SAAS,CAAC,IAAI,kBAAkB,CAAC,UAAU,EAAE,SAAS,EAAE,YAAY;IAC/E,QAAQ,UAAU,GAAG,IAAI,CAAC;IAC1B,QAAQ,aAAa,EAAE,CAAC;IACxB,KAAK,CAAC,CAAC,CAAC;IACR,IAAI,OAAO,YAAY;IACvB,QAAQ,kBAAkB,KAAK,IAAI,IAAI,kBAAkB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,kBAAkB,EAAE,CAAC;IACrG,KAAK,CAAC;IACN;;IChDO,SAAS,QAAQ,CAAC,OAAO,EAAE,cAAc,EAAE,UAAU,EAAE;IAC9D,IAAI,IAAI,UAAU,KAAK,KAAK,CAAC,EAAE,EAAE,UAAU,GAAG,QAAQ,CAAC,EAAE;IACzD,IAAI,IAAI,UAAU,CAAC,cAAc,CAAC,EAAE;IACpC,QAAQ,OAAO,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,OAAO,GAAG,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,EAAE,OAAO,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC;IACzJ,KAAK;IACL,SAAS,IAAI,OAAO,cAAc,KAAK,QAAQ,EAAE;IACjD,QAAQ,UAAU,GAAG,cAAc,CAAC;IACpC,KAAK;IACL,IAAI,OAAO,OAAO,CAAC,UAAU,MAAM,EAAE,UAAU,EAAE,EAAE,OAAO,cAAc,CAAC,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;IACtH;;ICPA,IAAI,uBAAuB,GAAG,CAAC,aAAa,EAAE,gBAAgB,CAAC,CAAC;IAChE,IAAI,kBAAkB,GAAG,CAAC,kBAAkB,EAAE,qBAAqB,CAAC,CAAC;IACrE,IAAI,aAAa,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAC3B,SAAS,SAAS,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,cAAc,EAAE;IACtE,IAAI,IAAI,UAAU,CAAC,OAAO,CAAC,EAAE;IAC7B,QAAQ,cAAc,GAAG,OAAO,CAAC;IACjC,QAAQ,OAAO,GAAG,SAAS,CAAC;IAC5B,KAAK;IACL,IAAI,IAAI,cAAc,EAAE;IACxB,QAAQ,OAAO,SAAS,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC,CAAC;IAC5F,KAAK;IACL,IAAI,IAAI,EAAE,GAAG,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC;IACzC,UAAU,kBAAkB,CAAC,GAAG,CAAC,UAAU,UAAU,EAAE,EAAE,OAAO,UAAU,OAAO,EAAE,EAAE,OAAO,MAAM,CAAC,UAAU,CAAC,CAAC,SAAS,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;IAClJ;IACA,YAAY,uBAAuB,CAAC,MAAM,CAAC;IAC3C,kBAAkB,uBAAuB,CAAC,GAAG,CAAC,uBAAuB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;IACzF,kBAAkB,yBAAyB,CAAC,MAAM,CAAC;IACnD,sBAAsB,aAAa,CAAC,GAAG,CAAC,uBAAuB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;IACnF,sBAAsB,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAC1D,IAAI,IAAI,CAAC,GAAG,EAAE;IACd,QAAQ,IAAI,WAAW,CAAC,MAAM,CAAC,EAAE;IACjC,YAAY,OAAO,QAAQ,CAAC,UAAU,SAAS,EAAE,EAAE,OAAO,SAAS,CAAC,SAAS,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC;IAClI,SAAS;IACT,KAAK;IACL,IAAI,IAAI,CAAC,GAAG,EAAE;IACd,QAAQ,MAAM,IAAI,SAAS,CAAC,sBAAsB,CAAC,CAAC;IACpD,KAAK;IACL,IAAI,OAAO,IAAI,UAAU,CAAC,UAAU,UAAU,EAAE;IAChD,QAAQ,IAAI,OAAO,GAAG,YAAY;IAClC,YAAY,IAAI,IAAI,GAAG,EAAE,CAAC;IAC1B,YAAY,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;IAC1D,gBAAgB,IAAI,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;IACzC,aAAa;IACb,YAAY,OAAO,UAAU,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IACrE,SAAS,CAAC;IACV,QAAQ,GAAG,CAAC,OAAO,CAAC,CAAC;IACrB,QAAQ,OAAO,YAAY,EAAE,OAAO,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC;IACvD,KAAK,CAAC,CAAC;IACP,CAAC;IACD,SAAS,uBAAuB,CAAC,MAAM,EAAE,SAAS,EAAE;IACpD,IAAI,OAAO,UAAU,UAAU,EAAE,EAAE,OAAO,UAAU,OAAO,EAAE,EAAE,OAAO,MAAM,CAAC,UAAU,CAAC,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC;IACnH,CAAC;IACD,SAAS,uBAAuB,CAAC,MAAM,EAAE;IACzC,IAAI,OAAO,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;IAC/E,CAAC;IACD,SAAS,yBAAyB,CAAC,MAAM,EAAE;IAC3C,IAAI,OAAO,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAC3D,CAAC;IACD,SAAS,aAAa,CAAC,MAAM,EAAE;IAC/B,IAAI,OAAO,UAAU,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;IACzF;;ICrDO,SAAS,KAAK,CAAC,OAAO,EAAE,mBAAmB,EAAE,SAAS,EAAE;IAC/D,IAAI,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,CAAC,CAAC,EAAE;IAC5C,IAAI,IAAI,SAAS,KAAK,KAAK,CAAC,EAAE,EAAE,SAAS,GAAGE,KAAc,CAAC,EAAE;IAC7D,IAAI,IAAI,gBAAgB,GAAG,CAAC,CAAC,CAAC;IAC9B,IAAI,IAAI,mBAAmB,IAAI,IAAI,EAAE;IACrC,QAAQ,IAAI,WAAW,CAAC,mBAAmB,CAAC,EAAE;IAC9C,YAAY,SAAS,GAAG,mBAAmB,CAAC;IAC5C,SAAS;IACT,aAAa;IACb,YAAY,gBAAgB,GAAG,mBAAmB,CAAC;IACnD,SAAS;IACT,KAAK;IACL,IAAI,OAAO,IAAI,UAAU,CAAC,UAAU,UAAU,EAAE;IAChD,QAAQ,IAAI,GAAG,GAAG,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC,GAAG,EAAE,GAAG,OAAO,CAAC;IAC9E,QAAQ,IAAI,GAAG,GAAG,CAAC,EAAE;IACrB,YAAY,GAAG,GAAG,CAAC,CAAC;IACpB,SAAS;IACT,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC;IAClB,QAAQ,OAAO,SAAS,CAAC,QAAQ,CAAC,YAAY;IAC9C,YAAY,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;IACpC,gBAAgB,UAAU,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;IACrC,gBAAgB,IAAI,CAAC,IAAI,gBAAgB,EAAE;IAC3C,oBAAoB,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,gBAAgB,CAAC,CAAC;IAC/D,iBAAiB;IACjB,qBAAqB;IACrB,oBAAoB,UAAU,CAAC,QAAQ,EAAE,CAAC;IAC1C,iBAAiB;IACjB,aAAa;IACb,SAAS,EAAE,GAAG,CAAC,CAAC;IAChB,KAAK,CAAC,CAAC;IACP;;IChCO,SAAS,MAAM,CAAC,SAAS,EAAE,OAAO,EAAE;IAC3C,IAAI,OAAO,OAAO,CAAC,UAAU,MAAM,EAAE,UAAU,EAAE;IACjD,QAAQ,IAAI,KAAK,GAAG,CAAC,CAAC;IACtB,QAAQ,MAAM,CAAC,SAAS,CAAC,IAAI,kBAAkB,CAAC,UAAU,EAAE,UAAU,KAAK,EAAE,EAAE,OAAO,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC7J,KAAK,CAAC,CAAC;IACP;;ICHO,SAAS,GAAG,CAAC,cAAc,EAAE,KAAK,EAAE,QAAQ,EAAE;IACrD,IAAI,IAAI,WAAW,GAAG,UAAU,CAAC,cAAc,CAAC,IAAI,KAAK,IAAI,QAAQ;IACrE;IACA,YAAY,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE;IACtE,UAAU,cAAc,CAAC;IACzB,IAAI,OAAO,WAAW;IACtB,UAAU,OAAO,CAAC,UAAU,MAAM,EAAE,UAAU,EAAE;IAChD,YAAY,IAAI,EAAE,CAAC;IACnB,YAAY,CAAC,EAAE,GAAG,WAAW,CAAC,SAAS,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACnG,YAAY,IAAI,OAAO,GAAG,IAAI,CAAC;IAC/B,YAAY,MAAM,CAAC,SAAS,CAAC,IAAI,kBAAkB,CAAC,UAAU,EAAE,UAAU,KAAK,EAAE;IACjF,gBAAgB,IAAI,EAAE,CAAC;IACvB,gBAAgB,CAAC,EAAE,GAAG,WAAW,CAAC,IAAI,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;IACzG,gBAAgB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACvC,aAAa,EAAE,YAAY;IAC3B,gBAAgB,IAAI,EAAE,CAAC;IACvB,gBAAgB,OAAO,GAAG,KAAK,CAAC;IAChC,gBAAgB,CAAC,EAAE,GAAG,WAAW,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACtG,gBAAgB,UAAU,CAAC,QAAQ,EAAE,CAAC;IACtC,aAAa,EAAE,UAAU,GAAG,EAAE;IAC9B,gBAAgB,IAAI,EAAE,CAAC;IACvB,gBAAgB,OAAO,GAAG,KAAK,CAAC;IAChC,gBAAgB,CAAC,EAAE,GAAG,WAAW,CAAC,KAAK,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC;IACxG,gBAAgB,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACtC,aAAa,EAAE,YAAY;IAC3B,gBAAgB,IAAI,EAAE,EAAE,EAAE,CAAC;IAC3B,gBAAgB,IAAI,OAAO,EAAE;IAC7B,oBAAoB,CAAC,EAAE,GAAG,WAAW,CAAC,WAAW,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7G,iBAAiB;IACjB,gBAAgB,CAAC,EAAE,GAAG,WAAW,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACtG,aAAa,CAAC,CAAC,CAAC;IAChB,SAAS,CAAC;IACV;IACA,YAAY,QAAQ,CAAC;IACrB;;ICnCO,IAAI,qBAAqB,GAAG;IACnC,IAAI,OAAO,EAAE,IAAI;IACjB,IAAI,QAAQ,EAAE,KAAK;IACnB,CAAC,CAAC;IACK,SAAS,QAAQ,CAAC,gBAAgB,EAAE,EAAE,EAAE;IAC/C,IAAI,IAAI,EAAE,GAAG,EAAE,KAAK,KAAK,CAAC,GAAG,qBAAqB,GAAG,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,OAAO,EAAE,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC;IACtG,IAAI,OAAO,OAAO,CAAC,UAAU,MAAM,EAAE,UAAU,EAAE;IACjD,QAAQ,IAAI,QAAQ,GAAG,KAAK,CAAC;IAC7B,QAAQ,IAAI,SAAS,GAAG,IAAI,CAAC;IAC7B,QAAQ,IAAI,SAAS,GAAG,IAAI,CAAC;IAC7B,QAAQ,IAAI,UAAU,GAAG,KAAK,CAAC;IAC/B,QAAQ,IAAI,aAAa,GAAG,YAAY;IACxC,YAAY,SAAS,KAAK,IAAI,IAAI,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;IAC1F,YAAY,SAAS,GAAG,IAAI,CAAC;IAC7B,YAAY,IAAI,QAAQ,EAAE;IAC1B,gBAAgB,IAAI,EAAE,CAAC;IACvB,gBAAgB,UAAU,IAAI,UAAU,CAAC,QAAQ,EAAE,CAAC;IACpD,aAAa;IACb,SAAS,CAAC;IACV,QAAQ,IAAI,iBAAiB,GAAG,YAAY;IAC5C,YAAY,SAAS,GAAG,IAAI,CAAC;IAC7B,YAAY,UAAU,IAAI,UAAU,CAAC,QAAQ,EAAE,CAAC;IAChD,SAAS,CAAC;IACV,QAAQ,IAAI,aAAa,GAAG,UAAU,KAAK,EAAE;IAC7C,YAAY,QAAQ,SAAS,GAAG,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,kBAAkB,CAAC,UAAU,EAAE,aAAa,EAAE,iBAAiB,CAAC,CAAC,EAAE;IACpJ,SAAS,CAAC;IACV,QAAQ,IAAI,IAAI,GAAG,YAAY;IAC/B,YAAY,IAAI,QAAQ,EAAE;IAC1B,gBAAgB,QAAQ,GAAG,KAAK,CAAC;IACjC,gBAAgB,IAAI,KAAK,GAAG,SAAS,CAAC;IACtC,gBAAgB,SAAS,GAAG,IAAI,CAAC;IACjC,gBAAgB,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACvC,gBAAgB,CAAC,UAAU,IAAI,aAAa,CAAC,KAAK,CAAC,CAAC;IACpD,aAAa;IACb,SAAS,CAAC;IACV,QAAQ,MAAM,CAAC,SAAS,CAAC,IAAI,kBAAkB,CAAC,UAAU,EAAE,UAAU,KAAK,EAAE;IAC7E,YAAY,QAAQ,GAAG,IAAI,CAAC;IAC5B,YAAY,SAAS,GAAG,KAAK,CAAC;IAC9B,YAAY,EAAE,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAI,EAAE,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;IAC3F,SAAS,EAAE,YAAY;IACvB,YAAY,UAAU,GAAG,IAAI,CAAC;IAC9B,YAAY,EAAE,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,UAAU,CAAC,QAAQ,EAAE,CAAC;IAC/F,SAAS,CAAC,CAAC,CAAC;IACZ,KAAK,CAAC,CAAC;IACP;;IC5CO,SAAS,YAAY,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE;IAC1D,IAAI,IAAI,SAAS,KAAK,KAAK,CAAC,EAAE,EAAE,SAAS,GAAG,cAAc,CAAC,EAAE;IAC7D,IAAI,IAAI,MAAM,KAAK,KAAK,CAAC,EAAE,EAAE,MAAM,GAAG,qBAAqB,CAAC,EAAE;IAC9D,IAAI,IAAI,SAAS,GAAG,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;IAC/C,IAAI,OAAO,QAAQ,CAAC,YAAY,EAAE,OAAO,SAAS,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;IAC/D;;ICGA;;;IAGA;QAA8BN,8BAAe;QAA7C;YAAA,qEAyGC;YAjGW,gBAAU,GAAG,KAAK,CAAC;;SAiG9B;QA/FG,2BAAQ,GAAR;YACI,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,aAAa,EAAE,CAAC;SACxB;QAED,iCAAc,GAAd;YACI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;SAC1B;QAED,gCAAa,GAAb;YACI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;SAC3B;QAED,kCAAe,GAAf,UAAgB,KAAmB;;YAC/B,OAAO,CAAC,EAAC,MAAA,IAAI,CAAC,OAAO,CAAC,kBAAkB,0CAAE,MAAM,CAAA,CAAC;SACpD;;;;QAKO,gCAAa,GAArB;YAAA,iBAOC;YANG,IAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;YAC3C,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,EAAE,GAAG,CAAC,SAAS,EAAE,cAAI,OAAA,CAAC,KAAI,CAAC,UAAU,IAAI,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,CAAC,eAAe,CAAC,GAAA,CAAC,CAAC;YAClJ,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,EAAE,GAAG,CAAC,QAAQ,EAAE,cAAI,OAAA,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,CAAC,OAAO,CAAC,GAAA,CAAC,CAAC;YACrH,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,EAAE,GAAG,CAAC,UAAU,EAAE,cAAI,OAAA,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,GAAA,CAAC,CAAC;YACzH,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,EAAE,GAAG,CAAC,UAAU,EAAE,cAAI,OAAA,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,GAAA,CAAC,CAAC;YACzH,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,EAAE,GAAG,CAAC,WAAW,EAAE,cAAI,OAAA,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,CAAC,UAAU,CAAC,GAAA,CAAC,CAAC;SAC9H;;;;QAKO,mCAAgB,GAAxB;YAAA,iBAQC;YAPG,SAAS,CAAC,QAAQ,CAAC,eAAe,EAAE,SAAS,CAAC,CAAC,IAAI,CAC/C,GAAG,CAAC,UAAC,KAAmB;gBACpB,IAAG,KAAI,CAAC,eAAe,CAAC,KAAK,CAAC,EAAC;oBAC3B,KAAI,CAAC,OAAO,CAAC,UAAU,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;iBACjD;aACJ,CAAC,CACL,CAAC,SAAS,EAAE,CAAC;SACjB;;;;QAKO,yCAAsB,GAA9B;YAAA,iBA2CC;YA1CG,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;YACrB,IAAI,WAAW,GAAG,CAAC,CAAC;YACpB,IAAI,WAAW,GAAG,CAAC,CAAC;YAEpB,IAAM,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,IAAI,CAC/C,MAAM,CAAC,cAAI,OAAA,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,uBAAuB,GAAA,CAAC,EAC9D,GAAG,CAAC,UAAC,GAAc;gBACf,GAAG,CAAC,eAAe,EAAE,CAAC;gBACtB,GAAG,CAAC,cAAc,EAAE,CAAC;aACxB,CAAC,EAEF,YAAY,CAAC,EAAE,CAAC,EAChB,GAAG,CAAC,UAAC,GAAc;gBACf,WAAW,IAAE,GAAG,CAAC,aAAa,CAAC,CAAC;gBAChC,WAAW,IAAE,GAAG,CAAC,aAAa,CAAC,CAAC;aACnC,CAAC,CACL,CAAC;YAEF,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,UAAC,GAAc;gBACrD,OAAO,GAAG,CAAC,OAAO,KAAK,GAAG,CAAC,OAAO,IAAI,KAAK,EAAE,CAAC,CAAC;aAClD,CAAC,CAAC,CAAC,SAAS,CAAC,UAAC,GAAG;gBACd,IAAM,WAAW,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,OAAO,GAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,OAAO,GAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACvF,IAAG,GAAG,CAAC,MAAM,GAAC,CAAC,EAAC;oBACZ,IAAG,IAAI,CAAC,QAAQ,EAAE,GAAC,GAAG;wBAAC,OAAO;oBAC9B,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;iBAC3C;qBAAK;oBACF,IAAG,IAAI,CAAC,QAAQ,EAAE,GAAC,CAAC;wBAAC,OAAO;oBAC5B,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;iBAC1C;gBACD,WAAW,GAAG,CAAC,CAAC;gBAChB,WAAW,GAAG,CAAC,CAAC;aACnB,CAAC,CAAC;YAEH,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,UAAC,GAAc;gBAC1D,OAAO,CAAC,GAAG,CAAC,OAAO,IAAI,EAAE,GAAG,CAAC,OAAO,IAAI,KAAK,EAAE,CAAC,CAAC;aACpD,CAAC,CAAC,CAAC,SAAS,CAAC;gBACV,IAAM,MAAM,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;gBAC7E,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBAC/B,WAAW,GAAG,CAAC,CAAC;gBAChB,WAAW,GAAG,CAAC,CAAC;aACnB,CAAC,CAAC;SACN;QAED,4BAAS,GAAT;YACI,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAC;YACpC,IAAI,CAAC,qBAAqB,CAAC,WAAW,EAAE,CAAC;SAC5C;QACL,eAAC;IAAD,CAzGA,CAA8B,eAAe;;aCP7B,gBAAgB,CAAC,IAAkB,EAAE,KAAuB,EAAE,IAAQ;QAAR,qBAAA,EAAA,QAAQ;QAElF,IAAM,OAAO,GAAG;YACZ,IAAM,CAAC,GAAG,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC;YACnC,IAAM,MAAM,GAAG,CAAC,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChD,IAAM,iBAAiB,GAAG,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC;YACjD,IAAM,gBAAgB,GAAG,iBAAiB,CAAC,GAAG,CAAC,UAAA,UAAU;gBACrD,OAAO,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,GAAC,UAAU,CAAC,QAAQ,GAAC,MAAM,CAAC,KAAK,GAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,GAAC,UAAU,CAAC,QAAQ,GAAC,MAAM,CAAC,MAAM,GAAC,UAAU,CAAC,OAAO,CAAC,CAAC;aACnJ,CAAC,CAAC,GAAG,CAAC,UAAA,KAAK,IAAE,OAAA,eAAe,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,CAAC,QAAQ,IAAI,CAAC,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC,GAAA,CAAC,CAAC,GAAG,CAAC,UAAA,EAAE,IAAE,OAAA,IAAI,CAAC,oBAAoB,CAAC,EAAE,CAAC,GAAA,CAAC,CAAC;YACzH,OAAO,CAAC,MAAM,EAAE,iBAAiB,EAAE,gBAAgB,CAAC,CAAC;SACxD,CAAC;QAEI,IAAA,KAAgD,OAAO,EAAE,EAAxD,MAAM,QAAA,EAAE,iBAAiB,QAAA,EAAE,gBAAgB,QAAa,CAAC;QAEhE,IAAM,MAAM,GAAG,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;YACrC,CAAC,EAAC,MAAM,CAAC,CAAC;YACV,CAAC,EAAC,MAAM,CAAC,CAAC;YACV,KAAK,EAAC,MAAM,CAAC,KAAK;YAClB,MAAM,EAAC,MAAM,CAAC,MAAM;YACpB,IAAI,EAAC,wBAAwB;YAC7B,SAAS,EAAC,aAAU,KAAK,CAAC,KAAK,CAAC,QAAQ,IAAE,CAAC,UAAI,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,SAAI,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,MAAG;SAC3F,CAAC,CAAC,KAAK,CAAC,EAAC,aAAa,EAAC,QAAQ,EAAC,CAAC,CAAC;QAEnC,IAAM,aAAa,GAAG,gBAAgB,CAAC,GAAG,CAAC,UAAC,KAAK,EAAE,KAAK,IAAG,OAAA,SAAS,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC;YACpF,EAAE,EAAC,KAAK,CAAC,CAAC,EAAE,EAAE,EAAC,KAAK,CAAC,CAAC,EAAE,EAAE,EAAC,CAAC,EAAE,EAAE,EAAC,CAAC,EAAE,IAAI,EAAC,yBAAyB,EAAE,KAAK,EAAC,oBAAoB,EAAE,SAAS,EAAC,KAAK;SAClH,CAAC,GAAA,CAAC,CAAC;QAEJ,IAAM,QAAQ,oBAAI,MAAM,GAAK,aAAa,OAAC,CAAC;QAE5C,IAAM,cAAc,GAAG,mBAAmB,CAAC,KAAK,CAAC,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAC3E,IAAM,MAAM,GAAG;gBACL,KAAgC,OAAO,EAAE,EAAxC,MAAM,QAAA,EAAK,gBAAgB,SAAc;YAChD,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;YAC5B,aAAa,CAAC,OAAO,CAAC,UAAC,EAAE,EAAE,GAAG;gBAC1B,IAAM,KAAK,GAAG,gBAAgB,CAAC,GAAG,CAAC,CAAC;gBACpC,EAAE,CAAC,IAAI,CAAC;oBACJ,EAAE,EAAC,KAAK,CAAC,CAAC,EAAE,EAAE,EAAC,KAAK,CAAC,CAAC,EAAE,EAAE,EAAC,CAAC,EAAE,EAAE,EAAC,CAAC;iBACrC,CAAC,CAAC;aACN,CAAC,CAAC;SAEN,CAAC;QAEF,OAAO,CAAC,iBAAiB,EAAE,gBAAgB,EAAE,cAAc,EAAE,MAAM,CAAC,CAAC;IACzE;;ICpCA;QAAmCA,mCAAe;QAAlD;YAAA,qEAsLC;YAlLW,uBAAiB,GAAG,EAAE,CAAC;YAEvB,0BAAoB,GAAG,EAAE,CAAC;;SAgLrC;QAlKG,sBAAY,mCAAQ;iBAApB;gBACI,IAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC;gBACjD,IAAG,QAAQ,EAAE;oBACT,IAAG,QAAQ,CAAC,MAAM,GAAC,CAAC;wBAAE,OAAO;oBAC7B,IAAG,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAC;wBACrB,IAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,eAAe;4BAAE,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC;qBACjE;iBACJ;aACJ;;;WAAA;QAEO,wCAAgB,GAAxB,UAAyB,GAAc;YACnC,IAAM,MAAM,GAAG,GAAG,CAAC,MAAiB,CAAC;YACrC,IAAM,EAAE,GAAG,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;YAChC,IAAG,CAAC,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC;gBAAE,OAAO;YAClC,IAAM,GAAG,GAAG,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;YACxC,IAAG,KAAK,CAAC,GAAG,CAAC;gBAAE,OAAO;YACtB,IAAG,GAAG,KAAK,CAAC;gBAAG,OAAO,gBAAgB,CAAC,MAAM,CAAC;YAC9C,IAAG,GAAG,KAAK,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,MAAM,GAAC,CAAC;gBAAE,OAAO,gBAAgB,CAAC,MAAM,CAAC;SACjF;QAEO,yDAAiC,GAAzC,UAA0C,KAAa;YAAvD,iBAgBC;YAfG,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAM,WAAW,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAA,KAAK;gBAC3B,IAAG,KAAK,YAAY,eAAe;oBAAE,OAAO;gBAC5C,IAAG,CAAC,KAAK,YAAY,iBAAiB,KAAM,KAAK,CAAC,KAAK,CAAC,QAAQ,KAAK,KAAK,EAAC;oBACvE,IAAM,MAAM,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,oBAAoB,CAAC,CAAC;oBACzE,IAAM,IAAI,GAAG,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;oBACxD,IAAG,iBAAiB,CAAC,IAAI,EAAE,KAAK,CAAC,EAAC;wBAC9B,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;qBAC3B;iBACJ;aACJ,CAAC,CAAC;;YAGH,OAAO,WAAW,CAAC,CAAC,CAAC,CAAC;SACzB;QAEO,iDAAyB,GAAjC,UAAkC,KAAuB;YACrD,IAAG,IAAI,CAAC,eAAe;gBAAE,OAAO;YAE1B,IAAA,KAA2D,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,EAApG,kBAAkB,QAAA,EAAE,iBAAiB,QAAA,EAAE,eAAe,QAA8C,CAAC;YAE5G,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;YAC7C,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;YAC3C,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SACpE;QAEO,uDAA+B,GAAvC,UAAwC,GAAc;YAClD,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAM,aAAa,GAAG,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;YAC/D,IAAM,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,UAAA,KAAK,IAAE,OAAA,eAAe,CAAC,SAAS,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC,GAAA,CAAC,CAAC;YACtG,IAAM,eAAe,GAAG,IAAI,CAAC,GAAG,OAAR,IAAI,EAAQ,SAAS,CAAC,CAAC;YAC/C,IAAM,GAAG,GAAG,SAAS,CAAC,SAAS,CAAC,UAAA,CAAC,IAAE,OAAA,CAAC,KAAG,eAAe,GAAA,CAAC,CAAC;YACxD,IAAM,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;YAEjD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;YAChD,IAAG,eAAe,IAAE,IAAI,CAAC,iBAAiB,EAAC;gBACvC,IAAI,CAAC,gBAAgB,GAAG,YAAY,CAAC;gBACrC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,EAAE,YAAY,EAAE,IAAI,CAAC,aAAa,KAAK,gBAAgB,CAAC,MAAM,GAAG,CAAC,GAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,MAAM,GAAC,CAAC,EAAE,IAAI,CAAC,CAAC;aACpJ;iBAAK;gBACF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;aAChC;SAEJ;QAEO,8CAAsB,GAA9B;;YACI,MAAA,IAAI,CAAC,eAAe,0CAAE,MAAM,EAAE,CAAC;YAC/B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;QAED,mCAAW,GAAX;;YACI,OAAO,CAAC,EAAC,MAAA,IAAI,CAAC,OAAO,CAAC,kBAAkB,0CAAE,MAAM,CAAA,CAAC;SACpD;QAED,oCAAY,GAAZ;SACC;QAED,mCAAW,GAAX,UAAY,EAAkB;gBAAjB,GAAG,SAAA;YACZ,IAAG,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAC1B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;SACnD;QAED,mCAAW,GAAX,UAAY,EAAkB;gBAAjB,GAAG,SAAA;YACZ,IAAG,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAE1B,IAAG,IAAI,CAAC,aAAa,KAAK,gBAAgB,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,KAAK,gBAAgB,CAAC,MAAM,EAAC;gBAChG,IAAM,WAAW,GAAG,IAAI,CAAC,iCAAiC,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC,CAAC;gBAClH,IAAG,WAAW,EAAC;oBACX,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC,IAAI,CAAC;oBACtC,IAAI,CAAC,yBAAyB,CAAC,WAAW,CAAC,CAAC;oBAC5C,IAAI,CAAC,+BAA+B,CAAC,GAAG,CAAC,CAAC;iBAC7C;qBAAK;oBACF,IAAI,CAAC,sBAAsB,EAAE,CAAC;iBACjC;aACJ;SACJ;QAED,iCAAS,GAAT;YACI,IAAG,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAE1B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAG,IAAI,CAAC,gBAAgB,EAAC;gBACrB,IAAM,KAAK,GAAG,IAAI,CAAC,aAAa,KAAK,gBAAgB,CAAC,MAAM,GAAG,CAAC,GAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,MAAM,GAAC,CAAC,CAAC;gBACpG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,gBAAgB,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;gBACxE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,aAAa,KAAK,gBAAgB,CAAC,MAAM,CAAC,CAAC;aAGlI;YAED,IAAI,CAAC,sBAAsB,EAAE,CAAC;YAC9B,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC7B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;YAC1B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;SAClC;QAEO,uDAA+B,GAAvC,UAAwC,KAAuB,EAAE,MAAc;YAC3E,IAAM,CAAC,GAAG,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC;YACnC,IAAM,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC;YACtB,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;YAC3B,IAAM,MAAM,GAAG,CAAC,CAAC,SAAS,EAAE,CAAC;YAC7B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAM,gBAAgB,GAAG,UAAC,IAAW,EAAE,QAAgB;gBACnD,IAAM,UAAU,GAAG,QAAQ,GAAC,IAAI,CAAC,gBAAgB,GAAC,IAAI,CAAC,gBAAgB,CAAC;gBACxE,IAAM,KAAK,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC,GAAC,UAAU,CAAC,QAAQ,GAAC,MAAM,CAAC,KAAK,GAAC,UAAU,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,GAAC,UAAU,CAAC,QAAQ,GAAC,MAAM,CAAC,MAAM,GAAC,UAAU,CAAC,OAAO,CAAC,CAAC;gBACvJ,OAAO,eAAe,CAAC,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,IAAE,CAAC,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;aACvE,CAAC;YACF,KAAK,CAAC,OAAO,CAAC,UAAA,IAAI;gBACd,IAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,KAAK,MAAM,CAAC;gBACxC,IAAM,KAAK,GAAG,gBAAgB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;gBAC/C,IAAM,GAAG,GAAG,QAAQ,GAAG,CAAC,GAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAC,CAAC,CAAC;gBAC9C,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAoB,CAAC;gBAChE,MAAM,GAAC,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,GAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;aACxG,CAAC,CAAC;SACN;QAED,oCAAY,GAAZ,UAAa,KAAuB;YAChC,IAAI,CAAC,+BAA+B,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACrD;QAED,sCAAc,GAAd,UAAe,KAAuB;YAClC,IAAI,CAAC,+BAA+B,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SACtD;QAED,sCAAc,GAAd,UAAe,KAAuB;YAClC,IAAI,CAAC,+BAA+B,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACrD;QAED,wCAAgB,GAAhB,UAAiB,KAAuB;YACpC,IAAI,CAAC,+BAA+B,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SACtD;QAED,wCAAgB,GAAhB,UAAiB,KAAuB;YACpC,IAAI,CAAC,+BAA+B,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACrD;QAED,sCAAc,GAAd,UAAe,KAAuB;YAClC,IAAI,CAAC,+BAA+B,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SACtD;QACL,oBAAC;IAAD,CAtLA,CAAmC,eAAe,GAsLjD;IAED,IAAK,gBAGJ;IAHD,WAAK,gBAAgB;QACjB,2DAAM,CAAA;QACN,2DAAM,CAAA;IACV,CAAC,EAHI,gBAAgB,KAAhB,gBAAgB;;IC/LrB;QAAsCA,sCAAe;QAArD;YAAA,qEA4IC;YAvIW,kBAAY,GAAG,KAAK,CAAC;;SAuIhC;QAnIG,sBAAI,sCAAQ;iBAAZ;gBACI,IAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC;gBACjD,IAAG,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAI,CAAC,IAAI,QAAQ,CAAC,CAAC,CAAC,YAAY,iBAAiB,EAAC;oBAC5E,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC;iBACtB;aACJ;;;WAAA;QAED,sCAAW,GAAX;YACI,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC;SAC1B;QAED,uCAAY,GAAZ;YACI,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;QAED,4CAAiB,GAAjB;YACI,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;QAED,qCAAU,GAAV,UAAW,GAAgB;YACvB,IAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,KAAI,KAAK,EAAC;gBAC/D,IAAI,CAAC,aAAa,EAAE,CAAC;aACxB;SACJ;QAED,sCAAW,GAAX;YACI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC5B;QAED,sCAAW,GAAX,UAAY,EAAkB;gBAAjB,GAAG,SAAA;YACZ,IAAM,MAAM,GAAG,GAAG,CAAC,MAAiB,CAAC;YACrC,IAAG,CAAC,MAAM;gBAAE,OAAO;YACnB,IAAG,CAAC,IAAI,CAAC,YAAY;gBAAE,OAAO;YAC9B,IAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC;gBAAE,OAAO;YAEtC,IAAG,IAAI,CAAC,UAAU,EAAC;gBACf,IAAI,CAAC,gBAAgB,EAAE,CAAC;aAC3B;SACJ;QAED,oCAAS,GAAT;YACI,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;SAC7B;QAEO,iCAAM,GAAd;;YACI,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;YAC/B,IAAG,IAAI,CAAC,aAAa,EAAC;gBAClB,IAAM,GAAG,GAAG,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,SAAS,CAAC;gBACpD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;gBACzC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;gBACzE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;gBAC7D,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC7B;YACD,MAAA,IAAI,CAAC,UAAU,0CAAE,MAAM,EAAE,CAAC;YAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;SACrC;QAEO,2CAAgB,GAAxB,UAAyB,GAAgB;YACrC,IAAM,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,MAAiB,CAAC;YACzC,IAAG,CAAC,MAAM;gBAAE,OAAO,KAAK,CAAC;YACzB,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;SAC1C;QAEO,wCAAa,GAArB;YACI,IAAG,CAAC,IAAI,CAAC,UAAU,EAAC;gBAChB,IAAI,CAAC,gBAAgB,EAAE,CAAC;aAC3B;YACD,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,YAAY,EAAE,CAAC;YACpB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC;YACnC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,gBAAgB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YACrE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;SACzE;QAEO,2CAAgB,GAAxB;YACI,IAAI,CAAC,qBAAqB,GAAG,SAAS,CAAC,EAAE,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC,IAAI,CAAC,EAAC,eAAe,EAAC,MAAM,EAAE,EAAE,EAAC,QAAQ,EAAC,CAAC,CAAC,KAAK,CAAC;gBAChH,OAAO,EAAC,MAAM;gBACd,QAAQ,EAAC,KAAK;gBACd,QAAQ,EAAC,MAAM;gBACf,SAAS,EAAC,QAAQ;aACrB,CAAC,CAAC;YACH,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC;YAEvE,IAAM,UAAU,GAAG,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACtD,IAAI,CAAC,UAAU,GAAG,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,WAAW,CAC5D,SAAS,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC,IAAI,cAAK,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,WAAW,CAClF,SAAS,CAAC,EAAE,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC,KAAK,CAAC;gBACvC,KAAK,EAAC,MAAM,EAAE,MAAM,EAAC,MAAM,EAAE,OAAO,EAAC,MAAM;gBAC3C,UAAU,EAAC,QAAQ,EAAE,cAAc,EAAC,QAAQ;gBAC5C,aAAa,EAAC,QAAQ,EAAE,SAAS,EAAC,QAAQ;aAC7C,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAC/D,CACJ,CAAC;YACF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAC/D;QAEO,uCAAY,GAApB;YAAA,iBAeC;YAdG,IAAM,KAAK,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;YACrC,IAAM,GAAG,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;YAClC,IAAM,IAAI,GAAE,CAAC;;gBACT,IAAI,IAAI,GAAG,MAAA,KAAI,CAAC,qBAAqB,CAAC,EAAE,0CAAE,SAAS,CAAC;gBACpD,OAAM,IAAI,CAAC,QAAQ,KAAI,CAAC,EAAC;oBACrB,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;iBACzB;gBACD,OAAO,IAAI,CAAC;aACf,GAAG,CAAC;YACL,IAAM,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACpC,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;YAC1B,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACrB,GAAG,CAAC,eAAe,EAAE,CAAC;YACtB,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACvB;QAEO,2CAAgB,GAAxB;;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC;YACvD,IAAM,MAAM,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,CAAC;YACzC,MAAA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,iBAAiB,EAAE,0CAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAE/D,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;YAC7B,IAAG,CAAC,IAAI,EAAC;gBACL,IAAI,CAAC,qBAAqB,CAAC,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC;aAC1E;iBAAK;gBACF,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACzC;SACJ;QAEO,2CAAgB,GAAxB,UAAyB,GAAc;YACnC,IAAM,MAAM,GAAG,GAAG,CAAC,MAAiB,CAAC;YACrC,OAAO,CAAC,EAAE,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,SAAS,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;SACnG;QACL,uBAAC;IAAD,CA5IA,CAAsC,eAAe;;ICKrD;QAAmCA,mCAAe;QAAlD;YAAA,qEAuIC;YAnIW,qBAAe,GAAG,CAAC,CAAC;;SAmI/B;QApHG,sBAAY,mCAAQ;;iBAApB;gBACI,IAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC;gBACjD,IAAG,QAAQ,EAAE;oBACT,IAAG,QAAQ,CAAC,MAAM,GAAC,CAAC;wBAAE,OAAO;oBAC7B,IAAG,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAC;wBACrB,IAAG,QAAQ,CAAC,CAAC,CAAC,YAAY,iBAAiB;4BAAE,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC;qBACnE;iBACJ;aACJ;;;WAAA;QAED,sBAAY,gCAAK;iBAAjB;;gBACI,OAAO,CAAA,MAAA,IAAI,CAAC,QAAQ,0CAAE,SAAS,KAAI,IAAI,CAAC,QAAQ,CAAC;aACpD;;;WAAA;QAED,yCAAiB,GAAjB,UAAkB,EAAkB;gBAAjB,GAAG,SAAA;YAClB,IAAM,MAAM,GAAG,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,MAAiB,CAAC,CAAC;YACnD,IAAG,GAAG,CAAC,IAAI,KAAK,WAAW,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,EAAE,CAAC,qBAAqB,CAAC,EAAC;gBAC9E,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC;aACvC;SACJ;QAED,mCAAW,GAAX,UAAY,EAAkB;gBAAjB,GAAG,SAAA;YACZ,IAAG,CAAC,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC;gBAAC,OAAO;YAEnC,IAAA,KAAkC,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,EAAnE,WAAW,QAAA,EAAE,gBAAgB,QAAsC,CAAC;YAC3E,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;YAC/B,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;SAC5C;QAED,mCAAW,GAAX,UAAY,EAAyB;gBAAxB,GAAG,SAAA,EAAE,KAAK,WAAA;YACnB,IAAG,KAAK,IAAI,KAAK,YAAY,iBAAiB,EAAC;gBAC3C,IAAG,CAAC,IAAI,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,KAAK,CAAC,QAAQ,KAAI,KAAK,EAAC;oBAClE,IAAA,KAA4D,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,EAA3H,kBAAkB,QAAA,EAAE,iBAAiB,QAAA,EAAE,eAAe,QAAqE,CAAC;oBACnI,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;oBACvC,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAC;oBAC3C,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;oBAC5B,IAAI,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;oBAC7C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;iBAC/D;qBAAK,IAAG,IAAI,CAAC,cAAc,KAAK,KAAK,EAAC;oBACnC,IAAI,CAAC,MAAM,EAAE,CAAC;iBACjB;aACJ;iBAAK,IAAG,CAAC,IAAI,CAAC,gBAAgB,EAAC;gBAC5B,IAAI,CAAC,MAAM,EAAE,CAAC;aACjB;YAED,IAAG,IAAI,CAAC,gBAAgB,EAAC;gBACrB,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;gBAC9B,IAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;gBAC/B,IAAM,OAAO,GAAG,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;gBACzD,IAAG,IAAI,CAAC,SAAS,EAAC;oBACd,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;iBAC5D;qBAAM;oBACH,IAAM,IAAI,GAAG,IAAI,MAAM,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,EAAE,OAAO,CAAC,KAAK,EAAE,CAAC,EAAE,EAAC,KAAK,EAAE,aAAa,CAAC,IAAI,EAAE,SAAS,EAAC,cAAc,CAAC,QAAQ,GAAG,CAAC,CAAC;oBAC5I,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAoB,CAAC;iBAC/D;aAEJ;SACJ;QAED,iCAAS,GAAT,UAAU,EAAkB;gBAAjB,GAAG,SAAA;YACV,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YAC7B,IAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;YAC1B,IAAM,OAAO,GAAG,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;YACzD,IAAG,IAAI,CAAC,SAAS,EAAC;gBACd,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;gBACvD,IAAM,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;gBACxD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;gBACrC,IAAM,WAAW,GAAG,UAAU,CAAC,GAAG,CAAC,UAAC,KAAK;oBACrC,OAAO,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,GAAC,IAAI,CAAC,QAAQ,EAAE,GAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,GAAC,IAAI,CAAC,QAAQ,EAAE,GAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;iBACpH,CAAC,CAAC;gBAEH,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;gBACjC,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC;gBAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;gBACvC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC;gBACzC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aACzB;YAGD,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,CAAC;YACrC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC7B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;YAC9B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;SACzB;QAED,yCAAiB,GAAjB;YACI,IAAG,IAAI,CAAC,QAAQ,EAAC;gBACb,IAAI,CAAC,MAAM,EAAE,CAAC;aACjB;SACJ;QAEO,gDAAwB,GAAhC,UAAiC,QAAgB;YAC7C,IAAM,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YACjD,IAAM,YAAY,GAAG,aAAa,CAAC,UAAU,EAAE,CAAC,GAAG,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;YAC3E,YAAY,aAAZ,YAAY,uBAAZ,YAAY,CAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;SACvC;QAEO,gDAAwB,GAAhC,UAAiC,GAAc;YAC3C,IAAG,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,EAAC;gBAC7B,IAAM,EAAE,GAAE,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,MAAiB,CAAC,CAAC;gBAC9C,IAAM,KAAK,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAChC,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC,CAAC;aAC1E;SACJ;QAEO,2CAAmB,GAA3B,UAA4B,GAAc;YACtC,IAAM,EAAE,GAAE,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC,MAAiB,CAAC,CAAC;YAC9C,OAAO,EAAE,CAAC,EAAE,CAAC,qBAAqB,CAAC,CAAC;SACvC;QAEO,8BAAM,GAAd;;YACI,MAAA,IAAI,CAAC,eAAe,0CAAE,MAAM,EAAE,CAAC;YAC/B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;SAC/B;QACL,oBAAC;IAAD,CAvIA,CAAmC,eAAe;;;QC8D9C,mBAAY,SAAiB,EAAE,IAAuB;YAAvB,qBAAA,EAAA,SAAuB;;;;YA/BtD,kBAAa,GAAG,IAAI,sBAAsB,CAAC,IAAI,CAAC,CAAC;;;;;YAMjD,kBAAa,GAAG,IAAI,eAAe,EAAE,CAAC;;;;;YAMtC,kBAAa,GAAG,IAAI,eAAe,EAAE,CAAC;;;;;;;;;YAUtC,eAAU,GAAG,IAAI,aAAa,EAAE,CAAC;;;;YAKjC,YAAO,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC;YAKjC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC5B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC,EAAE,CAAC,SAAS,EAAE,eAAe,CAAC,CAAC;YAC1D,IAAI,CAAC,IAAI,GAAG,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,KAAK,GAAG,IAAI,OAAO,EAAE,CAAC;YAC3B,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;SAC3C;;;;QAKD,0BAAM,GAAN;YACI,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACjC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;SACnC;QAEO,wCAAoB,GAA5B;YAAA,iBAsBC;YArBG,IAAM,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YAC5C,IAAM,OAAO,GAA2C;gBAChD,EAAC,IAAI,EAAC,cAAc,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,YAAY,CAAC,IAAI,EAAE,GAAG,CAAC,EAAC;gBACjE,EAAC,IAAI,EAAC,cAAc,CAAC,mBAAmB,EAAE,MAAM,EAAE,IAAI,iBAAiB,CAAC,IAAI,EAAE,GAAG,CAAC,EAAC;gBACnF,EAAC,IAAI,EAAC,cAAc,CAAC,cAAc,EAAE,MAAM,EAAE,IAAI,aAAa,CAAC,IAAI,EAAE,GAAG,CAAC,EAAC;gBAC1E,EAAC,IAAI,EAAC,cAAc,CAAC,qBAAqB,EAAE,MAAM,EAAE,IAAI,mBAAmB,CAAC,IAAI,EAAE,GAAG,CAAC,EAAC;gBACvF,EAAC,IAAI,EAAC,cAAc,CAAC,OAAO,EAAE,MAAM,EAAE,IAAI,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,EAAC;gBAC9D,EAAC,IAAI,EAAC,cAAc,CAAC,cAAc,EAAE,MAAM,EAAE,IAAI,aAAa,CAAC,IAAI,EAAE,GAAG,CAAC,EAAC;gBAC1E,EAAC,IAAI,EAAC,cAAc,CAAC,kBAAkB,EAAE,MAAM,EAAE,IAAI,gBAAgB,CAAC,IAAI,EAAE,GAAG,CAAC,EAAC;aACxF,CAAC;;YAGF,IAAG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE;gBACxB,OAAO,CAAC,IAAI,CACR,EAAC,IAAI,EAAC,cAAc,CAAC,UAAU,EAAE,MAAM,EAAE,IAAI,YAAY,CAAC,IAAI,EAAE,GAAG,CAAC,EAAC,CACxE,CAAC;aACL;YAED,OAAO,CAAC,OAAO,CAAC,UAAC,EAAc;oBAAb,IAAI,UAAA,EAAE,MAAM,YAAA;gBAC1B,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;aACxC,CAAC,CAAC;SACN;QAEO,wCAAoB,GAA5B;YACI,IAAM,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YAC5C,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,cAAc,CAAC,WAAW,EAAE,IAAI,UAAU,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC;SACjF;QAED,0BAAM,GAAN,UAAO,QAAe,EAAE,WAAmB;YACvC,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,QAAQ,CAAC;YAClD,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;SACvC;QAED,2BAAO,GAAP,UAAQ,QAAe,EAAE,WAAmB;YACxC,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,QAAQ,CAAC;YAClD,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;SACvC;;;;;;QAOD,0BAAM,GAAN,UAAO,KAAY,EAAE,WAA0C;YAA1C,4BAAA,EAAA,cAAsB,IAAI,CAAC,aAAa,EAAE;YAC3D,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACvC,IAAM,IAAI,GAAG,KAAK,GAAC,SAAS,GAAC,CAAC,CAAC;YAC/B,IAAM,SAAS,GAAG,IAAI,OAAO,CAAC,EAAE,WAAW,CAAC,CAAC,GAAC,IAAI,GAAC,KAAK,CAAC,EAAE,EAAE,WAAW,CAAC,CAAC,GAAC,IAAI,GAAC,KAAK,CAAC,CAAC,CAAC;YACxF,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAC/B,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YAC1B,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;SAC5B;;;;QAKD,kCAAc,GAAd;YAAA,iBAaC;YAZG,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC;YAC1C,KAAK,CAAC,OAAO,CAAC,UAAA,IAAI;gBACd,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC3B,IAAM,UAAU,GAAG,KAAI,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;gBAClD,IAAG,CAAC,UAAU,EAAC;oBACA;wBACP,OAAO,CAAC,IAAI,CAAC,YAAU,MAAM,kBAAe,CAAC,CAAC;qBACjD;oBACD,OAAO;iBACV;gBACD,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;aAC5B,CAAC,CAAC;SACN;;;;;QAMD,iCAAa,GAAb;YACI,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;YAC7B,OAAO,IAAI,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,KAAK,GAAC,CAAC,EAAE,KAAK,CAAC,GAAG,GAAC,KAAK,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;SAC5E;;;;;QAMD,6BAAS,GAAT,UAAU,MAAc;YACpB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC5B,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;SAC5B;QAED,gCAAY,GAAZ,UAAa,SAAiB;YAC1B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;YAClC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;SAC5B;;;;;QAMD,6BAAS,GAAT,UAAU,MAAe;YACrB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC7B,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;SACtB;;;;;;QAOD,2BAAO,GAAP,UAAQ,IAAW;YACf,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YACzB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;SACtB;;;;QAKD,kCAAc,GAAd;YACI,IAAM,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,cAAc,CAAC,MAAM,CAAiB,CAAC;YACnF,YAAY,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC;SACpC;;;;;QAMD,2BAAO,GAAP,UAAQ,IAAkB;YACtB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC;SAC1D;;;;;QAMD,4BAAQ,GAAR,UAAS,IAAkB;YACvB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SAClC;;;;;;QAOD,kCAAc,GAAd,UAAe,MAAe,EAAC,KAA0B;YACrD,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC;YAClC,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACpD,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,iBAAiB,CAAC;SACxD;;;;;;QAOD,gCAAY,GAAZ,UAAa,IAAW,EAAC,KAAwB;YAC7C,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC;YAChC,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAClD,KAAK,CAAC,UAAU,GAAG,eAAe,CAAC,iBAAiB,CAAC;SACxD;QAGD,iCAAa,GAAb,UAAc,SAAgB,EAAE,KAAwB;YACpD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;SAC1D;QAED,2BAAO,GAAP;;YAEI,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;SAC5C;QAEL,gBAAC;IAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}